<!DOCTYPE html>
<html lang="en-US" class="h-100">

<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
  <link rel="stylesheet" href="/assets/css/style.css?v=2c89eb4355a012ce243e61e04b31087f120e28f5"> <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Liu et al, 2019 - P4 | CyCIF</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Liu et al, 2019 - P4" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A Simple Approach to Highly Multiplexed Cell and Tissue Imaging" />
<meta property="og:description" content="A Simple Approach to Highly Multiplexed Cell and Tissue Imaging" />
<meta property="og:site_name" content="CyCIF" />
<script type="application/ld+json">
{"description":"A Simple Approach to Highly Multiplexed Cell and Tissue Imaging","@type":"WebPage","headline":"Liu et al, 2019 - P4","url":"/data/liu-lin-2019/P4.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/assets/css/osd-exhibit.css">

</head>

<body class="d-flex flex-column h-100">
    <!-- style="position:relative" -->

  
  
  
  
  
  

    <header class="m-0">
        <nav class="main-nav navbar navbar-expand-lg navbar-dark fixed-top bg-dark mb-md-4">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>CyCIF</strong>
    </a>
    <button class="navbar-toggler p-2" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="text-white">MENU</span>
    </button>
    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav mr-auto">
        
        <li class="nav-item">
          <a href="/data.html" class="nav-link " style="font-size: 1rem">
            Data
          </a>
        </li>
        
        <li class="nav-item">
          <a href="/method.html" class="nav-link " style="font-size: 1rem">
            Methods and Reagents
          </a>
        </li>
        
        <li class="nav-item">
          <a href="/antibodies" class="nav-link " style="font-size: 1rem">
            Antibodies
          </a>
        </li>
        
        <li class="nav-item">
          <a href="/publications.html" class="nav-link " style="font-size: 1rem">
            Publications
          </a>
        </li>
        
        <li class="nav-item">
          <a href="/people.html" class="nav-link " style="font-size: 1rem">
            People
          </a>
        </li>
        
        <li class="nav-item">
          <a href="/training.html" class="nav-link " style="font-size: 1rem">
            Training
          </a>
        </li>
        
        <li class="nav-item">
          <a href="/funding" class="nav-link " style="font-size: 1rem">
            Funding
          </a>
        </li>
        
      </ul>
          <div class="flex-row ml-md-auto">
  
            <a href="/featured-paper/du-lin-rashid-2019/figures/osd-LUNG_3" class="btn btn-outline-light font-weight-bold" style="font-size: 1rem; background: url(/assets/img/explore_button.jpg) center; background-size: cover;">
              <span class="text-white">
                  Explore CyCIF
              </span> 
            </a>
          </div> 
    </div>
  </div>
</nav>
<nav class="navbar navbar-expand-md navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand" href="#">
      <strong>CyCIF</strong>
    </a>
  </div>
</nav>

    </header>

    <div id="content" class="position-fixed w-100" style="top: 0;left: 0;">
        <div>
            <div id="openseadragon1" class="openseadragon"></div>
            <div id="legend" class="position-absolute"
                 style="pointer-events: none; top: 4rem; right: 8px">
                <div>
                    <div class="btn-group-vertical bg-trans p-2"
                         style="display:inline-block; vertical-align:top;">
                        <a id="toggle-legend" class="p-1" href="javascript;;">
                            <i class="open-legend fas fa-chevron-left" style="font-size: 25px;"></i>
                            <i class="close-legend fas fa-chevron-right" style="font-size: 25px;"></i>
                        </a>
                        <ul id="channel-legend" class="list-unstyled m-0"></ul>
                        <div class="p-1 only-3d">
                          Depth:
                        </div>
                        <div style="text-align: right;">
                          <span id="depth-legend"> </span>
                        </div>
                    </div> 
                    <div id="channel-groups-legend" class="nav flex-column nav-pills p-2 bg-trans"
                         style="display:inline-block; vertical-align:top;
                         pointer-events: all; overflow-y: scroll; max-height: 80vh;">
                    </div>
                    <div id="z-slider-legend" class="bg-trans position-absolute p-3"
                         style="pointer-events: all;">
                        <input id="z-slider" type="range" class="bg-trans w-100"/>
                    </div>
                </div>
            </div>
            <div id="sidebar-menu" class="container position-absolute">
                <div class="row">
                    <div class="col-11 bg-trans waypoint-content p-3" style="max-height: 80vh; overflow-y: scroll">
                        <div class="row">
                            <div class="col-10">
                                <h3 id="imageName" class="m-0"></h3>
                            </div>
                            <div class="col-2">
                                <a class="btn text-light d-none" id="home-button"
                                    href="/data">
                                    <i class="fas fa-home"></i>
                                </a>
                                <a class="btn text-light d-none" id="toc-button">
                                    <i class="fas fa-list-ul"></i>
                                </a>
                            </div>
                        </div>
                        <hr>
                        <div id="waypointControls" class="row align-items-center my-4">
                            <div class="col-2 text-center" id="leftArrow">
                                <i class="fas fa-arrow-left" style="font-size: 25px"></i>
                            </div>
                            <div class="col-8">
                              
                                <audio style="height: 25px; width:100%" id="audioPlayback" controls>
                                  <source id="audioSource" type="audio/mp3" src="">
                                </audio> 
                              
                            </div>
                            <div class="col-2 text-center" id="rightArrow">
                                <i class="fas fa-arrow-right" style="font-size: 25px;"></i>
                            </div>
                        </div>
                        <!-- <hr> -->
                        <div class="row">
                            <div id="waypointName" class="col-10 h6 mt-0 mb-3">
                            </div>
                            <div id="waypointCount" class="col-2"></div>
                        </div>
                        <div id="viewer-waypoint">
                        </div>
                        <div>
                            <p id="channel-label" class="mb-1 font-weight-bold pt-2">Select a marker group:</p>
                            <select id="group-picker" class="editControls selectpicker" multiple>
                                
                                    <option>Architecure</option>
                                
                                    <option>T Cell Infiltrate</option>
                                
                                    <option>Proliferation</option>
                                
                                    <option>Differentiation State</option>
                                
                            </select>
                            <div id="channel-groups" class="nav flex nav-pills"></div>
                            <p id="mask-label" class="mb-1 font-weight-bold pt-2">Add data layer:</p>
                            <select id="mask-picker" class="editControls selectpicker" multiple>
                                
                            </select>
                            <div id="mask-layers" class="nav flex nav-pills">
                            </div>
                        </div>
                        <div>
                            <div id="story-container"></div>
                        </div>
                    </div>
                    <div class="col-1 p-0">
                        <div class="btn-group-vertical bg-trans"> 
                            <a id="toggle-sidebar" class="btn" href="javascript;;">
                                <i class="close-sidebar fas fa-chevron-left" style="font-size: 25px;"></i>
                                <i class="open-sidebar fas fa-chevron-right" style="font-size: 25px;"></i>
                            </a>
                        </div> 
                        <div class="btn-group-vertical bg-trans">
                            <a class="btn text-light" id="zoom-out" href="#zoom-out">
                                <i class="fas fa-search-minus"></i>
                            </a>
                            <a class="btn text-light" id="zoom-in" href="#zoom-in">
                                <i class="fas fa-search-plus"></i>
                            </a>
                            <span id="arrow-switch" class="nav-item arrow-switch">
                            <a class="btn" href="javascript:;">
                                <span class=""><i class="fas fa-location-arrow"></i></span>
                            </a>
                            </span>
                            <span id="lasso-switch" class="nav-item lasso-switch">
                            <a class="btn" href="javascript:;">
                                <span class=""><i class="fas fa-bullseye"></i></span>
                            </a>
                            </span>
                            <span id="draw-switch" class="nav-item draw-switch">
                            <a class="btn" href="javascript:;">
                                <span class=""><i class="fas fa-crosshairs"></i></span>
                            </a>
                            </span>
                            <a class="btn" id='duplicate-view'>
                                <span class=""><i class="fas fa-clone"></i></span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div id="viewer-tool" class="position-absolute bg-trans" style="right:1.5%; top: 40vh;">
            </div>
        </div>
    </div>

    <div class="d-none">
        <input type="file" id="file-upload" class="d-none" />
        <ul>
            <li class="nav-item rounded-0" id="proto-story-index">
                <a class="nav-link list-group-item-action font-weight-bold"></a>
            </li>
        </ul>

        <div id="arrow-overlay" class="arrow-overlay">
          <div id="arrowhead-image">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="48"
   height="51.69223"
   viewBox="0 0 12.711991 13.676902"
   version="1.1"
   id="svg8"
   inkscape:version="0.92.2 5c3e80d, 2017-08-06"
   sodipodi:docname="arrowhead.svg">
  <defs
     id="defs2" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8"
     inkscape:cx="215.21359"
     inkscape:cy="30.005484"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="false"
     inkscape:window-width="1440"
     inkscape:window-height="855"
     inkscape:window-x="366"
     inkscape:window-y="127"
     inkscape:window-maximized="0"
     units="px"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0">
    <inkscape:grid
       type="xygrid"
       id="grid93"
       originx="-80.574495"
       originy="-156.63291" />
    <inkscape:grid
       type="xygrid"
       id="grid3784"
       originx="-80.574495"
       originy="-156.63291" />
  </sodipodi:namedview>
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-80.487169,-126.68424)">
    <path
       style="fill:#000000;stroke:#ffffff;stroke-width:0.65998453;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 90.862994,132.64086 1.759972,-5.27987 -11.439757,6.15985 11.439757,6.15987 -1.759972,-5.27988 c -0.185517,-0.55655 -0.185517,-1.20342 0,-1.75997 z"
       id="path91"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="scccss" />
  </g>
</svg>

          </div>
          <div id="arrow-image">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="122.79958"
   height="51.401581"
   viewBox="0 0 32.521399 13.600001"
   version="1.1"
   id="svg8"
   inkscape:version="0.92.2 5c3e80d, 2017-08-06"
   sodipodi:docname="arrow.svg">
  <defs
     id="defs2" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="3.959798"
     inkscape:cx="154.51108"
     inkscape:cy="29.572515"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="false"
     inkscape:window-width="1440"
     inkscape:window-height="855"
     inkscape:window-x="0"
     inkscape:window-y="1"
     inkscape:window-maximized="1"
     units="px"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0">
    <inkscape:grid
       type="xygrid"
       id="grid93"
       originx="-80.574492"
       originy="-156.63309" />
    <inkscape:grid
       type="xygrid"
       id="grid3784"
       originx="-80.574492"
       originy="-156.63309" />
  </sodipodi:namedview>
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-80.487168,-126.76104)">
    <path
       style="fill:#000000;stroke:#ffffff;stroke-width:0.6562736;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 90.804653,132.6843 1.750076,-5.25019 -11.375434,6.12522 11.375434,6.12523 -1.750076,-5.25019 h 21.875777 v -1.75007 z"
       id="path91"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cccccccc" />
  </g>
</svg>

          </div>
          <div id="arrow-text">
            <div class="arrow-label p-3 bg-trans" style="max-width: 200px;">
            </div>
          </div>
        </div>

        <form class="form save_edits_form">
            <div class="input-group">
                <div style="width: 100%; margin-bottom: 5px">
                    <input class="form-control edit_name editable bg-dark text-white rounded-0 border-0" type="text">
                    </input>
                    <br>
                    <textarea class="form-control edit_text editable bg-dark text-white rounded-0 border-0" rows="9">
                    </textarea>
                    <br>
                    <div class="row">
                        <div id="edit_toggle_arrow" class="col-2 text-center">
                            <i class="fas fa-location-arrow"></i>
                        </div>
                        <div class="col-10">
                            <input class="form-control edit_arrow_text editable bg-dark text-white rounded-0 border-0" type="text">
                            </input>
                        </div>
                    </div>
                </div>
                <button class="btn btn-default edit_copy_button px-1  " data-placement="bottom">
                    <i class="fas fa-copy fa-lg"></i><br>
                    <span class="mt-2 d-block" style="font-size: 0.7rem">
                                    COPY
                    </span>
                </button>
            </div>
        </form>

        <div id="readme">
        </div>
    </div>


    <div id="password_modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Minerva Password</h2>
                </div>
                <div class="modal-body">

                    <form class="form">
                        <div class="form-group">
                            <input type=password class="form-control" name="p">
                        </div>
                        <button type="submit" class="btn btn-primary">Enter</button>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <div id="edit_description_modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content text-dark">
                <div class="modal-header">
                    <h2 class="modal-title m-0 h5">Region of Interest</h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form class="form">
                        <div class="form-group text-bold">
                            <label> Enter a description for the selected region. </label>
                            <textarea class="form-control" name="d" rows="4"></textarea>
                        </div>
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Make Shareable Link</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div id="welcome_modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content text-dark">
                <div class="modal-header">
                    <h2 class="modal-title m-0 h5">Welcome</h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    You're looking at an image layering
                    <span class="channel_count"></span>
                    CyCIF markers.
                    Use the <i class="fas fa-arrow-left"></i>
                    and <i class="fas fa-arrow-right"></i>
                    arrows to move between highlighted image regions.
                    Click <i class="fas fa-list-ul"></i>
                    to return here to an overview of the full image.
                    Use <i class="fas fa-search-minus"></i> to zoom out
                    and <i class="fas fa-search-plus"></i> to zoom in.
                    </br>
                    </br>
                    To share your own highlighted image regions,
                    click <i class="fas fa-location-arrow"></i> to
                    point an arrow at a small feature,
                    click <i class="fas fa-bullseye"></i> to select
                    a feature with a custom shape, and
                    click <i class="fas fa-crosshairs"></i> to share a
                    boundary around a rectangular region.
                    Click <i class="fas fa-clone"></i> to open a
                    new window with shared navigation.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <div id="copy_link_modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content text-dark">
                <div class="modal-header">
                    <h2 class="modal-title m-0 h5">Region of Interest</h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form class="form">
                        <div class="input-group">
                            <input type="text" class="form-control" id="copy_link" name="copy_content" placeholder="Some path">
                            <span class="input-group-btn">
                                <button class="btn btn-default modal_copy_button" type="submit" data-toggle="tooltip" data-placement="bottom">
                                    Copy
                                </button>
                            </span>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div id="all-overlays" class="d-none">
    </div>

    <script> 
       !function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){var i;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,l=o.slice,u=o.concat,c=o.push,f=o.indexOf,d={},h=d.toString,p=d.hasOwnProperty,g=p.toString,m=g.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},_={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var i,r,o=(n=n||s).createElement("script");if(o.text=e,t)for(i in _)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function E(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e}var x=function(e,t){return new x.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(e){var t=!!e&&"length"in e&&e.length,n=E(e);return!y(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:"3.4.1",constructor:x,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},x.extend=x.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(u&&i&&(x.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[t],o=r&&!Array.isArray(n)?[]:r||x.isPlainObject(n)?n:{},r=!1,s[t]=x.extend(u,o,i)):void 0!==i&&(s[t]=i));return s},x.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=a(e))||"function"==typeof(n=p.call(t,"constructor")&&t.constructor)&&g.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){w(e,{nonce:t&&t.nonce})},each:function(e,t){var n,i=0;if(C(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?x.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:f.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(C(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return u.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=o[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var D=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(e){var t,n,i,r,o,s,a,l,u,c,f,d,h,p,g,m,v,y,b,_="sizzle"+1*new Date,w=e.document,E=0,x=0,T=le(),C=le(),D=le(),S=le(),A=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,k=[],I=k.pop,O=k.push,j=k.push,L=k.slice,P=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",q=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),U=new RegExp("^"+M+"*,"+M+"*"),$=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),K=new RegExp(M+"|>"),Q=new RegExp(W),V=new RegExp("^"+R+"$"),Y={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},z=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){d()},se=_e((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{j.apply(k=L.call(w.childNodes),w.childNodes),k[w.childNodes.length].nodeType}catch(e){j={apply:k.length?function(e,t){O.apply(e,L.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(e,t,i,r){var o,a,u,c,f,p,v,y=t&&t.ownerDocument,E=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==E&&9!==E&&11!==E)return i;if(!r&&((t?t.ownerDocument||t:w)!==h&&d(t),t=t||h,g)){if(11!==E&&(f=Z.exec(e)))if(o=f[1]){if(9===E){if(!(u=t.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&b(t,u)&&u.id===o)return i.push(u),i}else{if(f[2])return j.apply(i,t.getElementsByTagName(e)),i;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return j.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!S[e+" "]&&(!m||!m.test(e))&&(1!==E||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===E&&K.test(e)){for((c=t.getAttribute("id"))?c=c.replace(ie,re):t.setAttribute("id",c=_),a=(p=s(e)).length;a--;)p[a]="#"+c+" "+be(p[a]);v=p.join(","),y=ee.test(e)&&ve(t.parentNode)||t}try{return j.apply(i,y.querySelectorAll(v)),i}catch(t){S(e,!0)}finally{c===_&&t.removeAttribute("id")}}}return l(e.replace(B,"$1"),t,i,r)}function le(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ue(e){return e[_]=!0,e}function ce(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function de(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue((function(t){return t=+t,ue((function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!z.test(t||n&&n.nodeName||"HTML")},d=ae.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:w;return s!==h&&9===s.nodeType&&s.documentElement?(p=(h=s).documentElement,g=!o(h),w!==h&&(r=h.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(h.getElementsByClassName),n.getById=ce((function(e){return p.appendChild(e).id=_,!h.getElementsByName||!h.getElementsByName(_).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=J.test(h.querySelectorAll))&&(ce((function(e){p.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+M+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+_+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",W)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(p.compareDocumentPosition),b=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return f=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===h||e.ownerDocument===w&&b(w,e)?-1:t===h||t.ownerDocument===w&&b(w,t)?1:c?P(c,e)-P(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===h?-1:t===h?1:r?-1:o?1:c?P(c,e)-P(c,t):0;if(r===o)return de(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?de(s[i],a[i]):s[i]===w?-1:a[i]===w?1:0},h):h},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&d(e),n.matchesSelector&&g&&!S[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){S(t,!0)}return ae(t,h,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==h&&d(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==h&&d(e);var r=i.attrHandle[t.toLowerCase()],o=r&&N.call(i.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(ie,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,i=[],r=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(A),f){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return c=null,e},r=ae.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=ae.selectors={cacheLength:50,createPseudo:ue,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Q.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&T(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=ae.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(q," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,h,p,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(b=(h=(u=(c=(f=(d=m)[_]||(d[_]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===E&&u[1])&&u[2],d=h&&m.childNodes[h];d=++h&&d&&d[g]||(b=h=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){c[e]=[E,h,b];break}}else if(y&&(b=h=(u=(c=(f=(d=t)[_]||(d[_]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===E&&u[1]),!1===b)for(;(d=++h&&d&&d[g]||(b=h=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(f=d[_]||(d[_]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[E,b]),d!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[_]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=P(e,o[s])]=!(n[i]=o[s])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ue((function(e){var t=[],n=[],i=a(e.replace(B,"$1"));return i[_]?ue((function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return ae(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:ue((function(e){return V.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:me((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function _e(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=x++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var u,c,f,d=[E,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(c=(f=t[_]||(t[_]={}))[t.uniqueID]||(f[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[o])&&u[0]===E&&u[1]===a)return d[2]=u[2];if(c[o]=d,d[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function Ee(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),u&&t.push(a)));return s}function xe(e,t,n,i,r,o){return i&&!i[_]&&(i=xe(i)),r&&!r[_]&&(r=xe(r,o)),ue((function(o,s,a,l){var u,c,f,d=[],h=[],p=s.length,g=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ae(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:Ee(g,d,e,a,l),v=n?r||(o?e:p||i)?[]:s:m;if(n&&n(m,v,a,l),i)for(u=Ee(v,h),i(u,[],a,l),c=u.length;c--;)(f=u[c])&&(v[h[c]]=!(m[h[c]]=f));if(o){if(r||e){if(r){for(u=[],c=v.length;c--;)(f=v[c])&&u.push(m[c]=f);r(null,v=[],u,l)}for(c=v.length;c--;)(f=v[c])&&(u=r?P(o,f):d[c])>-1&&(o[u]=!(s[u]=f))}}else v=Ee(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):j.apply(s,v)}))}function Te(e){for(var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=_e((function(e){return e===t}),a,!0),f=_e((function(e){return P(t,e)>-1}),a,!0),d=[function(e,n,i){var r=!s&&(i||n!==u)||((t=n).nodeType?c(e,n,i):f(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])d=[_e(we(d),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[_]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return xe(l>1&&we(d),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(B,"$1"),n,l<r&&Te(e.slice(l,r)),r<o&&Te(e=e.slice(r)),r<o&&be(e))}d.push(n)}return we(d)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,s=ae.tokenize=function(e,t){var n,r,o,s,a,l,u,c=C[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=i.preFilter;a;){for(s in n&&!(r=U.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=$.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),i.filter)!(r=Y[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):C(e,l).slice(0)},a=ae.compile=function(e,t){var n,r=[],o=[],a=D[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=Te(t[n]))[_]?r.push(a):o.push(a);(a=D(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,s,a,l,c){var f,p,m,v=0,y="0",b=o&&[],_=[],w=u,x=o||r&&i.find.TAG("*",c),T=E+=null==w?1:Math.random()||.1,C=x.length;for(c&&(u=s===h||s||c);y!==C&&null!=(f=x[y]);y++){if(r&&f){for(p=0,s||f.ownerDocument===h||(d(f),a=!g);m=e[p++];)if(m(f,s||h,a)){l.push(f);break}c&&(E=T)}n&&((f=!m&&f)&&v--,o&&b.push(f))}if(v+=y,n&&y!==v){for(p=0;m=t[p++];)m(b,_,s,a);if(o){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=I.call(l));_=Ee(_)}j.apply(l,_),c&&!o&&_.length>0&&v+t.length>1&&ae.uniqueSort(l)}return c&&(E=T,u=w),b};return n?ue(o):o}(o,r))).selector=e}return a},l=ae.select=function(e,t,n,r){var o,l,u,c,f,d="function"==typeof e&&e,h=!r&&s(e=d.selector||e);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&g&&i.relative[l[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=Y.needsContext.test(e)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((f=i.find[c])&&(r=f(u.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&be(l)))return j.apply(n,r),n;break}}return(d||a(e,h))(r,t,!g,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=_.split("").sort(A).join("")===_,n.detectDuplicates=!!f,d(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||fe("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||fe("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||fe(H,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),ae}(n);x.find=D,x.expr=D.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=D.uniqueSort,x.text=D.getText,x.isXMLDoc=D.isXML,x.contains=D.contains,x.escapeSelector=D.escape;var S=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&x(e).is(n))break;i.push(e)}return i},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=x.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,n){return y(t)?x.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?x.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?x.grep(e,(function(e){return f.call(t,e)>-1!==n})):x.filter(t,e,n)}x.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?x.find.matchesSelector(i,e)?[i]:[]:x.find.matches(e,x.grep(t,(function(e){return 1===e.nodeType})))},x.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(x(e).filter((function(){for(t=0;t<i;t++)if(x.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)x.find(e,r[t],n);return i>1?x.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&N.test(e)?x(e):e||[],!1).length}});var j,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||j,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),I.test(i[1])&&x.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,j=x(s);var P=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&x(e);if(!N.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?f.call(x(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,n){return S(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,n){return S(e,"nextSibling",n)},prevUntil:function(e,t,n){return S(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(k(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},(function(e,t){x.fn[e]=function(n,i){var r=x.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=x.filter(i,r)),this.length>1&&(H[e]||x.uniqueSort(r),P.test(e)&&r.reverse()),this.pushStack(r)}}));var R=/[^\x20\t\r\n\f]+/g;function F(e){return e}function W(e){throw e}function q(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(R)||[],(function(e,n){t[n]=!0})),t}(e):x.extend({},e);var t,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){x.each(n,(function(n,i){y(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==E(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return x.each(arguments,(function(e,t){for(var n;(n=x.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?x.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},x.extend({Deferred:function(e){var t=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return x.Deferred((function(n){x.each(t,(function(t,i){var r=y(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,r){var o=0;function s(e,t,i,r){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(e<o)){if((n=i.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(u)?r?u.call(n,s(o,t,F,r),s(o,t,W,r)):(o++,u.call(n,s(o,t,F,r),s(o,t,W,r),s(o,t,F,t.notifyWith))):(i!==F&&(a=void 0,l=[n]),(r||t.resolveWith)(a,l))}},c=r?u:function(){try{u()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,c.stackTrace),e+1>=o&&(i!==W&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?c():(x.Deferred.getStackHook&&(c.stackTrace=x.Deferred.getStackHook()),n.setTimeout(c))}}return x.Deferred((function(n){t[0][3].add(s(0,n,y(r)?r:F,n.notifyWith)),t[1][3].add(s(0,n,y(e)?e:F)),t[2][3].add(s(0,n,y(i)?i:W))})).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},o={};return x.each(t,(function(e,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add((function(){i=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=l.call(arguments),o=x.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(q(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)q(r[n],s(n),o.reject);return o.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&B.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},x.readyException=function(e){n.setTimeout((function(){throw e}))};var U=x.Deferred();function $(){s.removeEventListener("DOMContentLoaded",$),n.removeEventListener("load",$),x.ready()}x.fn.ready=function(e){return U.then(e).catch((function(e){x.readyException(e)})),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||U.resolveWith(s,[x]))}}),x.ready.then=U.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(x.ready):(s.addEventListener("DOMContentLoaded",$),n.addEventListener("load",$));var K=function(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===E(n))for(a in r=!0,n)K(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,y(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(x(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:u?t.call(e):l?t(e[0],n):o},Q=/^-ms-/,V=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function z(e){return e.replace(Q,"ms-").replace(V,Y)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=x.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[z(t)]=n;else for(i in t)r[z(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(z):(t=z(t))in i?[t]:t.match(R)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||x.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var J=new G,Z=new G,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return Z.hasData(e)||J.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=Z.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=z(i.slice(5)),ne(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){Z.set(this,e)})):K(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=Z.get(o,e))||void 0!==(n=ne(o,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),x.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=J.get(e,t),n&&(!i||Array.isArray(n)?i=J.access(e,t,x.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),i=n.length,r=n.shift(),o=x._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){x.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:x.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each((function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){x.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=x.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=J.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=s.documentElement,ae=function(e){return x.contains(e.ownerDocument,e)},le={composed:!0};se.getRootNode&&(ae=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===x.css(e,"display")},ce=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=s[o];return r};function fe(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return x.css(e,t,"")},l=a(),u=n&&n[3]||(x.cssNumber[t]?"":"px"),c=e.nodeType&&(x.cssNumber[t]||"px"!==u&&+l)&&re.exec(x.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)x.style(e,t,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,x.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var de={};function he(e){var t,n=e.ownerDocument,i=e.nodeName,r=de[i];return r||(t=n.body.appendChild(n.createElement(i)),r=x.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),de[i]=r,r)}function pe(e,t){for(var n,i,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ue(i)&&(r[o]=he(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}x.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ue(this)?x(this).show():x(this).hide()}))}});var ge=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i,ye={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?x.merge([e],n):n}function _e(e,t){for(var n=0,i=e.length;n<i;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}ye.optgroup=ye.option,ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td;var we,Ee,xe=/<|&#?\w+;/;function Te(e,t,n,i,r){for(var o,s,a,l,u,c,f=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===E(o))x.merge(d,o.nodeType?[o]:o);else if(xe.test(o)){for(s=s||f.appendChild(t.createElement("div")),a=(me.exec(o)||["",""])[1].toLowerCase(),l=ye[a]||ye._default,s.innerHTML=l[1]+x.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;x.merge(d,s.childNodes),(s=f.firstChild).textContent=""}else d.push(t.createTextNode(o));for(f.textContent="",h=0;o=d[h++];)if(i&&x.inArray(o,i)>-1)r&&r.push(o);else if(u=ae(o),s=be(f.appendChild(o),"script"),u&&_e(s),n)for(c=0;o=s[c++];)ve.test(o.type||"")&&n.push(o);return f}we=s.createDocumentFragment().appendChild(s.createElement("div")),(Ee=s.createElement("input")).setAttribute("type","radio"),Ee.setAttribute("checked","checked"),Ee.setAttribute("name","t"),we.appendChild(Ee),v.checkClone=we.cloneNode(!0).cloneNode(!0).lastChild.checked,we.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!we.cloneNode(!0).lastChild.defaultValue;var Ce=/^key/,De=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function Ae(){return!0}function Ne(){return!1}function ke(e,t){return e===function(){try{return s.activeElement}catch(e){}}()==("focus"===t)}function Ie(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Ie(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ne;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return x().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=x.guid++)),e.each((function(){x.event.add(this,t,r,i,n)}))}function Oe(e,t,n){n?(J.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var i,r,o=J.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=l.call(arguments),J.set(this,t,o),i=n(this,t),this[t](),o!==(r=J.get(this,t))||i?J.set(this,t,!1):r={},o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else o.length&&(J.set(this,t,{value:x.event.trigger(x.extend(o[0],x.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&x.event.add(e,t,Ae)}x.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,f,d,h,p,g,m=J.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&x.find.matchesSelector(se,r),n.guid||(n.guid=x.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(R)||[""]).length;u--;)h=g=(a=Se.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),h&&(f=x.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,f=x.event.special[h]||{},c=x.extend({type:h,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[h])||((d=l[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(h,s)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),x.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,u,c,f,d,h,p,g,m=J.hasData(e)&&J.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(R)||[""]).length;u--;)if(h=g=(a=Se.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),h){for(f=x.event.special[h]||{},d=l[h=(i?f.delegateType:f.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));s&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,p,m.handle)||x.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)x.event.remove(e,h+t[u],n,i,!0);x.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=x.event.fix(e),l=new Array(arguments.length),u=(J.get(this,"events")||{})[a.type]||[],c=x.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=x.event.handlers.call(this,a,u),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((x.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?x(r,this).index(u)>-1:x.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&k(t,"input")&&Oe(t,"click",Ae),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&k(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&k(t,"input")&&J.get(t,"click")||k(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ae:Ne,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ae,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ae,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ae,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ce.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&De.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},(function(e,t){x.event.special[e]={setup:function(){return Oe(this,e,ke),!1},trigger:function(){return Oe(this,e),!0},delegateType:t}})),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||x.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),x.fn.extend({on:function(e,t,n,i){return Ie(this,e,t,n,i)},one:function(e,t,n,i){return Ie(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ne),this.each((function(){x.event.remove(this,e,n,t)}))}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Le=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Me(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Fe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var n,i,r,o,s,a,l,u;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),s=J.set(t,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)x.event.add(t,r,u[r][n]);Z.hasData(e)&&(a=Z.access(e),l=x.extend({},a),Z.set(t,l))}}function qe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Be(e,t,n,i){t=u.apply([],t);var r,o,s,a,l,c,f=0,d=e.length,h=d-1,p=t[0],g=y(p);if(g||d>1&&"string"==typeof p&&!v.checkClone&&Pe.test(p))return e.each((function(r){var o=e.eq(r);g&&(t[0]=p.call(this,r,o.html())),Be(o,t,n,i)}));if(d&&(o=(r=Te(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=x.map(be(r,"script"),Re)).length;f<d;f++)l=r,f!==h&&(l=x.clone(l,!0,!0),a&&x.merge(s,be(l,"script"))),n.call(e[f],l,f);if(a)for(c=s[s.length-1].ownerDocument,x.map(s,Fe),f=0;f<a;f++)l=s[f],ve.test(l.type||"")&&!J.access(l,"globalEval")&&x.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?x._evalUrl&&!l.noModule&&x._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):w(l.textContent.replace(He,""),l,c))}return e}function Ue(e,t,n){for(var i,r=t?x.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||x.cleanData(be(i)),i.parentNode&&(n&&ae(i)&&_e(be(i,"script")),i.parentNode.removeChild(i));return e}x.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=ae(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=be(a),i=0,r=(o=be(e)).length;i<r;i++)qe(o[i],s[i]);if(t)if(n)for(o=o||be(e),s=s||be(a),i=0,r=o.length;i<r;i++)We(o[i],s[i]);else We(e,a);return(s=be(a,"script")).length>0&&_e(s,!l&&be(e,"script")),a},cleanData:function(e){for(var t,n,i,r=x.event.special,o=0;void 0!==(n=e[o]);o++)if(X(n)){if(t=n[J.expando]){if(t.events)for(i in t.events)r[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),x.fn.extend({detach:function(e){return Ue(this,e,!0)},remove:function(e){return Ue(this,e)},text:function(e){return K(this,(function(e){return void 0===e?x.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Be(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)}))},prepend:function(){return Be(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return x.clone(this,e,t)}))},html:function(e){return K(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!ye[(me.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Be(this,arguments,(function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(be(this)),n&&n.replaceChild(t,this))}),e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){x.fn[e]=function(e){for(var n,i=[],r=x(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),x(r[s])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var $e=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Qe=new RegExp(oe.join("|"),"i");function Ve(e,t,n){var i,r,o,s,a=e.style;return(n=n||Ke(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||ae(e)||(s=x.style(e,t)),!v.pixelBoxStyles()&&$e.test(s)&&Qe.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(u).appendChild(c);var e=n.getComputedStyle(c);i="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),r=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),se.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var i,r,o,a,l,u=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,x.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var ze=["Webkit","Moz","ms"],Xe=s.createElement("div").style,Ge={};function Je(e){var t=x.cssProps[e]||Ge[e];return t||(e in Xe?e:Ge[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in Xe)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function it(e,t,n){var i=re.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function rt(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=x.css(e,n+oe[s],!0,r)),i?("content"===n&&(l-=x.css(e,"padding"+oe[s],!0,r)),"margin"!==n&&(l-=x.css(e,"border"+oe[s]+"Width",!0,r))):(l+=x.css(e,"padding"+oe[s],!0,r),"padding"!==n?l+=x.css(e,"border"+oe[s]+"Width",!0,r):a+=x.css(e,"border"+oe[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function ot(e,t,n){var i=Ke(e),r=(!v.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,i),o=r,s=Ve(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&r||"auto"===s||!parseFloat(s)&&"inline"===x.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===x.css(e,"boxSizing",!1,i),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+rt(e,t,n||(r?"border":"content"),o,i,s)+"px"}function st(e,t,n,i,r){return new st.prototype.init(e,t,n,i,r)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ve(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=z(t),l=et.test(t),u=e.style;if(l||(t=Je(a)),s=x.cssHooks[t]||x.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:u[t];"string"===(o=typeof n)&&(r=re.exec(n))&&r[1]&&(n=fe(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(x.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o,s,a=z(t);return et.test(t)||(t=Je(a)),(s=x.cssHooks[t]||x.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Ve(e,t,i)),"normal"===r&&t in nt&&(r=nt[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),x.each(["height","width"],(function(e,t){x.cssHooks[t]={get:function(e,n,i){if(n)return!Ze.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,i):ce(e,tt,(function(){return ot(e,t,i)}))},set:function(e,n,i){var r,o=Ke(e),s=!v.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===x.css(e,"boxSizing",!1,o),l=i?rt(e,t,i,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-rt(e,t,"border",!1,o)-.5)),l&&(r=re.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),it(0,n,l)}}})),x.cssHooks.marginLeft=Ye(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ve(e,"marginLeft"))||e.getBoundingClientRect().left-ce(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),x.each({margin:"",padding:"",border:"Width"},(function(e,t){x.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+oe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(x.cssHooks[e+t].set=it)})),x.fn.extend({css:function(e,t){return K(this,(function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=Ke(e),r=t.length;s<r;s++)o[t[s]]=x.css(e,t[s],!1,i);return o}return void 0!==n?x.style(e,t,n):x.css(e,t)}),e,t,arguments.length>1)}}),x.Tween=st,st.prototype={constructor:st,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return e&&e.get?e.get(this):st.propHooks._default.get(this)},run:function(e){var t,n=st.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):st.propHooks._default.set(this),this}},st.prototype.init.prototype=st.prototype,st.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}},st.propHooks.scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=st.prototype.init,x.fx.step={};var at,lt,ut=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ft(){lt&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ft):n.setTimeout(ft,x.fx.interval),x.fx.tick())}function dt(){return n.setTimeout((function(){at=void 0})),at=Date.now()}function ht(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=oe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function pt(e,t,n){for(var i,r=(gt.tweeners[t]||[]).concat(gt.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function gt(e,t,n){var i,r,o=0,s=gt.prefilters.length,a=x.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=at||dt(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(e,[u,i,n]),i<1&&s?n:(s||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:at||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=z(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=x.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=gt.prefilters[o].call(u,e,c,u.opts))return y(i.stop)&&(x._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return x.map(c,pt,u),y(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}x.Animation=x.extend(gt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return fe(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(R);for(var n,i=0,r=e.length;i<r;i++)n=e[i],gt.tweeners[n]=gt.tweeners[n]||[],gt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,u,c,f="width"in t||"height"in t,d=this,h={},p=e.style,g=e.nodeType&&ue(e),m=J.get(e,"fxshow");for(i in n.queue||(null==(s=x._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()}))}))),t)if(r=t[i],ut.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}h[i]=m&&m[i]||x.style(e,i)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(h))for(i in f&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=J.get(e,"display")),"none"===(c=x.css(e,"display"))&&(u?c=u:(pe([e],!0),u=e.style.display||u,c=x.css(e,"display"),pe([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===x.css(e,"float")&&(l||(d.done((function(){p.display=u})),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,h)l||(m?"hidden"in m&&(g=m.hidden):m=J.access(e,"fxshow",{display:u}),o&&(m.hidden=!g),g&&pe([e],!0),d.done((function(){for(i in g||pe([e]),J.remove(e,"fxshow"),h)x.style(e,i,h[i])}))),l=pt(g?m[i]:0,i,d),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?gt.prefilters.unshift(e):gt.prefilters.push(e)}}),x.speed=function(e,t,n){var i=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in x.fx.speeds?i.duration=x.fx.speeds[i.duration]:i.duration=x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=x.isEmptyObject(e),o=x.speed(t,n,i),s=function(){var t=gt(this,x.extend({},e),o);(r||J.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=x.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ct.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||x.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=x.timers,s=i?i.length:0;for(n.finish=!0,x.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),x.each(["toggle","show","hide"],(function(e,t){var n=x.fn[t];x.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ht(t,!0),e,i,r)}})),x.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){x.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(at=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),at=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){lt||(lt=!0,ft())},x.fx.stop=function(){lt=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(e,t){return e=x.fx&&x.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}}))},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var mt,vt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return K(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){x.removeAttr(this,e)}))}}),x.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(r=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=x.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(R);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=vt[t]||x.find.attr;vt[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=vt[s],vt[s]=r,r=null!=n(e,t,i)?s:null,vt[s]=o),r}}));var yt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function _t(e){return(e.match(R)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}x.fn.extend({prop:function(e,t){return K(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[x.propFix[e]||e]}))}}),x.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(e)||(t=x.propFix[t]||t,r=x.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){x.propFix[this.toLowerCase()]=this})),x.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(y(e))return this.each((function(t){x(this).addClass(e.call(this,t,wt(this)))}));if((t=Et(e)).length)for(;n=this[l++];)if(r=wt(n),i=1===n.nodeType&&" "+_t(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=_t(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(y(e))return this.each((function(t){x(this).removeClass(e.call(this,t,wt(this)))}));if(!arguments.length)return this.attr("class","");if((t=Et(e)).length)for(;n=this[l++];)if(r=wt(n),i=1===n.nodeType&&" "+_t(r)+" "){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=_t(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(n){x(this).toggleClass(e.call(this,n,wt(this),t),t)})):this.each((function(){var t,r,o,s;if(i)for(r=0,o=x(this),s=Et(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=wt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+_t(wt(n))+" ").indexOf(t)>-1)return!0;return!1}});var xt=/\r/g;x.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=y(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,x(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,(function(e){return null==e?"":e+""}))),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(xt,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:_t(x.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(t=x(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=x.makeArray(t),s=r.length;s--;)((i=r[s]).selected=x.inArray(x.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],(function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},v.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),v.focusin="onfocusin"in n;var Tt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(e,t,i,r){var o,a,l,u,c,f,d,h,g=[i||s],m=p.call(e,"type")?e.type:e,v=p.call(e,"namespace")?e.namespace.split("."):[];if(a=h=l=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!Tt.test(m+x.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[x.expando]?e:new x.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:x.makeArray(t,[e]),d=x.event.special[m]||{},r||!d.trigger||!1!==d.trigger.apply(i,t))){if(!r&&!d.noBubble&&!b(i)){for(u=d.delegateType||m,Tt.test(u+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(i.ownerDocument||s)&&g.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=g[o++])&&!e.isPropagationStopped();)h=a,e.type=o>1?u:d.bindType||m,(f=(J.get(a,"events")||{})[e.type]&&J.get(a,"handle"))&&f.apply(a,t),(f=c&&a[c])&&f.apply&&X(a)&&(e.result=f.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(g.pop(),t)||!X(i)||c&&y(i[m])&&!b(i)&&((l=i[c])&&(i[c]=null),x.event.triggered=m,e.isPropagationStopped()&&h.addEventListener(m,Ct),i[m](),e.isPropagationStopped()&&h.removeEventListener(m,Ct),x.event.triggered=void 0,l&&(i[c]=l)),e.result}},simulate:function(e,t,n){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(i,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each((function(){x.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),v.focusin||x.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,t);r||i.addEventListener(e,n,!0),J.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,t)-1;r?J.access(i,t,r):(i.removeEventListener(e,n,!0),J.remove(i,t))}}}));var Dt=n.location,St=Date.now(),At=/\?/;x.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+e),t};var Nt=/\[\]$/,kt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,i){var r;if(Array.isArray(t))x.each(t,(function(t,r){n||Nt.test(e)?i(e,r):jt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==E(t))i(e,t);else for(r in t)jt(e+"["+r+"]",t[r],n,i)}x.param=function(e,t){var n,i=[],r=function(e,t){var n=y(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,(function(){r(this.name,this.value)}));else for(n in e)jt(n,e[n],t,r);return i.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Ot.test(this.nodeName)&&!It.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,(function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})):{name:t.name,value:n.replace(kt,"\r\n")}})).get()}});var Lt=/%20/g,Pt=/#.*$/,Ht=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Wt={},qt={},Bt="*/".concat("*"),Ut=s.createElement("a");function $t(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(R)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Kt(e,t,n,i){var r={},o=e===qt;function s(a){var l;return r[a]=!0,x.each(e[a]||[],(function(e,a){var u=a(t,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),s(u),!1)})),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Qt(e,t){var n,i,r=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&x.extend(!0,e,i),e}Ut.href=Dt.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Qt(Qt(e,x.ajaxSettings),t):Qt(x.ajaxSettings,e)},ajaxPrefilter:$t(Wt),ajaxTransport:$t(qt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,l,u,c,f,d,h,p=x.ajaxSetup({},t),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?x(g):x.event,v=x.Deferred(),y=x.Callbacks("once memory"),b=p.statusCode||{},_={},w={},E="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Mt.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||E;return i&&i.abort(t),C(0,t),this}};if(v.promise(T),p.url=((e||p.url||Dt.href)+"").replace(Ft,Dt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(R)||[""],null==p.crossDomain){u=s.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Ut.protocol+"//"+Ut.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),Kt(Wt,p,t,T),c)return T;for(d in(f=x.event&&p.global)&&0==x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Rt.test(p.type),r=p.url.replace(Pt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Lt,"+")):(h=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(At.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Ht,"$1"),h=(At.test(r)?"&":"?")+"_="+St+++h),p.url=r+h),p.ifModified&&(x.lastModified[r]&&T.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&T.setRequestHeader("If-None-Match",x.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Bt+"; q=0.01":""):p.accepts["*"]),p.headers)T.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,T,p)||c))return T.abort();if(E="abort",y.add(p.complete),T.done(p.success),T.fail(p.error),i=Kt(qt,p,t,T)){if(T.readyState=1,f&&m.trigger("ajaxSend",[T,p]),c)return T;p.async&&p.timeout>0&&(l=n.setTimeout((function(){T.abort("timeout")}),p.timeout));try{c=!1,i.send(_,C)}catch(e){if(c)throw e;C(-1,e)}}else C(-1,"No Transport");function C(e,t,s,a){var u,d,h,_,w,E=t;c||(c=!0,l&&n.clearTimeout(l),i=void 0,o=a||"",T.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(_=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,T,s)),_=function(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,_,T,u),u?(p.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(x.lastModified[r]=w),(w=T.getResponseHeader("etag"))&&(x.etag[r]=w)),204===e||"HEAD"===p.type?E="nocontent":304===e?E="notmodified":(E=_.state,d=_.data,u=!(h=_.error))):(h=E,!e&&E||(E="error",e<0&&(e=0))),T.status=e,T.statusText=(t||E)+"",u?v.resolveWith(g,[d,E,T]):v.rejectWith(g,[T,E,h]),T.statusCode(b),b=void 0,f&&m.trigger(u?"ajaxSuccess":"ajaxError",[T,p,u?d:h]),y.fireWith(g,[T,E]),f&&(m.trigger("ajaxComplete",[T,p]),--x.active||x.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],(function(e,t){x[t]=function(e,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:r,data:n,success:i},x.isPlainObject(e)&&e))}})),x._evalUrl=function(e,t){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){x(this).wrapInner(e.call(this,t))})):this.each((function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){x(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){x(this).replaceWith(this.childNodes)})),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Yt=x.ajaxSettings.xhr();v.cors=!!Yt&&"withCredentials"in Yt,v.ajax=Yt=!!Yt,x.ajaxTransport((function(e){var t,i;if(v.cors||Yt&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Vt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){t&&i()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),x.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),x.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){n&&n()}}}));var zt,Xt=[],Gt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||x.expando+"_"+St++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",(function(e,t,i){var r,o,s,a=!1!==e.jsonp&&(Gt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Gt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||x.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always((function(){void 0===o?x(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),s&&y(o)&&o(s[0]),s=o=void 0})),"script"})),v.createHTMLDocument=((zt=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===zt.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(i)):t=s),o=!n&&[],(r=I.exec(e))?[t.createElement(r[1])]:(r=Te([e],t,o),o&&o.length&&x(o).remove(),x.merge([],r.childNodes)));var i,r,o},x.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=_t(e.slice(a)),e=e.slice(0,a)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&x.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){x.fn[t]=function(e){return this.on(t,e)}})),x.expr.pseudos.animated=function(e){return x.grep(x.timers,(function(t){return e===t.elem})).length},x.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,u=x.css(e,"position"),c=x(e),f={};"static"===u&&(e.style.position="relative"),a=c.offset(),o=x.css(e,"top"),l=x.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),y(t)&&(t=t.call(e,n,x.extend({},a))),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+r),"using"in t?t.using.call(e,f):c.css(f)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){x.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===x.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),r.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-x.css(i,"marginTop",!0),left:t.left-r.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||se}))}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;x.fn[e]=function(i){return K(this,(function(e,i,r){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),x.each(["top","left"],(function(e,t){x.cssHooks[t]=Ye(v.pixelPosition,(function(e,n){if(n)return n=Ve(e,t),$e.test(n)?x(e).position()[t]+"px":n}))})),x.each({Height:"height",Width:"width"},(function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){x.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return K(this,(function(t,n,r){var o;return b(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?x.css(t,n,a):x.style(t,n,r,a)}),t,s?r:void 0,s)}}))})),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),x.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return i=l.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(l.call(arguments)))}).guid=e.guid=e.guid||x.guid++,r},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=k,x.isFunction=y,x.isWindow=b,x.camelCase=z,x.type=E,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(i=function(){return x}.apply(t,[]))||(e.exports=i);var Jt=n.jQuery,Zt=n.$;return x.noConflict=function(e){return n.$===x&&(n.$=Zt),e&&n.jQuery===x&&(n.jQuery=Jt),x},r||(n.jQuery=n.$=x),x}))},function(e,t,n){"use strict";n.r(t),function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,i=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var r=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),i))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function s(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function a(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=s(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:l(a(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var c=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?c:10===e?f:c||f}function h(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===s(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&h(s.firstElementChild)!==s?h(l):l;var u=p(e);return u.host?g(u.host,t):g(e,p(t).host)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||r;return o[n]}return e[n]}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(t,"top"),r=m(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}function y(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function b(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,n=e.documentElement,i=d(10)&&getComputedStyle(n);return{height:b("Height",t,n,i),width:b("Width",t,n,i)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),x=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function C(e){return T({},e,{right:e.left+e.width,bottom:e.top+e.height})}function D(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=m(e,"top"),i=m(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?_(e.ownerDocument):{},a=o.width||e.clientWidth||r.width,l=o.height||e.clientHeight||r.height,u=e.offsetWidth-a,c=e.offsetHeight-l;if(u||c){var f=s(e);u-=y(f,"x"),c-=y(f,"y"),r.width-=u,r.height-=c}return C(r)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=d(10),r="HTML"===t.nodeName,o=D(e),a=D(t),u=l(e),c=s(t),f=parseFloat(c.borderTopWidth),h=parseFloat(c.borderLeftWidth);n&&r&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=C({top:o.top-a.top-f,left:o.left-a.left-h,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!i&&r){var g=parseFloat(c.marginTop),m=parseFloat(c.marginLeft);p.top-=f-g,p.bottom-=f-g,p.left-=h-m,p.right-=h-m,p.marginTop=g,p.marginLeft=m}return(i&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(p=v(p,t)),p}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=S(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:m(n),a=t?0:m(n,"left"),l={top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o};return C(l)}function N(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===s(e,"position"))return!0;var n=a(e);return!!n&&N(n)}function k(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===s(t,"transform");)t=t.parentElement;return t||document.documentElement}function I(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?k(e):g(e,u(t));if("viewport"===i)o=A(s,r);else{var c=void 0;"scrollParent"===i?"BODY"===(c=l(a(t))).nodeName&&(c=e.ownerDocument.documentElement):c="window"===i?e.ownerDocument.documentElement:i;var f=S(c,s,r);if("HTML"!==c.nodeName||N(s))o=f;else{var d=_(e.ownerDocument),h=d.height,p=d.width;o.top+=f.top-f.marginTop,o.bottom=h+f.top,o.left+=f.left-f.marginLeft,o.right=p+f.left}}var m="number"==typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function O(e){return e.width*e.height}function j(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=I(n,i,o,r),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map((function(e){return T({key:e},a[e],{area:O(a[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,f=e.split("-")[1];return c+(f?"-"+f:"")}function L(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?k(t):g(t,u(n));return S(n,r,i)}function P(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function H(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function M(e,t,n){n=n.split("-")[0];var i=P(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[s]=t[s]+t[l]/2-i[l]/2,r[a]=n===a?t[a]-i[u]:t[H(a)],r}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function F(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=R(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=C(t.offsets.popper),t.offsets.reference=C(t.offsets.reference),t=n(t,e))})),t}function W(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=j(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=M(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=F(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function q(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function B(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function U(){return this.state.isDestroyed=!0,q(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function $(e){var t=e.ownerDocument;return t?t.defaultView:window}function K(e,t,n,i){n.updateBound=i,$(e).addEventListener("resize",n.updateBound,{passive:!0});var r=l(e);return function e(t,n,i,r){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(n,i,{passive:!0}),o||e(l(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function Q(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}function V(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,$(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Y(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function z(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Y(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var X=n&&/Firefox/i.test(navigator.userAgent);function G(e,t,n){var i=R(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=J.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Z.indexOf(e),i=Z.slice(n+1).concat(Z.slice(0,n));return t?i.reverse():i}var te="flip",ne="clockwise",ie="counterclockwise";function re(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(R(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(u=u.map((function(e,i){var r=(1===i?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return C(a)[t]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){Y(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",u=a?"width":"height",c={start:x({},l,o[l]),end:x({},l,o[l]+o[u]-s[u])};e.offsets.popper=T({},s,c[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;return l=Y(+n)?[+n,0]:re(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var i=B("transform"),r=e.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=I(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=s,r[i]=a,t.boundaries=l;var u=t.priority,c=e.offsets.popper,f={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),x({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),x({},n,i)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=T({},c,f[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[a])&&(e.offsets.popper[l]=o(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!G(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],o=e.offsets,a=o.popper,l=o.reference,u=-1!==["left","right"].indexOf(r),c=u?"height":"width",f=u?"Top":"Left",d=f.toLowerCase(),h=u?"left":"top",p=u?"bottom":"right",g=P(i)[c];l[p]-g<a[d]&&(e.offsets.popper[d]-=a[d]-(l[p]-g)),l[d]+g>a[p]&&(e.offsets.popper[d]+=l[d]+g-a[p]),e.offsets.popper=C(e.offsets.popper);var m=l[d]+l[c]/2-g/2,v=s(e.instance.popper),y=parseFloat(v["margin"+f]),b=parseFloat(v["border"+f+"Width"]),_=m-e.offsets.popper[d]-y-b;return _=Math.max(Math.min(a[c]-g,_),0),e.arrowElement=i,e.offsets.arrow=(x(n={},d,Math.round(_)),x(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(q(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=I(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=H(i),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case te:s=[i,r];break;case ne:s=ee(i);break;case ie:s=ee(i,!0);break;default:s=t.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return e;i=e.placement.split("-")[0],r=H(i);var u=e.offsets.popper,c=e.offsets.reference,f=Math.floor,d="left"===i&&f(u.right)>f(c.left)||"right"===i&&f(u.left)<f(c.right)||"top"===i&&f(u.bottom)>f(c.top)||"bottom"===i&&f(u.top)<f(c.bottom),h=f(u.left)<f(n.left),p=f(u.right)>f(n.right),g=f(u.top)<f(n.top),m=f(u.bottom)>f(n.bottom),v="left"===i&&h||"right"===i&&p||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(y&&"start"===o&&h||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&m),_=!!t.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&h||!y&&"start"===o&&m||!y&&"end"===o&&g),w=b||_;(d||v||w)&&(e.flipped=!0,(d||v)&&(i=s[l+1]),w&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=T({},e.offsets.popper,M(e.instance.popper,e.offsets.reference,e.placement)),e=F(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),e.placement=H(t),e.offsets.popper=C(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!G(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=R(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=R(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=h(e.instance.popper),l=D(a),u={position:r.position},c=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},l=o(r.width),u=o(i.width),c=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?c||f||l%2==u%2?o:s:a,h=t?o:a;return{left:d(l%2==1&&u%2==1&&!f&&t?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:d(i.right)}}(e,window.devicePixelRatio<2||!X),f="bottom"===n?"top":"bottom",d="right"===i?"left":"right",p=B("transform"),g=void 0,m=void 0;if(m="bottom"===f?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-l.height+c.bottom:c.top,g="right"===d?"HTML"===a.nodeName?-a.clientWidth+c.right:-l.width+c.right:c.left,s&&p)u[p]="translate3d("+g+"px, "+m+"px, 0)",u[f]=0,u[d]=0,u.willChange="transform";else{var v="bottom"===f?-1:1,y="right"===d?-1:1;u[f]=m*v,u[d]=g*y,u.willChange=f+", "+d}var b={"x-placement":e.placement};return e.attributes=T({},b,e.attributes),e.styles=T({},u,e.styles),e.arrowStyles=T({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return z(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&z(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=L(r,t,e,n.positionFixed),s=j(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),z(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},se=function(){function e(t,n){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=r(this.update.bind(this)),this.options=T({},e.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(T({},e.Defaults.modifiers,s.modifiers)).forEach((function(t){i.options.modifiers[t]=T({},e.Defaults.modifiers[t]||{},s.modifiers?s.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return T({name:e},i.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&o(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return E(e,[{key:"update",value:function(){return W.call(this)}},{key:"destroy",value:function(){return U.call(this)}},{key:"enableEventListeners",value:function(){return Q.call(this)}},{key:"disableEventListeners",value:function(){return V.call(this)}}]),e}();se.Utils=("undefined"!=typeof window?window:e).PopperUtils,se.placements=J,se.Defaults=oe,t.default=se}.call(this,n(3))},function(e,t,n){window.$=window.jQuery=n(0),window.Popper=n(1).default,n(4)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){
/*!
  * Bootstrap v4.1.1 (https://getbootstrap.com/)
  * Copyright 2011-2018 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){o(e,t,n[t])}))}return e}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var a=function(e){function t(t){var i=this,r=!1;return e(this).one(n.TRANSITION_END,(function(){r=!0})),setTimeout((function(){r||n.triggerTransitionEnd(i)}),t),this}var n={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(t){var n=t.getAttribute("data-target");n&&"#"!==n||(n=t.getAttribute("href")||"");try{return e(document).find(n).length>0?n:null}catch(e){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration");return parseFloat(n)?(n=n.split(",")[0],1e3*parseFloat(n)):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var o=i[r],s=t[r],a=s&&n.isElement(s)?"element":(l=s,{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(a))throw new Error(e.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+o+'".')}var l}};return e.fn.emulateTransitionEnd=t,e.event.special[n.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},n}(t),l=function(e){var t="alert",n=e.fn[t],i={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},o="alert",s="fade",l="show",u=function(){function t(e){this._element=e}var n=t.prototype;return n.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=a.getSelectorFromElement(t),i=!1;return n&&(i=e(n)[0]),i||(i=e(t).closest("."+o)[0]),i},n._triggerCloseEvent=function(t){var n=e.Event(i.CLOSE);return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass(l),e(t).hasClass(s)){var i=a.getTransitionDurationFromElement(t);e(t).one(a.TRANSITION_END,(function(e){return n._destroyElement(t,e)})).emulateTransitionEnd(i)}else this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger(i.CLOSED).remove()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data("bs.alert");r||(r=new t(this),i.data("bs.alert",r)),"close"===n&&r[n](this)}))},t._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.1.1"}}]),t}();return e(document).on(i.CLICK_DATA_API,'[data-dismiss="alert"]',u._handleDismiss(new u)),e.fn[t]=u._jQueryInterface,e.fn[t].Constructor=u,e.fn[t].noConflict=function(){return e.fn[t]=n,u._jQueryInterface},u}(t),u=function(e){var t="button",n=e.fn[t],i="active",o="btn",s="focus",a='[data-toggle^="button"]',l='[data-toggle="buttons"]',u="input",c=".active",f=".btn",d={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},h=function(){function t(e){this._element=e}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,r=e(this._element).closest(l)[0];if(r){var o=e(this._element).find(u)[0];if(o){if("radio"===o.type)if(o.checked&&e(this._element).hasClass(i))t=!1;else{var s=e(r).find(c)[0];s&&e(s).removeClass(i)}if(t){if(o.hasAttribute("disabled")||r.hasAttribute("disabled")||o.classList.contains("disabled")||r.classList.contains("disabled"))return;o.checked=!e(this._element).hasClass(i),e(o).trigger("change")}o.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!e(this._element).hasClass(i)),t&&e(this._element).toggleClass(i)},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()}))},r(t,null,[{key:"VERSION",get:function(){return"4.1.1"}}]),t}();return e(document).on(d.CLICK_DATA_API,a,(function(t){t.preventDefault();var n=t.target;e(n).hasClass(o)||(n=e(n).closest(f)),h._jQueryInterface.call(e(n),"toggle")})).on(d.FOCUS_BLUR_DATA_API,a,(function(t){var n=e(t.target).closest(f)[0];e(n).toggleClass(s,/^focus(in)?$/.test(t.type))})),e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=n,h._jQueryInterface},h}(t),c=function(e){var t="carousel",n="bs.carousel",i="."+n,o=e.fn[t],l={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},u={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},c="next",f="prev",d="left",h="right",p={SLIDE:"slide"+i,SLID:"slid"+i,KEYDOWN:"keydown"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,TOUCHEND:"touchend"+i,LOAD_DATA_API:"load"+i+".data-api",CLICK_DATA_API:"click"+i+".data-api"},g="carousel",m="active",v="slide",y="carousel-item-right",b="carousel-item-left",_="carousel-item-next",w="carousel-item-prev",E=".active",x=".active.carousel-item",T=".carousel-item",C=".carousel-item-next, .carousel-item-prev",D=".carousel-indicators",S="[data-slide], [data-slide-to]",A='[data-ride="carousel"]',N=function(){function o(t,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=e(t)[0],this._indicatorsElement=e(this._element).find(D)[0],this._addEventListeners()}var S=o.prototype;return S.next=function(){this._isSliding||this._slide(c)},S.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},S.prev=function(){this._isSliding||this._slide(f)},S.pause=function(t){t||(this._isPaused=!0),e(this._element).find(C)[0]&&(a.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},S.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},S.to=function(t){var n=this;this._activeElement=e(this._element).find(x)[0];var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(p.SLID,(function(){return n.to(t)}));else{if(i===t)return this.pause(),void this.cycle();var r=t>i?c:f;this._slide(r,this._items[t])}},S.dispose=function(){e(this._element).off(i),e.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},S._getConfig=function(e){return e=s({},l,e),a.typeCheckConfig(t,e,u),e},S._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(p.KEYDOWN,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&(e(this._element).on(p.MOUSEENTER,(function(e){return t.pause(e)})).on(p.MOUSELEAVE,(function(e){return t.cycle(e)})),"ontouchstart"in document.documentElement&&e(this._element).on(p.TOUCHEND,(function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval)})))},S._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},S._getItemIndex=function(t){return this._items=e.makeArray(e(t).parent().find(T)),this._items.indexOf(t)},S._getItemByDirection=function(e,t){var n=e===c,i=e===f,r=this._getItemIndex(t),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return t;var s=(r+(e===f?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},S._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),r=this._getItemIndex(e(this._element).find(x)[0]),o=e.Event(p.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(o),o},S._setActiveIndicatorElement=function(t){if(this._indicatorsElement){e(this._indicatorsElement).find(E).removeClass(m);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&e(n).addClass(m)}},S._slide=function(t,n){var i,r,o,s=this,l=e(this._element).find(x)[0],u=this._getItemIndex(l),f=n||l&&this._getItemByDirection(t,l),g=this._getItemIndex(f),E=Boolean(this._interval);if(t===c?(i=b,r=_,o=d):(i=y,r=w,o=h),f&&e(f).hasClass(m))this._isSliding=!1;else if(!this._triggerSlideEvent(f,o).isDefaultPrevented()&&l&&f){this._isSliding=!0,E&&this.pause(),this._setActiveIndicatorElement(f);var T=e.Event(p.SLID,{relatedTarget:f,direction:o,from:u,to:g});if(e(this._element).hasClass(v)){e(f).addClass(r),a.reflow(f),e(l).addClass(i),e(f).addClass(i);var C=a.getTransitionDurationFromElement(l);e(l).one(a.TRANSITION_END,(function(){e(f).removeClass(i+" "+r).addClass(m),e(l).removeClass(m+" "+r+" "+i),s._isSliding=!1,setTimeout((function(){return e(s._element).trigger(T)}),0)})).emulateTransitionEnd(C)}else e(l).removeClass(m),e(f).addClass(m),this._isSliding=!1,e(this._element).trigger(T);E&&this.cycle()}},o._jQueryInterface=function(t){return this.each((function(){var i=e(this).data(n),r=s({},l,e(this).data());"object"==typeof t&&(r=s({},r,t));var a="string"==typeof t?t:r.slide;if(i||(i=new o(this,r),e(this).data(n,i)),"number"==typeof t)i.to(t);else if("string"==typeof a){if(void 0===i[a])throw new TypeError('No method named "'+a+'"');i[a]()}else r.interval&&(i.pause(),i.cycle())}))},o._dataApiClickHandler=function(t){var i=a.getSelectorFromElement(this);if(i){var r=e(i)[0];if(r&&e(r).hasClass(g)){var l=s({},e(r).data(),e(this).data()),u=this.getAttribute("data-slide-to");u&&(l.interval=!1),o._jQueryInterface.call(e(r),l),u&&e(r).data(n).to(u),t.preventDefault()}}},r(o,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return l}}]),o}();return e(document).on(p.CLICK_DATA_API,S,N._dataApiClickHandler),e(window).on(p.LOAD_DATA_API,(function(){e(A).each((function(){var t=e(this);N._jQueryInterface.call(t,t.data())}))})),e.fn[t]=N._jQueryInterface,e.fn[t].Constructor=N,e.fn[t].noConflict=function(){return e.fn[t]=o,N._jQueryInterface},N}(t),f=function(e){var t="collapse",n="bs.collapse",i=e.fn[t],o={toggle:!0,parent:""},l={toggle:"boolean",parent:"(string|element)"},u={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},c="show",f="collapse",d="collapsing",h="collapsed",p="width",g="height",m=".show, .collapsing",v='[data-toggle="collapse"]',y=function(){function i(t,n){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(n),this._triggerArray=e.makeArray(e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=e(v),r=0;r<i.length;r++){var o=i[r],s=a.getSelectorFromElement(o);null!==s&&e(s).filter(t).length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var y=i.prototype;return y.toggle=function(){e(this._element).hasClass(c)?this.hide():this.show()},y.show=function(){var t,r,o=this;if(!(this._isTransitioning||e(this._element).hasClass(c)||(this._parent&&0===(t=e.makeArray(e(this._parent).find(m).filter('[data-parent="'+this._config.parent+'"]'))).length&&(t=null),t&&(r=e(t).not(this._selector).data(n))&&r._isTransitioning))){var s=e.Event(u.SHOW);if(e(this._element).trigger(s),!s.isDefaultPrevented()){t&&(i._jQueryInterface.call(e(t).not(this._selector),"hide"),r||e(t).data(n,null));var l=this._getDimension();e(this._element).removeClass(f).addClass(d),this._element.style[l]=0,this._triggerArray.length>0&&e(this._triggerArray).removeClass(h).attr("aria-expanded",!0),this.setTransitioning(!0);var p="scroll"+(l[0].toUpperCase()+l.slice(1)),g=a.getTransitionDurationFromElement(this._element);e(this._element).one(a.TRANSITION_END,(function(){e(o._element).removeClass(d).addClass(f).addClass(c),o._element.style[l]="",o.setTransitioning(!1),e(o._element).trigger(u.SHOWN)})).emulateTransitionEnd(g),this._element.style[l]=this._element[p]+"px"}}},y.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(c)){var n=e.Event(u.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();if(this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",a.reflow(this._element),e(this._element).addClass(d).removeClass(f).removeClass(c),this._triggerArray.length>0)for(var r=0;r<this._triggerArray.length;r++){var o=this._triggerArray[r],s=a.getSelectorFromElement(o);null!==s&&(e(s).hasClass(c)||e(o).addClass(h).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[i]="";var l=a.getTransitionDurationFromElement(this._element);e(this._element).one(a.TRANSITION_END,(function(){t.setTransitioning(!1),e(t._element).removeClass(d).addClass(f).trigger(u.HIDDEN)})).emulateTransitionEnd(l)}}},y.setTransitioning=function(e){this._isTransitioning=e},y.dispose=function(){e.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},y._getConfig=function(e){return(e=s({},o,e)).toggle=Boolean(e.toggle),a.typeCheckConfig(t,e,l),e},y._getDimension=function(){return e(this._element).hasClass(p)?p:g},y._getParent=function(){var t=this,n=null;a.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=e(this._config.parent)[0];var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return e(n).find(r).each((function(e,n){t._addAriaAndCollapsedClass(i._getTargetFromElement(n),[n])})),n},y._addAriaAndCollapsedClass=function(t,n){if(t){var i=e(t).hasClass(c);n.length>0&&e(n).toggleClass(h,!i).attr("aria-expanded",i)}},i._getTargetFromElement=function(t){var n=a.getSelectorFromElement(t);return n?e(n)[0]:null},i._jQueryInterface=function(t){return this.each((function(){var r=e(this),a=r.data(n),l=s({},o,r.data(),"object"==typeof t&&t?t:{});if(!a&&l.toggle&&/show|hide/.test(t)&&(l.toggle=!1),a||(a=new i(this,l),r.data(n,a)),"string"==typeof t){if(void 0===a[t])throw new TypeError('No method named "'+t+'"');a[t]()}}))},r(i,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return o}}]),i}();return e(document).on(u.CLICK_DATA_API,v,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var i=e(this),r=a.getSelectorFromElement(this);e(r).each((function(){var t=e(this),r=t.data(n)?"toggle":i.data();y._jQueryInterface.call(t,r)}))})),e.fn[t]=y._jQueryInterface,e.fn[t].Constructor=y,e.fn[t].noConflict=function(){return e.fn[t]=i,y._jQueryInterface},y}(t),d=function(e){var t="dropdown",i="bs.dropdown",o="."+i,l=e.fn[t],u=new RegExp("38|40|27"),c={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK:"click"+o,CLICK_DATA_API:"click"+o+".data-api",KEYDOWN_DATA_API:"keydown"+o+".data-api",KEYUP_DATA_API:"keyup"+o+".data-api"},f="disabled",d="show",h="dropup",p="dropright",g="dropleft",m="dropdown-menu-right",v="position-static",y='[data-toggle="dropdown"]',b=".dropdown form",_=".dropdown-menu",w=".navbar-nav",E=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",x="top-start",T="top-end",C="bottom-start",D="bottom-end",S="right-start",A="left-start",N={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},k={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},I=function(){function l(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var b=l.prototype;return b.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(f)){var t=l._getParentFromElement(this._element),i=e(this._menu).hasClass(d);if(l._clearMenus(),!i){var r={relatedTarget:this._element},o=e.Event(c.SHOW,r);if(e(t).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var s=this._element;"parent"===this._config.reference?s=t:a.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(t).addClass(v),this._popper=new n(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(t).closest(w).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(d),e(t).toggleClass(d).trigger(e.Event(c.SHOWN,r))}}}},b.dispose=function(){e.removeData(this._element,i),e(this._element).off(o),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},b.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},b._addEventListeners=function(){var t=this;e(this._element).on(c.CLICK,(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},b._getConfig=function(n){return n=s({},this.constructor.Default,e(this._element).data(),n),a.typeCheckConfig(t,n,this.constructor.DefaultType),n},b._getMenuElement=function(){if(!this._menu){var t=l._getParentFromElement(this._element);this._menu=e(t).find(_)[0]}return this._menu},b._getPlacement=function(){var t=e(this._element).parent(),n=C;return t.hasClass(h)?(n=x,e(this._menu).hasClass(m)&&(n=T)):t.hasClass(p)?n=S:t.hasClass(g)?n=A:e(this._menu).hasClass(m)&&(n=D),n},b._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},b._getPopperConfig=function(){var e=this,t={};"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=s({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},l._jQueryInterface=function(t){return this.each((function(){var n=e(this).data(i);if(n||(n=new l(this,"object"==typeof t?t:null),e(this).data(i,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},l._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var n=e.makeArray(e(y)),r=0;r<n.length;r++){var o=l._getParentFromElement(n[r]),s=e(n[r]).data(i),a={relatedTarget:n[r]};if(s){var u=s._menu;if(e(o).hasClass(d)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&e.contains(o,t.target))){var f=e.Event(c.HIDE,a);e(o).trigger(f),f.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),n[r].setAttribute("aria-expanded","false"),e(u).removeClass(d),e(o).removeClass(d).trigger(e.Event(c.HIDDEN,a)))}}}},l._getParentFromElement=function(t){var n,i=a.getSelectorFromElement(t);return i&&(n=e(i)[0]),n||t.parentNode},l._dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||e(t.target).closest(_).length):!u.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!e(this).hasClass(f))){var n=l._getParentFromElement(this),i=e(n).hasClass(d);if((i||27===t.which&&32===t.which)&&(!i||27!==t.which&&32!==t.which)){var r=e(n).find(E).get();if(0!==r.length){var o=r.indexOf(t.target);38===t.which&&o>0&&o--,40===t.which&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}else{if(27===t.which){var s=e(n).find(y)[0];e(s).trigger("focus")}e(this).trigger("click")}}},r(l,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return N}},{key:"DefaultType",get:function(){return k}}]),l}();return e(document).on(c.KEYDOWN_DATA_API,y,I._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,_,I._dataApiKeydownHandler).on(c.CLICK_DATA_API+" "+c.KEYUP_DATA_API,I._clearMenus).on(c.CLICK_DATA_API,y,(function(t){t.preventDefault(),t.stopPropagation(),I._jQueryInterface.call(e(this),"toggle")})).on(c.CLICK_DATA_API,b,(function(e){e.stopPropagation()})),e.fn[t]=I._jQueryInterface,e.fn[t].Constructor=I,e.fn[t].noConflict=function(){return e.fn[t]=l,I._jQueryInterface},I}(t),h=function(e){var t="modal",n=".bs.modal",i=e.fn[t],o={backdrop:!0,keyboard:!0,focus:!0,show:!0},l={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},u={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,FOCUSIN:"focusin"+n,RESIZE:"resize"+n,CLICK_DISMISS:"click.dismiss"+n,KEYDOWN_DISMISS:"keydown.dismiss"+n,MOUSEUP_DISMISS:"mouseup.dismiss"+n,MOUSEDOWN_DISMISS:"mousedown.dismiss"+n,CLICK_DATA_API:"click"+n+".data-api"},c="modal-scrollbar-measure",f="modal-backdrop",d="modal-open",h="fade",p="show",g=".modal-dialog",m='[data-toggle="modal"]',v='[data-dismiss="modal"]',y=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",b=".sticky-top",_=".navbar-toggler",w=function(){function i(t,n){this._config=this._getConfig(n),this._element=t,this._dialog=e(t).find(g)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var m=i.prototype;return m.toggle=function(e){return this._isShown?this.hide():this.show(e)},m.show=function(t){var n=this;if(!this._isTransitioning&&!this._isShown){e(this._element).hasClass(h)&&(this._isTransitioning=!0);var i=e.Event(u.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),e(document.body).addClass(d),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(u.CLICK_DISMISS,v,(function(e){return n.hide(e)})),e(this._dialog).on(u.MOUSEDOWN_DISMISS,(function(){e(n._element).one(u.MOUSEUP_DISMISS,(function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(t)})))}},m.hide=function(t){var n=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var i=e.Event(u.HIDE);if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=e(this._element).hasClass(h);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(u.FOCUSIN),e(this._element).removeClass(p),e(this._element).off(u.CLICK_DISMISS),e(this._dialog).off(u.MOUSEDOWN_DISMISS),r){var o=a.getTransitionDurationFromElement(this._element);e(this._element).one(a.TRANSITION_END,(function(e){return n._hideModal(e)})).emulateTransitionEnd(o)}else this._hideModal()}}},m.dispose=function(){e.removeData(this._element,"bs.modal"),e(window,document,this._element,this._backdrop).off(n),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},m.handleUpdate=function(){this._adjustDialog()},m._getConfig=function(e){return e=s({},o,e),a.typeCheckConfig(t,e,l),e},m._showElement=function(t){var n=this,i=e(this._element).hasClass(h);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&a.reflow(this._element),e(this._element).addClass(p),this._config.focus&&this._enforceFocus();var r=e.Event(u.SHOWN,{relatedTarget:t}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(r)};if(i){var s=a.getTransitionDurationFromElement(this._element);e(this._dialog).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},m._enforceFocus=function(){var t=this;e(document).off(u.FOCUSIN).on(u.FOCUSIN,(function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()}))},m._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(u.KEYDOWN_DISMISS,(function(e){27===e.which&&(e.preventDefault(),t.hide())})):this._isShown||e(this._element).off(u.KEYDOWN_DISMISS)},m._setResizeEvent=function(){var t=this;this._isShown?e(window).on(u.RESIZE,(function(e){return t.handleUpdate(e)})):e(window).off(u.RESIZE)},m._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass(d),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(u.HIDDEN)}))},m._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},m._showBackdrop=function(t){var n=this,i=e(this._element).hasClass(h)?h:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=f,i&&e(this._backdrop).addClass(i),e(this._backdrop).appendTo(document.body),e(this._element).on(u.CLICK_DISMISS,(function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())})),i&&a.reflow(this._backdrop),e(this._backdrop).addClass(p),!t)return;if(!i)return void t();var r=a.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(a.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(p);var o=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass(h)){var s=a.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else t&&t()},m._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},m._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},m._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},m._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){e(y).each((function(n,i){var r=e(i)[0].style.paddingRight,o=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")})),e(b).each((function(n,i){var r=e(i)[0].style.marginRight,o=e(i).css("margin-right");e(i).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")})),e(_).each((function(n,i){var r=e(i)[0].style.marginRight,o=e(i).css("margin-right");e(i).data("margin-right",r).css("margin-right",parseFloat(o)+t._scrollbarWidth+"px")}));var n=document.body.style.paddingRight,i=e(document.body).css("padding-right");e(document.body).data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}},m._resetScrollbar=function(){e(y).each((function(t,n){var i=e(n).data("padding-right");void 0!==i&&e(n).css("padding-right",i).removeData("padding-right")})),e(b+", "+_).each((function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")}));var t=e(document.body).data("padding-right");void 0!==t&&e(document.body).css("padding-right",t).removeData("padding-right")},m._getScrollbarWidth=function(){var e=document.createElement("div");e.className=c,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},i._jQueryInterface=function(t,n){return this.each((function(){var r=e(this).data("bs.modal"),a=s({},o,e(this).data(),"object"==typeof t&&t?t:{});if(r||(r=new i(this,a),e(this).data("bs.modal",r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t](n)}else a.show&&r.show(n)}))},r(i,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return o}}]),i}();return e(document).on(u.CLICK_DATA_API,m,(function(t){var n,i=this,r=a.getSelectorFromElement(this);r&&(n=e(r)[0]);var o=e(n).data("bs.modal")?"toggle":s({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var l=e(n).one(u.SHOW,(function(t){t.isDefaultPrevented()||l.one(u.HIDDEN,(function(){e(i).is(":visible")&&i.focus()}))}));w._jQueryInterface.call(e(n),o,this)})),e.fn[t]=w._jQueryInterface,e.fn[t].Constructor=w,e.fn[t].noConflict=function(){return e.fn[t]=i,w._jQueryInterface},w}(t),p=function(e){var t="tooltip",i=".bs.tooltip",o=e.fn[t],l=new RegExp("(^|\\s)bs-tooltip\\S+","g"),u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},c={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},f={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},d="show",h="out",p={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},g="fade",m="show",v=".tooltip-inner",y=".arrow",b="hover",_="focus",w="click",E="manual",x=function(){function o(e,t){if(void 0===n)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var x=o.prototype;return x.enable=function(){this._isEnabled=!0},x.disable=function(){this._isEnabled=!1},x.toggleEnabled=function(){this._isEnabled=!this._isEnabled},x.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(m))return void this._leave(null,this);this._enter(null,this)}},x.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},x.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var r=e.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!r)return;var o=this.getTipElement(),s=a.getUID(this.constructor.NAME);o.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&e(o).addClass(g);var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,u=this._getAttachment(l);this.addAttachmentClass(u);var c=!1===this.config.container?document.body:e(this.config.container);e(o).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(o).appendTo(c),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,o,{placement:u,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:y},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),e(o).addClass(m),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var f=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===h&&t._leave(null,t)};if(e(this.tip).hasClass(g)){var d=a.getTransitionDurationFromElement(this.tip);e(this.tip).one(a.TRANSITION_END,f).emulateTransitionEnd(d)}else f()}},x.hide=function(t){var n=this,i=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==d&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(r),!r.isDefaultPrevented()){if(e(i).removeClass(m),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[w]=!1,this._activeTrigger[_]=!1,this._activeTrigger[b]=!1,e(this.tip).hasClass(g)){var s=a.getTransitionDurationFromElement(i);e(i).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},x.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},x.isWithContent=function(){return Boolean(this.getTitle())},x.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},x.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},x.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(v),this.getTitle()),t.removeClass(g+" "+m)},x.setElementContent=function(t,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text()):t[i?"html":"text"](n)},x.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},x._getAttachment=function(e){return c[e.toUpperCase()]},x._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if(n!==E){var i=n===b?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=n===b?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,(function(e){return t._enter(e)})).on(r,t.config.selector,(function(e){return t._leave(e)}))}e(t.element).closest(".modal").on("hide.bs.modal",(function(){return t.hide()}))})),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},x._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},x._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?_:b]=!0),e(n.getTipElement()).hasClass(m)||n._hoverState===d?n._hoverState=d:(clearTimeout(n._timeout),n._hoverState=d,n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){n._hoverState===d&&n.show()}),n.config.delay.show):n.show())},x._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?_:b]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=h,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){n._hoverState===h&&n.hide()}),n.config.delay.hide):n.hide())},x._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},x._getConfig=function(n){return"number"==typeof(n=s({},this.constructor.Default,e(this.element).data(),"object"==typeof n&&n?n:{})).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),a.typeCheckConfig(t,n,this.constructor.DefaultType),n},x._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},x._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(l);null!==n&&n.length>0&&t.removeClass(n.join(""))},x._handlePopperPlacementChange=function(e){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},x._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(g),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},o._jQueryInterface=function(t){return this.each((function(){var n=e(this).data("bs.tooltip"),i="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new o(this,i),e(this).data("bs.tooltip",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},r(o,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return f}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return u}}]),o}();return e.fn[t]=x._jQueryInterface,e.fn[t].Constructor=x,e.fn[t].noConflict=function(){return e.fn[t]=o,x._jQueryInterface},x}(t),g=function(e){var t="popover",n=".bs.popover",i=e.fn[t],o=new RegExp("(^|\\s)bs-popover\\S+","g"),a=s({},p.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),l=s({},p.DefaultType,{content:"(string|element|function)"}),u="fade",c="show",f=".popover-header",d=".popover-body",h={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},g=function(i){var s,p;function g(){return i.apply(this,arguments)||this}p=i,(s=g).prototype=Object.create(p.prototype),s.prototype.constructor=s,s.__proto__=p;var m=g.prototype;return m.isWithContent=function(){return this.getTitle()||this._getContent()},m.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},m.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},m.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(f),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(d),n),t.removeClass(u+" "+c)},m._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},m._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(o);null!==n&&n.length>0&&t.removeClass(n.join(""))},g._jQueryInterface=function(t){return this.each((function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/destroy|hide/.test(t))&&(n||(n=new g(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},r(g,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return a}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return h}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return l}}]),g}(p);return e.fn[t]=g._jQueryInterface,e.fn[t].Constructor=g,e.fn[t].noConflict=function(){return e.fn[t]=i,g._jQueryInterface},g}(t),m=function(e){var t="scrollspy",n=e.fn[t],i={offset:10,method:"auto",target:""},o={offset:"number",method:"string",target:"(string|element)"},l={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},u="dropdown-item",c="active",f='[data-spy="scroll"]',d=".active",h=".nav, .list-group",p=".nav-link",g=".nav-item",m=".list-group-item",v=".dropdown",y=".dropdown-item",b=".dropdown-toggle",_="offset",w="position",E=function(){function n(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+p+","+this._config.target+" "+m+","+this._config.target+" "+y,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(l.SCROLL,(function(e){return i._process(e)})),this.refresh(),this._process()}var f=n.prototype;return f.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?_:w,i="auto"===this._config.method?n:this._config.method,r=i===w?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),e.makeArray(e(this._selector)).map((function(t){var n,o=a.getSelectorFromElement(t);if(o&&(n=e(o)[0]),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[e(n)[i]().top+r,o]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},f.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},f._getConfig=function(n){if("string"!=typeof(n=s({},i,"object"==typeof n&&n?n:{})).target){var r=e(n.target).attr("id");r||(r=a.getUID(t),e(n.target).attr("id",r)),n.target="#"+r}return a.typeCheckConfig(t,n,o),n},f._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},f._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},f._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},f._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&e>=this._offsets[r]&&(void 0===this._offsets[r+1]||e<this._offsets[r+1])&&this._activate(this._targets[r])}},f._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",");n=n.map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}));var i=e(n.join(","));i.hasClass(u)?(i.closest(v).find(b).addClass(c),i.addClass(c)):(i.addClass(c),i.parents(h).prev(p+", "+m).addClass(c),i.parents(h).prev(g).children(p).addClass(c)),e(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:t})},f._clear=function(){e(this._selector).filter(d).removeClass(c)},n._jQueryInterface=function(t){return this.each((function(){var i=e(this).data("bs.scrollspy");if(i||(i=new n(this,"object"==typeof t&&t),e(this).data("bs.scrollspy",i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},r(n,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return i}}]),n}();return e(window).on(l.LOAD_DATA_API,(function(){for(var t=e.makeArray(e(f)),n=t.length;n--;){var i=e(t[n]);E._jQueryInterface.call(i,i.data())}})),e.fn[t]=E._jQueryInterface,e.fn[t].Constructor=E,e.fn[t].noConflict=function(){return e.fn[t]=n,E._jQueryInterface},E}(t),v=function(e){var t=e.fn.tab,n={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},i="dropdown-menu",o="active",s="disabled",l="fade",u="show",c=".dropdown",f=".nav, .list-group",d=".active",h="> li > .active",p='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',g=".dropdown-toggle",m="> .dropdown-menu .active",v=function(){function t(e){this._element=e}var p=t.prototype;return p.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(o)||e(this._element).hasClass(s))){var i,r,l=e(this._element).closest(f)[0],u=a.getSelectorFromElement(this._element);if(l){var c="UL"===l.nodeName?h:d;r=(r=e.makeArray(e(l).find(c)))[r.length-1]}var p=e.Event(n.HIDE,{relatedTarget:this._element}),g=e.Event(n.SHOW,{relatedTarget:r});if(r&&e(r).trigger(p),e(this._element).trigger(g),!g.isDefaultPrevented()&&!p.isDefaultPrevented()){u&&(i=e(u)[0]),this._activate(this._element,l);var m=function(){var i=e.Event(n.HIDDEN,{relatedTarget:t._element}),o=e.Event(n.SHOWN,{relatedTarget:r});e(r).trigger(i),e(t._element).trigger(o)};i?this._activate(i,i.parentNode,m):m()}}},p.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},p._activate=function(t,n,i){var r=this,o=("UL"===n.nodeName?e(n).find(h):e(n).children(d))[0],s=i&&o&&e(o).hasClass(l),u=function(){return r._transitionComplete(t,o,i)};if(o&&s){var c=a.getTransitionDurationFromElement(o);e(o).one(a.TRANSITION_END,u).emulateTransitionEnd(c)}else u()},p._transitionComplete=function(t,n,r){if(n){e(n).removeClass(u+" "+o);var s=e(n.parentNode).find(m)[0];s&&e(s).removeClass(o),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(o),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),a.reflow(t),e(t).addClass(u),t.parentNode&&e(t.parentNode).hasClass(i)){var l=e(t).closest(c)[0];l&&e(l).find(g).addClass(o),t.setAttribute("aria-expanded",!0)}r&&r()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data("bs.tab");if(r||(r=new t(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.1.1"}}]),t}();return e(document).on(n.CLICK_DATA_API,p,(function(t){t.preventDefault(),v._jQueryInterface.call(e(this),"show")})),e.fn.tab=v._jQueryInterface,e.fn.tab.Constructor=v,e.fn.tab.noConflict=function(){return e.fn.tab=t,v._jQueryInterface},v}(t);(function(e){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")})(t),e.Util=a,e.Alert=l,e.Button=u,e.Carousel=c,e.Collapse=f,e.Dropdown=d,e.Modal=h,e.Popover=g,e.Scrollspy=m,e.Tab=v,e.Tooltip=p,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(1))}]);
    </script>
    <script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js" integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/openseadragon/2.3.1/openseadragon.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.8.6/showdown.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
    <script src="https://api.html5media.info/1.2.2/html5media.min.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.551.0.min.js"></script>

    <script> 
       /* 
 * This software was developed at the National Institute of Standards and
 * Technology by employees of the Federal Government in the course of
 * their official duties. Pursuant to title 17 Section 105 of the United
 * States Code this software is not subject to copyright protection and is
 * in the public domain. This software is an experimental system. NIST assumes
 * no responsibility whatsoever for its use by other parties, and makes no
 * guarantees, expressed or implied, about its quality, reliability, or
 * any other characteristic. We would appreciate acknowledgement if the
 * software is used.
 */

/**
 *
 * @author Antoine Vandecreme <antoine.vandecreme@nist.gov>
 */
(function($) {

    if (!$.version || $.version.major < 2) {
        throw new Error('This version of OpenSeadragonScalebar requires ' +
                'OpenSeadragon version 2.0.0+');
    }

    $.Viewer.prototype.scalebar = function(options) {
        if (!this.scalebarInstance) {
            options = options || {};
            options.viewer = this;
            this.scalebarInstance = new $.Scalebar(options);
        } else {
            this.scalebarInstance.refresh(options);
        }
    };

    $.ScalebarType = {
        NONE: 0,
        MICROSCOPY: 1,
        MAP: 2
    };

    $.ScalebarLocation = {
        NONE: 0,
        TOP_LEFT: 1,
        TOP_RIGHT: 2,
        BOTTOM_RIGHT: 3,
        BOTTOM_LEFT: 4
    };

    /**
     * 
     * @class Scalebar
     * @param {Object} options
     * @param {OpenSeadragon.Viewer} options.viewer The viewer to attach this
     * Scalebar to.
     * @param {OpenSeadragon.ScalebarType} options.type The scale bar type.
     * Default: microscopy
     * @param {Integer} options.pixelsPerMeter The pixels per meter of the
     * zoomable image at the original image size. If null, the scale bar is not
     * displayed. default: null
     * @param {Integer} options.referenceItemIdx Specify the item from
     * viewer.world to which options.pixelsPerMeter is refering.
     * default: 0
     * @param (String} options.minWidth The minimal width of the scale bar as a
     * CSS string (ex: 100px, 1em, 1% etc...) default: 150px
     * @param {OpenSeadragon.ScalebarLocation} options.location The location
     * of the scale bar inside the viewer. default: bottom left
     * @param {Integer} options.xOffset Offset location of the scale bar along x.
     * default: 5
     * @param {Integer} options.yOffset Offset location of the scale bar along y.
     * default: 5
     * @param {Boolean} options.stayInsideImage When set to true, keep the 
     * scale bar inside the image when zooming out. default: true
     * @param {String} options.color The color of the scale bar using a color
     * name or the hexadecimal format (ex: black or #000000) default: black
     * @param {String} options.fontColor The font color. default: black
     * @param {String} options.backgroundColor The background color. default: none
     * @param {String} options.fontSize The font size. default: not set
     * @param {String} options.fontFamily The font-family. default: not set
     * @param {String} options.barThickness The thickness of the scale bar in px.
     * default: 2
     * @param {function} options.sizeAndTextRenderer A function which will be
     * called to determine the size of the scale bar and it's text content.
     * The function must have 2 parameters: the PPM at the current zoom level
     * and the minimum size of the scale bar. It must return an object containing
     * 2 attributes: size and text containing the size of the scale bar and the text.
     * default: $.ScalebarSizeAndTextRenderer.METRIC_LENGTH
     */
    $.Scalebar = function(options) {
        options = options || {};
        if (!options.viewer) {
            throw new Error("A viewer must be specified.");
        }
        this.viewer = options.viewer;

        this.divElt = document.createElement("div");
        this.viewer.container.appendChild(this.divElt);
        this.divElt.style.position = "relative";
        this.divElt.style.margin = "0";
        this.divElt.style.pointerEvents = "none";

        this.setMinWidth(options.minWidth || "150px");

        this.setDrawScalebarFunction(options.type || $.ScalebarType.MICROSCOPY);
        this.color = options.color || "black";
        this.fontColor = options.fontColor || "black";
        this.backgroundColor = options.backgroundColor || "none";
        this.fontSize = options.fontSize || "";
        this.fontFamily = options.fontFamily || "";
        this.barThickness = options.barThickness || 2;
        this.pixelsPerMeter = options.pixelsPerMeter || null;
        this.referenceItemIdx = options.referenceItemIdx || 0;
        this.location = options.location || $.ScalebarLocation.BOTTOM_LEFT;
        this.xOffset = options.xOffset || 5;
        this.yOffset = options.yOffset || 5;
        this.stayInsideImage = isDefined(options.stayInsideImage) ?
                options.stayInsideImage : true;
        this.sizeAndTextRenderer = options.sizeAndTextRenderer ||
                $.ScalebarSizeAndTextRenderer.METRIC_LENGTH;

        var self = this;
        this.viewer.addHandler("open", function() {
            self.refresh();
        });
        this.viewer.addHandler("animation", function() {
            self.refresh();
        });
        this.viewer.addHandler("resize", function() {
            self.refresh();
        });
    };

    $.Scalebar.prototype = {
        updateOptions: function(options) {
            if (!options) {
                return;
            }
            if (isDefined(options.type)) {
                this.setDrawScalebarFunction(options.type);
            }
            if (isDefined(options.minWidth)) {
                this.setMinWidth(options.minWidth);
            }
            if (isDefined(options.color)) {
                this.color = options.color;
            }
            if (isDefined(options.fontColor)) {
                this.fontColor = options.fontColor;
            }
            if (isDefined(options.backgroundColor)) {
                this.backgroundColor = options.backgroundColor;
            }
            if (isDefined(options.fontSize)) {
                this.fontSize = options.fontSize;
            }
            if (isDefined(options.fontFamily)) {
                this.fontFamily = options.fontFamily;
            }
            if (isDefined(options.barThickness)) {
                this.barThickness = options.barThickness;
            }
            if (isDefined(options.pixelsPerMeter)) {
                this.pixelsPerMeter = options.pixelsPerMeter;
            }
            if (isDefined(options.referenceItemIdx)) {
                this.referenceItemIdx = options.referenceItemIdx;
            }
            if (isDefined(options.location)) {
                this.location = options.location;
            }
            if (isDefined(options.xOffset)) {
                this.xOffset = options.xOffset;
            }
            if (isDefined(options.yOffset)) {
                this.yOffset = options.yOffset;
            }
            if (isDefined(options.stayInsideImage)) {
                this.stayInsideImage = options.stayInsideImage;
            }
            if (isDefined(options.sizeAndTextRenderer)) {
                this.sizeAndTextRenderer = options.sizeAndTextRenderer;
            }
        },
        setDrawScalebarFunction: function(type) {
            if (!type) {
                this.drawScalebar = null;
            }
            else if (type === $.ScalebarType.MAP) {
                this.drawScalebar = this.drawMapScalebar;
            } else {
                this.drawScalebar = this.drawMicroscopyScalebar;
            }
        },
        setMinWidth: function(minWidth) {
            this.divElt.style.width = minWidth;
            // Make sure to display the element before getting is width
            this.divElt.style.display = "";
            this.minWidth = this.divElt.offsetWidth;
        },
        /**
         * Refresh the scalebar with the options submitted.
         * @param {Object} options
         * @param {OpenSeadragon.ScalebarType} options.type The scale bar type.
         * Default: microscopy
         * @param {Integer} options.pixelsPerMeter The pixels per meter of the
         * zoomable image at the original image size. If null, the scale bar is not
         * displayed. default: null
         * @param {Integer} options.referenceItemIdx Specify the item from
         * viewer.world to which options.pixelsPerMeter is refering.
         * default: 0
         * @param (String} options.minWidth The minimal width of the scale bar as a
         * CSS string (ex: 100px, 1em, 1% etc...) default: 150px
         * @param {OpenSeadragon.ScalebarLocation} options.location The location
         * of the scale bar inside the viewer. default: bottom left
         * @param {Integer} options.xOffset Offset location of the scale bar along x.
         * default: 5
         * @param {Integer} options.yOffset Offset location of the scale bar along y.
         * default: 5
         * @param {Boolean} options.stayInsideImage When set to true, keep the 
         * scale bar inside the image when zooming out. default: true
         * @param {String} options.color The color of the scale bar using a color
         * name or the hexadecimal format (ex: black or #000000) default: black
         * @param {String} options.fontColor The font color. default: black
         * @param {String} options.backgroundColor The background color. default: none
         * @param {String} options.fontSize The font size. default: not set
         * @param {String} options.barThickness The thickness of the scale bar in px.
         * default: 2
         * @param {function} options.sizeAndTextRenderer A function which will be
         * called to determine the size of the scale bar and it's text content.
         * The function must have 2 parameters: the PPM at the current zoom level
         * and the minimum size of the scale bar. It must return an object containing
         * 2 attributes: size and text containing the size of the scale bar and the text.
         * default: $.ScalebarSizeAndTextRenderer.METRIC_LENGTH
         */
        refresh: function(options) {
            this.updateOptions(options);

            if (!this.viewer.isOpen() ||
                    !this.drawScalebar ||
                    !this.pixelsPerMeter ||
                    !this.location) {
                this.divElt.style.display = "none";
                return;
            }
            this.divElt.style.display = "";

            var viewport = this.viewer.viewport;
            var tiledImage = this.viewer.world.getItemAt(this.referenceItemIdx);
            var zoom = tiledImageViewportToImageZoom(tiledImage,
                    viewport.getZoom(true));
            var currentPPM = zoom * this.pixelsPerMeter;
            var props = this.sizeAndTextRenderer(currentPPM, this.minWidth);

            this.drawScalebar(props.size, props.text);
            var location = this.getScalebarLocation();
            this.divElt.style.left = location.x + "px";
            this.divElt.style.top = location.y + "px";
        },
        drawMicroscopyScalebar: function(size, text) {
            this.divElt.style.fontSize = this.fontSize;
            this.divElt.style.fontFamily = this.fontFamily;
            this.divElt.style.textAlign = "center";
            this.divElt.style.color = this.fontColor;
            this.divElt.style.border = "none";
            this.divElt.style.borderBottom = this.barThickness + "px solid " + this.color;
            this.divElt.style.backgroundColor = this.backgroundColor;
            this.divElt.innerHTML = text;
            this.divElt.style.width = size + "px";
        },
        drawMapScalebar: function(size, text) {
            this.divElt.style.fontSize = this.fontSize;
            this.divElt.style.fontFamily = this.fontFamily;
            this.divElt.style.textAlign = "center";
            this.divElt.style.color = this.fontColor;
            this.divElt.style.border = this.barThickness + "px solid " + this.color;
            this.divElt.style.borderTop = "none";
            this.divElt.style.backgroundColor = this.backgroundColor;
            this.divElt.innerHTML = text;
            this.divElt.style.width = size + "px";
        },
        /**
         * Compute the location of the scale bar.
         * @returns {OpenSeadragon.Point}
         */
        getScalebarLocation: function() {
            if (this.location === $.ScalebarLocation.TOP_LEFT) {
                var x = 0;
                var y = 0;
                if (this.stayInsideImage) {
                    var pixel = this.viewer.viewport.pixelFromPoint(
                            new $.Point(0, 0), true);
                    if (!this.viewer.wrapHorizontal) {
                        x = Math.max(pixel.x, 0);
                    }
                    if (!this.viewer.wrapVertical) {
                        y = Math.max(pixel.y, 0);
                    }
                }
                return new $.Point(x + this.xOffset, y + this.yOffset);
            }
            if (this.location === $.ScalebarLocation.TOP_RIGHT) {
                var barWidth = this.divElt.offsetWidth;
                var container = this.viewer.container;
                var x = container.offsetWidth - barWidth;
                var y = 0;
                if (this.stayInsideImage) {
                    var pixel = this.viewer.viewport.pixelFromPoint(
                            new $.Point(1, 0), true);
                    if (!this.viewer.wrapHorizontal) {
                        x = Math.min(x, pixel.x - barWidth);
                    }
                    if (!this.viewer.wrapVertical) {
                        y = Math.max(y, pixel.y);
                    }
                }
                return new $.Point(x - this.xOffset, y + this.yOffset);
            }
            if (this.location === $.ScalebarLocation.BOTTOM_RIGHT) {
                var barWidth = this.divElt.offsetWidth;
                var barHeight = this.divElt.offsetHeight;
                var container = this.viewer.container;
                var x = container.offsetWidth - barWidth;
                var y = container.offsetHeight - barHeight;
                if (this.stayInsideImage) {
                    var pixel = this.viewer.viewport.pixelFromPoint(
                            new $.Point(1, 1 / this.viewer.source.aspectRatio),
                            true);
                    if (!this.viewer.wrapHorizontal) {
                        x = Math.min(x, pixel.x - barWidth);
                    }
                    if (!this.viewer.wrapVertical) {
                        y = Math.min(y, pixel.y - barHeight);
                    }
                }
                return new $.Point(x - this.xOffset, y - this.yOffset);
            }
            if (this.location === $.ScalebarLocation.BOTTOM_LEFT) {
                var barHeight = this.divElt.offsetHeight;
                var container = this.viewer.container;
                var x = 0;
                var y = container.offsetHeight - barHeight;
                if (this.stayInsideImage) {
                    var pixel = this.viewer.viewport.pixelFromPoint(
                            new $.Point(0, 1 / this.viewer.source.aspectRatio),
                            true);
                    if (!this.viewer.wrapHorizontal) {
                        x = Math.max(x, pixel.x);
                    }
                    if (!this.viewer.wrapVertical) {
                        y = Math.min(y, pixel.y - barHeight);
                    }
                }
                return new $.Point(x + this.xOffset, y - this.yOffset);
            }
        },
        /**
         * Get the rendered scalebar in a canvas.
         * @returns {Element} A canvas containing the scalebar representation
         */
        getAsCanvas: function() {
            var canvas = document.createElement("canvas");
            canvas.width = this.divElt.offsetWidth;
            canvas.height = this.divElt.offsetHeight;
            var context = canvas.getContext("2d");
            context.fillStyle = this.backgroundColor;
            context.fillRect(0, 0, canvas.width, canvas.height);
            context.fillStyle = this.color;
            context.fillRect(0, canvas.height - this.barThickness,
                    canvas.width, canvas.height);
            if (this.drawScalebar === this.drawMapScalebar) {
                context.fillRect(0, 0, this.barThickness, canvas.height);
                context.fillRect(canvas.width - this.barThickness, 0,
                        this.barThickness, canvas.height);
            }
            context.font = window.getComputedStyle(this.divElt).font;
            context.textAlign = "center";
            context.textBaseline = "middle";
            context.fillStyle = this.fontColor;
            var hCenter = canvas.width / 2;
            var vCenter = canvas.height / 2;
            context.fillText(this.divElt.textContent, hCenter, vCenter);
            return canvas;
        },
        /**
         * Get a copy of the current OpenSeadragon canvas with the scalebar.
         * @returns {Element} A canvas containing a copy of the current OpenSeadragon canvas with the scalebar
         */
        getImageWithScalebarAsCanvas: function() {
            var imgCanvas = this.viewer.drawer.canvas;
            var newCanvas = document.createElement("canvas");
            newCanvas.width = imgCanvas.width;
            newCanvas.height = imgCanvas.height;
            var newCtx = newCanvas.getContext("2d");
            newCtx.drawImage(imgCanvas, 0, 0);
            var scalebarCanvas = this.getAsCanvas();
            var location = this.getScalebarLocation();
            newCtx.drawImage(scalebarCanvas, location.x, location.y);
            return newCanvas;
        }
    };

    $.ScalebarSizeAndTextRenderer = {
        /**
         * Metric length. From nano meters to kilometers.
         */
        METRIC_LENGTH: function(ppm, minSize) {
            return getScalebarSizeAndTextForMetric(ppm, minSize, "m");
        },
        /**
         * Imperial length. Choosing the best unit from thou, inch, foot and mile.
         */
        IMPERIAL_LENGTH: function(ppm, minSize) {
            var maxSize = minSize * 2;
            var ppi = ppm * 0.0254;
            if (maxSize < ppi * 12) {
                if (maxSize < ppi) {
                    var ppt = ppi / 1000;
                    return getScalebarSizeAndText(ppt, minSize, "th");
                }
                return getScalebarSizeAndText(ppi, minSize, "in");
            }
            var ppf = ppi * 12;
            if (maxSize < ppf * 2000) {
                return getScalebarSizeAndText(ppf, minSize, "ft");
            }
            var ppmi = ppf * 5280;
            return getScalebarSizeAndText(ppmi, minSize, "mi");
        },
        /**
         * Astronomy units. Choosing the best unit from arcsec, arcminute, and degree
         */
        ASTRONOMY: function(ppa, minSize) {
	    var maxSize = minSize * 2;
            if (maxSize < ppa * 60) {
                return getScalebarSizeAndText(ppa, minSize, "\"", false, '');
            }
            var ppminutes = ppa * 60;
            if (maxSize < ppminutes * 60) {
                return getScalebarSizeAndText(ppminutes, minSize, "\'", false, '');
            }
            var ppd = ppminutes * 60;
            return getScalebarSizeAndText(ppd, minSize, "&#176", false, '');
	},
        /**
         * Standard time. Choosing the best unit from second (and metric divisions),
         * minute, hour, day and year.
         */
        STANDARD_TIME: function(pps, minSize) {
            var maxSize = minSize * 2;
            if (maxSize < pps * 60) {
                return getScalebarSizeAndTextForMetric(pps, minSize, "s", false);
            }
            var ppminutes = pps * 60;
            if (maxSize < ppminutes * 60) {
                return getScalebarSizeAndText(ppminutes, minSize, "minute", true);
            }
            var pph = ppminutes * 60;
            if (maxSize < pph * 24) {
                return getScalebarSizeAndText(pph, minSize, "hour", true);
            }
            var ppd = pph * 24;
            if (maxSize < ppd * 365.25) {
                return getScalebarSizeAndText(ppd, minSize, "day", true);
            }
            var ppy = ppd * 365.25;
            return getScalebarSizeAndText(ppy, minSize, "year", true);
        },
        /**
         * Generic metric unit. One can use this function to create a new metric
         * scale. For example, here is an implementation of energy levels:
         * function(ppeV, minSize) {
         *   return OpenSeadragon.ScalebarSizeAndTextRenderer.METRIC_GENERIC(
         *           ppeV, minSize, "eV");
         * }
         */
        METRIC_GENERIC: getScalebarSizeAndTextForMetric
    };

    // Missing TiledImage.viewportToImageZoom function in OSD 2.0.0
    function tiledImageViewportToImageZoom(tiledImage, viewportZoom) {
        var ratio = tiledImage._scaleSpring.current.value *
                tiledImage.viewport._containerInnerSize.x /
                tiledImage.source.dimensions.x;
        return ratio * viewportZoom;
    }

    function getScalebarSizeAndText(ppm, minSize, unitSuffix, handlePlural, spacer) {
	spacer = spacer === undefined ? ' ' : spacer;
        var value = normalize(ppm, minSize);
        var factor = roundSignificand(value / ppm * minSize, 3);
        var size = value * minSize;
        var plural = handlePlural && factor > 1 ? "s" : "";
        return {
            size: size,
            text: factor + spacer + unitSuffix + plural
        };
    }

    function getScalebarSizeAndTextForMetric(ppm, minSize, unitSuffix) {
        var value = normalize(ppm, minSize);
        var factor = roundSignificand(value / ppm * minSize, 3);
        var size = value * minSize;
        var valueWithUnit = getWithUnit(factor, unitSuffix);
        return {
            size: size,
            text: valueWithUnit
        };
    }

    function normalize(value, minSize) {
        var significand = getSignificand(value);
        var minSizeSign = getSignificand(minSize);
        var result = getSignificand(significand / minSizeSign);
        if (result >= 5) {
            result /= 5;
        }
        if (result >= 4) {
            result /= 4;
        }
        if (result >= 2) {
            result /= 2;
        }
        return result;
    }

    function getSignificand(x) {
        return x * Math.pow(10, Math.ceil(-log10(x)));
    }

    function roundSignificand(x, decimalPlaces) {
        var exponent = -Math.ceil(-log10(x));
        var power = decimalPlaces - exponent;
        var significand = x * Math.pow(10, power);
        // To avoid rounding problems, always work with integers
        if (power < 0) {
            return Math.round(significand) * Math.pow(10, -power);
        }
        return Math.round(significand) / Math.pow(10, power);
    }

    function log10(x) {
        return Math.log(x) / Math.log(10);
    }

    function getWithUnit(value, unitSuffix) {
        if (value < 0.000001) {
            return value * 1000000000 + " n" + unitSuffix;
        }
        if (value < 0.001) {
            return value * 1000000 + " μ" + unitSuffix;
        }
        if (value < 1) {
            return value * 1000 + " m" + unitSuffix;
        }
        if (value >= 1000) {
            return value / 1000 + " k" + unitSuffix;
        }
        return value + " " + unitSuffix;
    }

    function isDefined(variable) {
        return typeof (variable) !== "undefined";
    }
}(OpenSeadragon));

    </script>
    <script> 
       // OpenSeadragon SVG Overlay plugin 0.0.5

(function() {

    var $ = window.OpenSeadragon;
    
    if (!$) {
        $ = require('openseadragon');
        if (!$) {
            throw new Error('OpenSeadragon is missing.');
        }
    }

    var svgNS = 'http://www.w3.org/2000/svg';

    // ----------
    $.Viewer.prototype.svgOverlay = function() {
        if (this._svgOverlayInfo) {
            return this._svgOverlayInfo;
        }

        this._svgOverlayInfo = new Overlay(this);
        return this._svgOverlayInfo;
    };

    // ----------
    var Overlay = function(viewer) {
        var self = this;

        this._viewer = viewer;
        this._containerWidth = 0;
        this._containerHeight = 0;

        this._svg = document.createElementNS(svgNS, 'svg');
        this._svg.style.position = 'absolute';
        this._svg.style.left = 0;
        this._svg.style.top = 0;
        this._svg.style.width = '100%';
        this._svg.style.height = '100%';
        this._viewer.canvas.appendChild(this._svg);

        this._node = document.createElementNS(svgNS, 'g');
        this._svg.appendChild(this._node);

        this._viewer.addHandler('animation', function() {
            self.resize();
        });

        this._viewer.addHandler('open', function() {
            self.resize();
        });

        this._viewer.addHandler('rotate', function(evt) {
            self.resize();
        });

        this._viewer.addHandler('resize', function() {
            self.resize();
        });

        this.resize();
    };

    // ----------
    Overlay.prototype = {
        // ----------
        node: function() {
            return this._node;
        },

        // ----------
        resize: function() {
            if (this._containerWidth !== this._viewer.container.clientWidth) {
                this._containerWidth = this._viewer.container.clientWidth;
                this._svg.setAttribute('width', this._containerWidth);
            }

            if (this._containerHeight !== this._viewer.container.clientHeight) {
                this._containerHeight = this._viewer.container.clientHeight;
                this._svg.setAttribute('height', this._containerHeight);
            }

            var p = this._viewer.viewport.pixelFromPoint(new $.Point(0, 0), true);
            var zoom = this._viewer.viewport.getZoom(true);
            var rotation = this._viewer.viewport.getRotation();
            // TODO: Expose an accessor for _containerInnerSize in the OSD API so we don't have to use the private variable.
            var scale = this._viewer.viewport._containerInnerSize.x * zoom;
            this._node.setAttribute('transform',
                'translate(' + p.x + ',' + p.y + ') scale(' + scale + ') rotate(' + rotation + ')');
        },

        // ----------
        onClick: function(node, handler) {
            // TODO: Fast click for mobile browsers

            new $.MouseTracker({
                element: node,
                clickHandler: handler
            }).setTracking(true);
        }
    };

})();

    </script>
    <script> 
       var MinervaStory=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=36)}([function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(31),i=n(32),a=n(33);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&a(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=s(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return V(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var a,o=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,s/=2,c/=2,n/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var f=-1;for(a=n;a<s;a++)if(u(t,a)===u(e,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===c)return f*o}else-1!==f&&(a-=a-f),f=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var l=!0,h=0;h<c;h++)if(u(t,a+h)!==u(e,h)){l=!1;break}if(l)return a}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[n+o]=s}return o}function w(t,e,n,r){return H(V(e,t.length-n),t,n,r)}function _(t,e,n,r){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return _(t,e,n,r)}function C(t,e,n,r){return H(z(e),t,n,r)}function A(t,e,n,r){return H(function(t,e){for(var n,r,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var a,o,s,c,u=t[i],f=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=n)switch(l){case 1:u<128&&(f=u);break;case 2:128==(192&(a=t[i+1]))&&(c=(31&u)<<6|63&a)>127&&(f=c);break;case 3:a=t[i+1],o=t[i+2],128==(192&a)&&128==(192&o)&&(c=(15&u)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(f=c)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),s=Math.min(a,o),u=this.slice(r,i),f=t.slice(e,n),l=0;l<s;++l)if(u[l]!==f[l]){a=u[l],o=f[l];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function E(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;++a)i+=L(t[a]);return i}function U(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,a){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-n,2);i<a;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-n,4);i<a;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function R(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,a){return a||R(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,a){return a||R(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,a=this[t+--r];r>0&&(i*=256);)a+=this[t+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},c.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<n&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var o=c.isBuffer(t)?t:V(new c(t,r).toString()),s=o.length;for(a=0;a<n-e;++a)this[a+e]=o[a%s]}return this};var O=/[^+\/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){var n;e=e||1/0;for(var r=t.length,i=null,a=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(O,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(30))},function(t,e,n){var r;t.exports=(r=r||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},a=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;e[r+a>>>2]|=o<<24-(r+a)%4*8}else for(a=0;a<i;a+=4)e[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},a=0;a<e;a+=4){var s=i(4294967296*(n||t.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new o.init(r,e)}}),s=r.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var a=e[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new o.init(n,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var a=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new o.init(n,e)}},f=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},l=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,a=this.blockSize,s=i/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,u=t.min(4*c,i);if(c){for(var f=0;f<c;f+=a)this._doProcessBlock(r,f);var l=r.splice(0,c);n.sigBytes-=u}return new o.init(l,u)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(i.Hasher=l.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math),r)},,function(t,e,n){var r,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(a){if(void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i),!0,t.exports=a(),!!0){var o=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=o,s}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function a(e,n,a){if("undefined"!=typeof document){"number"==typeof(a=t({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=e+"="+n+s}}function o(t,n){if("undefined"!=typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=e(s[0]);if(c=(r.read||r)(c,u)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(i[u]=c,t===u)break}catch(t){}}return t?i[t]:i}}return i.set=a,i.get=function(t){return o(t,!1)},i.getJSON=function(t){return o(t,!0)},i.remove=function(e,n){a(e,"",t(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},,function(t,e,n){var r;t.exports=(r=n(1),n(11),n(34),r.HmacSHA256)},,,,,,function(t,e,n){var r;t.exports=(r=n(1),function(t){var e=r,n=e.lib,i=n.WordArray,a=n.Hasher,o=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(s[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],f=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],f=n[5],l=n[6],h=n[7],d=0;d<64;d++){if(d<16)u[d]=0|t[e+d];else{var p=u[d-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=u[d-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[d]=g+u[d-7]+v+u[d-16]}var y=r&i^r&a^i&a,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&f^~s&l)+c[d]+u[d];h=l,l=f,f=s,s=o+w|0,o=a,a=i,i=r,r=w+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=a._createHelper(f),e.HmacSHA256=a._createHmacHelper(f)}(Math),r.SHA256)},function(t,e,n){var r,i,a;t.exports=(a=n(1),i=(r=a).lib.WordArray,r.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var a=0;a<n.length;a++)r[n.charCodeAt(a)]=a}var o=n.charAt(64);if(o){var s=t.indexOf(o);-1!==s&&(e=s)}return function(t,e,n){for(var r=[],a=0,o=0;o<e;o++)if(o%4){var s=n[t.charCodeAt(o-1)]<<o%4*2,c=n[t.charCodeAt(o)]>>>6-o%4*2;r[a>>>2]|=(s|c)<<24-a%4*8,a++}return i.create(r,a)}(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},a.enc.Base64)},function(t,e,n){var r,i=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var a={compressToBase64:function(t){if(null==t)return"";var n=a._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,(function(n){return i(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":a._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:a._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=a.compress(t),n=new Uint8Array(2*e.length),r=0,i=e.length;r<i;r++){var o=e.charCodeAt(r);n[2*r]=o>>>8,n[2*r+1]=o%256}return n},decompressFromUint8Array:function(e){if(null==e)return a.decompress(e);for(var n=new Array(e.length/2),r=0,i=n.length;r<i;r++)n[r]=256*e[2*r]+e[2*r+1];var o=[];return n.forEach((function(e){o.push(t(e))})),a.decompress(o.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":a._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),a._decompress(t.length,32,(function(e){return i(n,t.charAt(e))})))},compress:function(e){return a._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var r,i,a,o={},s={},c="",u="",f="",l=2,h=3,d=2,p=[],g=0,m=0;for(a=0;a<t.length;a+=1)if(c=t.charAt(a),Object.prototype.hasOwnProperty.call(o,c)||(o[c]=h++,s[c]=!0),u=f+c,Object.prototype.hasOwnProperty.call(o,u))f=u;else{if(Object.prototype.hasOwnProperty.call(s,f)){if(f.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==e-1?(m=0,p.push(n(g)),g=0):m++;for(i=f.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)g=g<<1|i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i=0;for(i=f.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}0==--l&&(l=Math.pow(2,d),d++),delete s[f]}else for(i=o[f],r=0;r<d;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;0==--l&&(l=Math.pow(2,d),d++),o[u]=h++,f=String(c)}if(""!==f){if(Object.prototype.hasOwnProperty.call(s,f)){if(f.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==e-1?(m=0,p.push(n(g)),g=0):m++;for(i=f.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)g=g<<1|i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i=0;for(i=f.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}0==--l&&(l=Math.pow(2,d),d++),delete s[f]}else for(i=o[f],r=0;r<d;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;0==--l&&(l=Math.pow(2,d),d++)}for(i=2,r=0;r<d;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;for(;;){if(g<<=1,m==e-1){p.push(n(g));break}m++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:a._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,r){var i,a,o,s,c,u,f,l=[],h=4,d=4,p=3,g="",m=[],v={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)l[i]=i;for(o=0,c=Math.pow(2,2),u=1;u!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*u,u<<=1;switch(o){case 0:for(o=0,c=Math.pow(2,8),u=1;u!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*u,u<<=1;f=t(o);break;case 1:for(o=0,c=Math.pow(2,16),u=1;u!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*u,u<<=1;f=t(o);break;case 2:return""}for(l[3]=f,a=f,m.push(f);;){if(v.index>e)return"";for(o=0,c=Math.pow(2,p),u=1;u!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*u,u<<=1;switch(f=o){case 0:for(o=0,c=Math.pow(2,8),u=1;u!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*u,u<<=1;l[d++]=t(o),f=d-1,h--;break;case 1:for(o=0,c=Math.pow(2,16),u=1;u!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*u,u<<=1;l[d++]=t(o),f=d-1,h--;break;case 2:return m.join("")}if(0==h&&(h=Math.pow(2,p),p++),l[f])g=l[f];else{if(f!==d)return null;g=a+a.charAt(0)}m.push(g),l[d++]=a+g.charAt(0),a=g,0==--h&&(h=Math.pow(2,p),p++)}}};return a}();void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)},,,,function(t,e,n){var r;t.exports=(r=n(1),function(){if("function"==typeof ArrayBuffer){var t=r.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=t[i]<<24-i%4*8;e.call(this,r,n)}else e.apply(this,arguments)}).prototype=t}}(),r.lib.WordArray)},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){(function(e){var r,i,a,o;r=n(35),i=n(18).utf8,a=n(18).bin,(o=function(t,n){var o=r.wordsToBytes(function(t){t.constructor==String?t=i.stringToBytes(t):void 0!==e&&"function"==typeof e.isBuffer&&e.isBuffer(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());var n=r.bytesToWords(t),a=8*t.length,o=[],s=1732584193,c=-271733879,u=-1732584194,f=271733878,l=-1009589776;n[a>>5]|=128<<24-a%32,n[15+(a+64>>>9<<4)]=a;for(var h=0;h<n.length;h+=16){for(var d=s,p=c,g=u,m=f,v=l,y=0;y<80;y++){if(y<16)o[y]=n[h+y];else{var b=o[y-3]^o[y-8]^o[y-14]^o[y-16];o[y]=b<<1|b>>>31}var w=(s<<5|s>>>27)+l+(o[y]>>>0)+(y<20?1518500249+(c&u|~c&f):y<40?1859775393+(c^u^f):y<60?(c&u|c&f|u&f)-1894007588:(c^u^f)-899497514);l=f,f=u,u=c<<30|c>>>2,c=s,s=w}s+=d,c+=p,u+=g,f+=m,l+=v}return[s,c,u,f,l]}(t));return n&&n.asBytes?o:n&&n.asString?a.bytesToString(o):r.bytesToHex(o)})._blocksize=16,o._digestsize=20,t.exports=o}).call(this,n(0).Buffer)},function(t,e,n){var r,i;void 0===(i="function"==typeof(r={schemeGroups:{sequential:["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],singlehue:["Blues","Greens","Greys","Oranges","Purples","Reds"],diverging:["BrBG","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"],qualitative:["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"]},YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}})?r.call(e,n,e,t):r)||(t.exports=i)},,,,,,,,,,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),o=r[0],s=r[1],c=new a(function(t,e,n){return 3*(e+n)/4-n}(0,o,s)),f=0,l=s>0?o-4:o;for(n=0;n<l;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[f++]=e>>16&255,c[f++]=e>>8&255,c[f++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[f++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[f++]=e>>8&255,c[f++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(f(t,o,o+16383>s?s:o+16383));1===i?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t,e,n){for(var i,a,o=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,u=c>>1,f=-7,l=n?i-1:0,h=n?-1:1,d=t[e+l];for(l+=h,a=d&(1<<-f)-1,d>>=-f,f+=s;f>0;a=256*a+t[e+l],l+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=r;f>0;o=256*o+t[e+l],l+=h,f-=8);if(0===a)a=1-u;else{if(a===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=u}return(d?-1:1)*o*Math.pow(2,a-r)},e.write=function(t,e,n,r,i,a){var o,s,c,u=8*a-i-1,f=(1<<u)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(o++,c/=2),o+l>=f?(s=0,o=f):o+l>=1?(s=(e*c-1)*Math.pow(2,i),o+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;t[n+d]=255&o,d+=p,o/=256,u-=8);t[n+d-p]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var r,i,a,o;t.exports=(r=n(1),a=(i=r).lib.Base,o=i.enc.Utf8,void(i.algo.HMAC=a.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),a=this._iKey=e.clone(),s=i.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},function(t,e){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],a=0;a<4;a++)8*r+6*a<=8*t.length?e.push(n.charAt(i>>>6*(3-a)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(t.charAt(r))>>>6-2*i);return e}},t.exports=r},function(t,e,n){"use strict";n.r(e);const r=function(t){return t.replace(/^\s+|\s+$/g,"")};class i{constructor(t){this.subject=t,this.eventListeners=[],this.events={testEvent:"testEvent",osdClickEvent:"osdClickEvent"}}bind(t,e){for(const n of t.split(" ")){this.eventListeners.push({eventName:n,eventFunction:e});const t=t=>e(t.detail,t);this.subject.addEventListener(n,t,!1)}}getListeners(){return this.eventListeners}trigger(t,e){this.subject.dispatchEvent(new CustomEvent(t,{detail:e}))}}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var a,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e||{},r=n.ValidationData,i=n.Username,a=n.Password,o=n.AuthParameters,s=n.ClientMetadata;this.validationData=r||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=i,this.password=a}return t.prototype.getUsername=function(){return this.username},t.prototype.getPassword=function(){return this.password},t.prototype.getValidationData=function(){return this.validationData},t.prototype.getAuthParameters=function(){return this.authParameters},t.prototype.getClientMetadata=function(){return this.clientMetadata},t}(),s=n(0),c=n(1),u=n.n(c),f=(n(17),n(11)),l=n.n(f),h=n(5),d=n.n(h),p=g;function g(t,e){null!=t&&this.fromString(t,e)}function m(){return new g(null)}var v="undefined"!=typeof navigator;v&&"Microsoft Internet Explorer"==navigator.appName?(g.prototype.am=function(t,e,n,r,i,a){for(var o=32767&e,s=e>>15;--a>=0;){var c=32767&this[t],u=this[t++]>>15,f=s*c+u*o;i=((c=o*c+((32767&f)<<15)+n[r]+(1073741823&i))>>>30)+(f>>>15)+s*u+(i>>>30),n[r++]=1073741823&c}return i},a=30):v&&"Netscape"!=navigator.appName?(g.prototype.am=function(t,e,n,r,i,a){for(;--a>=0;){var o=e*this[t++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},a=26):(g.prototype.am=function(t,e,n,r,i,a){for(var o=16383&e,s=e>>14;--a>=0;){var c=16383&this[t],u=this[t++]>>14,f=s*c+u*o;i=((c=o*c+((16383&f)<<14)+n[r]+i)>>28)+(f>>14)+s*u,n[r++]=268435455&c}return i},a=28),g.prototype.DB=a,g.prototype.DM=(1<<a)-1,g.prototype.DV=1<<a;g.prototype.FV=Math.pow(2,52),g.prototype.F1=52-a,g.prototype.F2=2*a-52;var y,b,w=new Array;for(y="0".charCodeAt(0),b=0;b<=9;++b)w[y++]=b;for(y="a".charCodeAt(0),b=10;b<36;++b)w[y++]=b;for(y="A".charCodeAt(0),b=10;b<36;++b)w[y++]=b;function x(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function C(t,e){var n=w[t.charCodeAt(e)];return null==n?-1:n}function A(t){var e=m();return e.fromInt(t),e}function S(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function T(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}T.prototype.convert=function(t){var e=m();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(g.ZERO)>0&&this.m.subTo(e,e),e},T.prototype.revert=function(t){var e=m();return t.copyTo(e),this.reduce(e),e},T.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},T.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},T.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},g.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},g.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},g.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=t.length,i=!1,a=0;--r>=0;){var o=C(t,r);o<0?"-"==t.charAt(r)&&(i=!0):(i=!1,0==a?this[this.t++]=o:a+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this[this.t++]=o>>this.DB-a):this[this.t-1]|=o<<a,(a+=n)>=this.DB&&(a-=this.DB))}this.clamp(),i&&g.ZERO.subTo(this,this)},g.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},g.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},g.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},g.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,a=(1<<i)-1,o=Math.floor(t/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+o+1]=this[n]>>i|s,s=(this[n]&a)<<r;for(n=o-1;n>=0;--n)e[n]=0;e[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()},g.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,a=(1<<r)-1;e[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)e[o-n-1]|=(this[o]&a)<<i,e[o-n]=this[o]>>r;r>0&&(e[this.t-n-1]|=(this.s&a)<<i),e.t=this.t-n,e.clamp()}},g.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},g.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&g.ZERO.subTo(e,e)},g.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},g.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=m());var a=m(),o=this.s,s=t.s,c=this.DB-S(r[r.t-1]);c>0?(r.lShiftTo(c,a),i.lShiftTo(c,n)):(r.copyTo(a),i.copyTo(n));var u=a.t,f=a[u-1];if(0!=f){var l=f*(1<<this.F1)+(u>1?a[u-2]>>this.F2:0),h=this.FV/l,d=(1<<this.F1)/l,p=1<<this.F2,v=n.t,y=v-u,b=null==e?m():e;for(a.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),g.ONE.dlShiftTo(u,b),b.subTo(a,a);a.t<u;)a[a.t++]=0;for(;--y>=0;){var w=n[--v]==f?this.DM:Math.floor(n[v]*h+(n[v-1]+p)*d);if((n[v]+=a.am(0,w,n,y,0,u))<w)for(a.dlShiftTo(y,b),n.subTo(b,n);n[v]<--w;)n.subTo(b,n)}null!=e&&(n.drShiftTo(u,e),o!=s&&g.ZERO.subTo(e,e)),n.t=u,n.clamp(),c>0&&n.rShiftTo(c,n),o<0&&g.ZERO.subTo(n,n)}}},g.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},g.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},g.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString();var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");e=2}var n,r=(1<<e)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%e;if(o-- >0)for(s<this.DB&&(n=this[o]>>s)>0&&(i=!0,a=x(n));o>=0;)s<e?(n=(this[o]&(1<<s)-1)<<e-s,n|=this[--o]>>(s+=this.DB-e)):(n=this[o]>>(s-=e)&r,s<=0&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(a+=x(n));return i?a:"0"},g.prototype.negate=function(){var t=m();return g.ZERO.subTo(this,t),t},g.prototype.abs=function(){return this.s<0?this.negate():this},g.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},g.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+S(this[this.t-1]^this.s&this.DM)},g.prototype.mod=function(t){var e=m();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(g.ZERO)>0&&t.subTo(e,e),e},g.prototype.equals=function(t){return 0==this.compareTo(t)},g.prototype.add=function(t){var e=m();return this.addTo(t,e),e},g.prototype.subtract=function(t){var e=m();return this.subTo(t,e),e},g.prototype.multiply=function(t){var e=m();return this.multiplyTo(t,e),e},g.prototype.divide=function(t){var e=m();return this.divRemTo(t,e,null),e},g.prototype.modPow=function(t,e,n){var r,i=t.bitLength(),a=A(1),o=new T(e);if(i<=0)return a;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var s=new Array,c=3,u=r-1,f=(1<<r)-1;if(s[1]=o.convert(this),r>1){var l=m();for(o.sqrTo(s[1],l);c<=f;)s[c]=m(),o.mulTo(l,s[c-2],s[c]),c+=2}var h,d,p=t.t-1,g=!0,v=m();for(i=S(t[p])-1;p>=0;){for(i>=u?h=t[p]>>i-u&f:(h=(t[p]&(1<<i+1)-1)<<u-i,p>0&&(h|=t[p-1]>>this.DB+i-u)),c=r;0==(1&h);)h>>=1,--c;if((i-=c)<0&&(i+=this.DB,--p),g)s[h].copyTo(a),g=!1;else{for(;c>1;)o.sqrTo(a,v),o.sqrTo(v,a),c-=2;c>0?o.sqrTo(a,v):(d=a,a=v,v=d),o.mulTo(v,s[h],a)}for(;p>=0&&0==(t[p]&1<<i);)o.sqrTo(a,v),d=a,a=v,v=d,--i<0&&(i=this.DB-1,--p)}var y=o.revert(a);return n(null,y),y},g.ZERO=A(0),g.ONE=A(1);
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var M=function(t){return s.Buffer.from(u.a.lib.WordArray.random(t).toString(),"hex")},E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.N=new p("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new p("2",16),this.k=new p(this.hexHash("00"+this.N.toString(16)+"0"+this.g.toString(16)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=s.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}return t.prototype.getSmallAValue=function(){return this.smallAValue},t.prototype.getLargeAValue=function(t){var e=this;this.largeAValue?t(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&t(n,null),e.largeAValue=r,t(null,e.largeAValue)}))},t.prototype.generateRandomSmallA=function(){var t=M(128).toString("hex");return new p(t,16).mod(this.N)},t.prototype.generateRandomString=function(){return M(40).toString("base64")},t.prototype.getRandomPassword=function(){return this.randomPassword},t.prototype.getSaltDevices=function(){return this.SaltToHashDevices},t.prototype.getVerifierDevices=function(){return this.verifierDevices},t.prototype.generateHashDevice=function(t,e,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+t+e+":"+this.randomPassword,a=this.hash(i),o=M(16).toString("hex");this.SaltToHashDevices=this.padHex(new p(o,16)),this.g.modPow(new p(this.hexHash(this.SaltToHashDevices+a),16),this.N,(function(t,e){t&&n(t,null),r.verifierDevices=r.padHex(e),n(null,null)}))},t.prototype.calculateA=function(t,e){var n=this;this.g.modPow(t,this.N,(function(t,r){t&&e(t,null),r.mod(n.N).equals(p.ZERO)&&e(new Error("Illegal paramater. A mod N cannot be 0."),null),e(null,r)}))},t.prototype.calculateU=function(t,e){return this.UHexHash=this.hexHash(this.padHex(t)+this.padHex(e)),new p(this.UHexHash,16)},t.prototype.hash=function(t){var e=t instanceof s.Buffer?u.a.lib.WordArray.create(t):t,n=l()(e).toString();return new Array(64-n.length).join("0")+n},t.prototype.hexHash=function(t){return this.hash(s.Buffer.from(t,"hex"))},t.prototype.computehkdf=function(t,e){var n=u.a.lib.WordArray.create(s.Buffer.concat([this.infoBits,s.Buffer.from(String.fromCharCode(1),"utf8")])),r=t instanceof s.Buffer?u.a.lib.WordArray.create(t):t,i=e instanceof s.Buffer?u.a.lib.WordArray.create(e):e,a=d()(r,i),o=d()(n,a);return s.Buffer.from(o.toString(),"hex").slice(0,16)},t.prototype.getPasswordAuthenticationKey=function(t,e,n,r,i){var a=this;if(n.mod(this.N).equals(p.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(p.ZERO))throw new Error("U cannot be zero.");var o=""+this.poolName+t+":"+e,c=this.hash(o),u=new p(this.hexHash(this.padHex(r)+c),16);this.calculateS(u,n,(function(t,e){t&&i(t,null);var n=a.computehkdf(s.Buffer.from(a.padHex(e),"hex"),s.Buffer.from(a.padHex(a.UValue.toString(16)),"hex"));i(null,n)}))},t.prototype.calculateS=function(t,e,n){var r=this;this.g.modPow(t,this.N,(function(i,a){i&&n(i,null),e.subtract(r.k.multiply(a)).modPow(r.smallAValue.add(r.UValue.multiply(t)),r.N,(function(t,e){t&&n(t,null),n(null,e.mod(r.N))}))}))},t.prototype.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.prototype.padHex=function(t){var e=t.toString(16);return e.length%2==1?e="0"+e:-1!=="89ABCDEFabcdef".indexOf(e[0])&&(e="00"+e),e},t}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jwtToken=e||"",this.payload=this.decodePayload()}return t.prototype.getJwtToken=function(){return this.jwtToken},t.prototype.getExpiration=function(){return this.payload.exp},t.prototype.getIssuedAt=function(){return this.payload.iat},t.prototype.decodePayload=function(){var t=this.jwtToken.split(".")[1];try{return JSON.parse(s.Buffer.from(t,"base64").toString("utf8"))}catch(t){return{}}},t}();function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var P=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.AccessToken;return U(this,e),D(this,t.call(this,r||""))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(k);function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var R=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.IdToken;return I(this,e),N(this,t.call(this,r||""))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(k);function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var F=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.RefreshToken;B(this,t),this.token=n||""}return t.prototype.getToken=function(){return this.token},t}(),O=n(12),L=n.n(O);function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var z=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.IdToken,r=e.RefreshToken,i=e.AccessToken,a=e.ClockDrift;if(V(this,t),null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===a?this.calculateClockDrift():a}return t.prototype.getIdToken=function(){return this.idToken},t.prototype.getRefreshToken=function(){return this.refreshToken},t.prototype.getAccessToken=function(){return this.accessToken},t.prototype.getClockDrift=function(){return this.clockDrift},t.prototype.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.prototype.isValid=function(){var t=Math.floor(new Date/1e3)-this.clockDrift;return t<this.accessToken.getExpiration()&&t<this.idToken.getExpiration()},t}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],j=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.getNowString=function(){var t=new Date,e=Y[t.getUTCDay()],n=H[t.getUTCMonth()],r=t.getUTCDate(),i=t.getUTCHours();i<10&&(i="0"+i);var a=t.getUTCMinutes();a<10&&(a="0"+a);var o=t.getUTCSeconds();return o<10&&(o="0"+o),e+" "+n+" "+r+" "+i+":"+a+":"+o+" UTC "+t.getUTCFullYear()},t}();function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var W=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.Name,r=e.Value;q(this,t),this.Name=n||"",this.Value=r||""}return t.prototype.getValue=function(){return this.Value},t.prototype.setValue=function(t){return this.Value=t,this},t.prototype.getName=function(){return this.Name},t.prototype.setName=function(t){return this.Name=t,this},t.prototype.toString=function(){return JSON.stringify(this)},t.prototype.toJSON=function(){return{Name:this.Name,Value:this.Value}},t}();function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var G={},X=function(){function t(){K(this,t)}return t.setItem=function(t,e){return G[t]=e,G[t]},t.getItem=function(t){return Object.prototype.hasOwnProperty.call(G,t)?G[t]:void 0},t.removeItem=function(t){return delete G[t]},t.clear=function(){return G={}},t}(),J=function(){function t(){K(this,t);try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(t){this.storageWindow=X}}return t.prototype.getStorage=function(){return this.storageWindow},t}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var Z=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e||null==e.Username||null==e.Pool)throw new Error("Username and pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new J).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}return t.prototype.setSignInUserSession=function(t){this.clearCachedUserData(),this.signInUserSession=t,this.cacheTokens()},t.prototype.getSignInUserSession=function(){return this.signInUserSession},t.prototype.getUsername=function(){return this.username},t.prototype.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.prototype.setAuthenticationFlowType=function(t){this.authenticationFlowType=t},t.prototype.initiateAuth=function(t,e){var n=this,r=t.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),a={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",a,(function(t,r){if(t)return e.onFailure(t);var i=r.ChallengeName,a=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,e.customChallenge(a)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))},t.prototype.authenticateUser=function(t,e){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(t,e):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(t,e):e.onFailure(new Error("Authentication flow type is invalid."))},t.prototype.authenticateUserDefaultAuth=function(t,e){var n=this,r=new E(this.pool.getUserPoolId().split("_")[1]),i=new j,a=void 0,o=void 0,c={};null!=this.deviceKey&&(c.DEVICE_KEY=this.deviceKey),c.USERNAME=this.username,r.getLargeAValue((function(f,l){f&&e.onFailure(f),c.SRP_A=l.toString(16),"CUSTOM_AUTH"===n.authenticationFlowType&&(c.CHALLENGE_NAME="SRP_A");var h=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),g={AuthFlow:n.authenticationFlowType,ClientId:n.pool.getClientId(),AuthParameters:c,ClientMetadata:h};n.getUserContextData(n.username)&&(g.UserContextData=n.getUserContextData(n.username)),n.client.request("InitiateAuth",g,(function(c,f){if(c)return e.onFailure(c);var l=f.ChallengeParameters;n.username=l.USER_ID_FOR_SRP,a=new p(l.SRP_B,16),o=new p(l.SALT,16),n.getCachedDeviceKeyAndPassword(),r.getPasswordAuthenticationKey(n.username,t.getPassword(),a,o,(function(t,a){t&&e.onFailure(t);var o=i.getNowString(),c=u.a.lib.WordArray.create(s.Buffer.concat([s.Buffer.from(n.pool.getUserPoolId().split("_")[1],"utf8"),s.Buffer.from(n.username,"utf8"),s.Buffer.from(l.SECRET_BLOCK,"base64"),s.Buffer.from(o,"utf8")])),p=u.a.lib.WordArray.create(a),g=L.a.stringify(d()(c,p)),m={};m.USERNAME=n.username,m.PASSWORD_CLAIM_SECRET_BLOCK=l.SECRET_BLOCK,m.TIMESTAMP=o,m.PASSWORD_CLAIM_SIGNATURE=g,null!=n.deviceKey&&(m.DEVICE_KEY=n.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:m,Session:f.Session,ClientMetadata:h};n.getUserContextData()&&(v.UserContextData=n.getUserContextData()),function t(e,r){return n.client.request("RespondToAuthChallenge",e,(function(i,a){return i&&"ResourceNotFoundException"===i.code&&-1!==i.message.toLowerCase().indexOf("device")?(m.DEVICE_KEY=null,n.deviceKey=null,n.randomPassword=null,n.deviceGroupKey=null,n.clearCachedDeviceKeyAndPassword(),t(e,r)):r(i,a)}))}(v,(function(t,i){return t?e.onFailure(t):n.authenticateUserInternal(i,r,e)}))}))}))}))},t.prototype.authenticateUserPlainUsernamePassword=function(t,e){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=t.getPassword(),r.PASSWORD){var i=new E(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var a=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),o={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:a};this.getUserContextData(this.username)&&(o.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",o,(function(t,r){return t?e.onFailure(t):n.authenticateUserInternal(r,i,e)}))}else e.onFailure(new Error("PASSWORD parameter is required"))},t.prototype.authenticateUserInternal=function(t,e,n){var r=this,i=t.ChallengeName,a=t.ChallengeParameters;if("SMS_MFA"===i)return this.Session=t.Session,n.mfaRequired(i,a);if("SELECT_MFA_TYPE"===i)return this.Session=t.Session,n.selectMFAType(i,a);if("MFA_SETUP"===i)return this.Session=t.Session,n.mfaSetup(i,a);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=t.Session,n.totpRequired(i,a);if("CUSTOM_CHALLENGE"===i)return this.Session=t.Session,n.customChallenge(a);if("NEW_PASSWORD_REQUIRED"===i){this.Session=t.Session;var o=null,c=null,u=[],f=e.getNewPasswordRequiredChallengeUserAttributePrefix();if(a&&(o=JSON.parse(t.ChallengeParameters.userAttributes),c=JSON.parse(t.ChallengeParameters.requiredAttributes)),c)for(var l=0;l<c.length;l++)u[l]=c[l].substr(f.length);return n.newPasswordRequired(o,u)}if("DEVICE_SRP_AUTH"!==i){this.signInUserSession=this.getCognitoUserSession(t.AuthenticationResult),this.challengeName=i,this.cacheTokens();var h=t.AuthenticationResult.NewDeviceMetadata;if(null==h)return n.onSuccess(this.signInUserSession);e.generateHashDevice(t.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,t.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var a={Salt:s.Buffer.from(e.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:s.Buffer.from(e.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=a.PasswordVerifier,r.deviceGroupKey=h.DeviceGroupKey,r.randomPassword=e.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:h.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:navigator.userAgent},(function(e,i){return e?n.onFailure(e):(r.deviceKey=t.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))}else this.getDeviceResponse(n)},t.prototype.completeNewPasswordChallenge=function(t,e,n,r){var i=this;if(!t)return n.onFailure(new Error("New password is required."));var a=new E(this.pool.getUserPoolId().split("_")[1]),o=a.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};e&&Object.keys(e).forEach((function(t){s[o+t]=e[t]})),s.NEW_PASSWORD=t,s.USERNAME=this.username;var c={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,(function(t,e){return t?n.onFailure(t):i.authenticateUserInternal(e,a,n)}))},t.prototype.getDeviceResponse=function(t,e){var n=this,r=new E(this.deviceGroupKey),i=new j,a={};a.USERNAME=this.username,a.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(o,c){o&&t.onFailure(o),a.SRP_A=c.toString(16);var f={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:a,ClientMetadata:e};n.getUserContextData()&&(f.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",f,(function(e,a){if(e)return t.onFailure(e);var o=a.ChallengeParameters,c=new p(o.SRP_B,16),f=new p(o.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,c,f,(function(e,r){if(e)return t.onFailure(e);var c=i.getNowString(),f=u.a.lib.WordArray.create(s.Buffer.concat([s.Buffer.from(n.deviceGroupKey,"utf8"),s.Buffer.from(n.deviceKey,"utf8"),s.Buffer.from(o.SECRET_BLOCK,"base64"),s.Buffer.from(c,"utf8")])),l=u.a.lib.WordArray.create(r),h=L.a.stringify(d()(f,l)),p={};p.USERNAME=n.username,p.PASSWORD_CLAIM_SECRET_BLOCK=o.SECRET_BLOCK,p.TIMESTAMP=c,p.PASSWORD_CLAIM_SIGNATURE=h,p.DEVICE_KEY=n.deviceKey;var g={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:p,Session:a.Session};n.getUserContextData()&&(g.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",g,(function(e,r){return e?t.onFailure(e):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))}))}))}))},t.prototype.confirmRegistration=function(t,e,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:t,Username:this.username,ForceAliasCreation:e,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(t){return t?n(t,null):n(null,"SUCCESS")}))},t.prototype.sendCustomChallengeAnswer=function(t,e,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=t;var a=new E(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var o={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,(function(t,n){return t?e.onFailure(t):r.authenticateUserInternal(n,a,e)}))},t.prototype.sendMFACode=function(t,e,n,r){var i=this,a={};a.USERNAME=this.username,a.SMS_MFA_CODE=t;var o=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===o&&(a.SOFTWARE_TOKEN_MFA_CODE=t),null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey);var c={ChallengeName:o,ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,(function(t,n){if(t)return e.onFailure(t);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return e.onSuccess(i.signInUserSession);var r=new E(i.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(t){if(t)return e.onFailure(t);var a={Salt:s.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:s.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=a.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:navigator.userAgent},(function(t,r){return t?e.onFailure(t):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?e.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):e.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(e)}))},t.prototype.changePassword=function(t,e,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:t,ProposedPassword:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(t){return t?n(t,null):n(null,"SUCCESS")}))},t.prototype.enableMFA=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);var e=[];e.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):t(null,"SUCCESS")}))},t.prototype.setUserMfaPreference=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:t,SoftwareTokenMfaSettings:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?n(t,null):n(null,"SUCCESS")}))},t.prototype.disableMFA=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):t(null,"SUCCESS")}))},t.prototype.deleteUser=function(t,e){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:e},(function(e){return e?t(e,null):(n.clearCachedUser(),t(null,"SUCCESS"))}))},t.prototype.updateAttributes=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:t,ClientMetadata:n},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.prototype.getUserAttributes=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e,n){if(e)return t(e,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var a={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},o=new W(a);r.push(o)}return t(null,r)}))},t.prototype.getMFAOptions=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e,n){return e?t(e,null):t(null,n.MFAOptions)}))},t.prototype.getUserData=function(t,e){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),t(new Error("User is not authenticated"),null);var r=!!e&&e.bypassCache,i=this.storage.getItem(this.userDataKey);if(!i||r)this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e,r){if(e)return t(e,null);n.cacheUserData(r);var i=n.signInUserSession.getRefreshToken();if(!i||!i.getToken())return t(null,r);n.refreshSession(i,(function(e,n){return e?t(e,null):t(null,r)}))}));else try{return t(null,JSON.parse(i))}catch(e){return this.clearCachedUserData(),t(e,null)}},t.prototype.deleteAttributes=function(t,e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.prototype.resendConfirmationCode=function(t,e){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:e};this.client.request("ResendConfirmationCode",n,(function(e,n){return e?t(e,null):t(null,n)}))},t.prototype.getSession=function(t){if(null==this.username)return t(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return t(null,this.signInUserSession);var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=e+".idToken",r=e+".accessToken",i=e+".refreshToken",a=e+".clockDrift";if(this.storage.getItem(n)){var o=new R({IdToken:this.storage.getItem(n)}),s=new P({AccessToken:this.storage.getItem(r)}),c=new F({RefreshToken:this.storage.getItem(i)}),u=parseInt(this.storage.getItem(a),0)||0,f=new z({IdToken:o,AccessToken:s,RefreshToken:c,ClockDrift:u});if(f.isValid())return this.signInUserSession=f,t(null,this.signInUserSession);if(!c.getToken())return t(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,t)}else t(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.prototype.refreshSession=function(t,e,n){var r=this,i={};i.REFRESH_TOKEN=t.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),o=a+".LastAuthUser";if(this.storage.getItem(o)){this.username=this.storage.getItem(o);var s=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(s),i.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:i,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(n,i){if(n)return"NotAuthorizedException"===n.code&&r.clearCachedUser(),e(n,null);if(i){var a=i.AuthenticationResult;return Object.prototype.hasOwnProperty.call(a,"RefreshToken")||(a.RefreshToken=t.getToken()),r.signInUserSession=r.getCognitoUserSession(a),r.cacheTokens(),e(null,r.signInUserSession)}}))},t.prototype.cacheTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),e=t+"."+this.username+".idToken",n=t+"."+this.username+".accessToken",r=t+"."+this.username+".refreshToken",i=t+"."+this.username+".clockDrift",a=t+".LastAuthUser";this.storage.setItem(e,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(a,this.username)},t.prototype.cacheUserData=function(t){this.storage.setItem(this.userDataKey,JSON.stringify(t))},t.prototype.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.prototype.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.prototype.cacheDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,e=t+".deviceKey",n=t+".randomPasswordKey",r=t+".deviceGroupKey";this.storage.setItem(e,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.prototype.getCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,e=t+".deviceKey",n=t+".randomPasswordKey",r=t+".deviceGroupKey";this.storage.getItem(e)&&(this.deviceKey=this.storage.getItem(e),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.prototype.clearCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,e=t+".deviceKey",n=t+".randomPasswordKey",r=t+".deviceGroupKey";this.storage.removeItem(e),this.storage.removeItem(n),this.storage.removeItem(r)},t.prototype.clearCachedTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),e=t+"."+this.username+".idToken",n=t+"."+this.username+".accessToken",r=t+"."+this.username+".refreshToken",i=t+".LastAuthUser",a=t+"."+this.username+".clockDrift";this.storage.removeItem(e),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(a)},t.prototype.getCognitoUserSession=function(t){var e=new R(t),n=new P(t),r=new F(t);return new z({IdToken:e,AccessToken:n,RefreshToken:r})},t.prototype.forgotPassword=function(t,e){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:e};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess(n)}))},t.prototype.confirmPassword=function(t,e,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:t,Password:e,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(t){return t?n.onFailure(t):n.onSuccess()}))},t.prototype.getAttributeVerificationCode=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess()}))},t.prototype.verifyAttribute=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:t,Code:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?n.onFailure(t):n.onSuccess("SUCCESS")}))},t.prototype.getDevice=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(e,n){return e?t.onFailure(e):t.onSuccess(n)}))},t.prototype.forgetSpecificDevice=function(t,e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:t},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.prototype.forgetDevice=function(t){var e=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:t.onFailure,onSuccess:function(n){return e.deviceKey=null,e.deviceGroupKey=null,e.randomPassword=null,e.clearCachedDeviceKeyAndPassword(),t.onSuccess(n)}})},t.prototype.setDeviceStatusRemembered=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.prototype.setDeviceStatusNotRemembered=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.prototype.listDevices=function(t,e,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("ListDevices",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:t,PaginationToken:e},(function(t,e){return t?n.onFailure(t):n.onSuccess(e)}))},t.prototype.globalSignOut=function(t){var e=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?t.onFailure(n):(e.clearCachedUser(),t.onSuccess("SUCCESS"))}))},t.prototype.signOut=function(){this.signInUserSession=null,this.clearCachedUser()},t.prototype.sendMFASelectionAnswer=function(t,e){var n=this,r={};r.USERNAME=this.username,r.ANSWER=t;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?e.onFailure(r):(n.Session=i.Session,"SMS_MFA"===t?e.mfaRequired(i.challengeName,i.challengeParameters):"SOFTWARE_TOKEN_MFA"===t?e.totpRequired(i.challengeName,i.challengeParameters):void 0)}))},t.prototype.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.prototype.associateSoftwareToken=function(t){var e=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e,n){return e?t.onFailure(e):t.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?t.onFailure(n):(e.Session=r.Session,t.associateSecretCode(r.SecretCode))}))},t.prototype.verifySoftwareToken=function(t,e,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:t,FriendlyDeviceName:e},(function(t,e){return t?n.onFailure(t):n.onSuccess(e)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:t,FriendlyDeviceName:e},(function(t,e){if(t)return n.onFailure(t);r.Session=e.Session;var i={};i.USERNAME=r.username;var a={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(a.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",a,(function(t,e){return t?n.onFailure(t):(r.signInUserSession=r.getCognitoUserSession(e.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},t}(),Q=tt;function tt(){}tt.prototype.userAgent="aws-amplify/0.1.x js";var et=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.endpoint=n||"https://cognito-idp."+e+".amazonaws.com/",this.userAgent=Q.prototype.userAgent||"aws-amplify/0.1.x js"}return t.prototype.request=function(t,e,n){var r={headers:{"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+t,"X-Amz-User-Agent":this.userAgent},method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(e)},i=void 0;fetch(this.endpoint,r).then((function(t){return i=t,t}),(function(t){if(t instanceof TypeError)throw new Error("Network error");throw t})).then((function(t){return t.json().catch((function(){return{}}))})).then((function(t){if(i.ok)return n(null,t);t;var e=(t.__type||t.code).split("#").pop(),r={code:e,name:e,message:t.message||t.Message||null};return n(r)})).catch((function(t){if(!(i&&i.headers&&i.headers.get("x-amzn-errortype"))){if(t instanceof Error&&"Network error"===t.message){var e={code:"NetworkError",name:t.name,message:t.message};return n(e)}return n(t)}try{var r=i.headers.get("x-amzn-errortype").split(":")[0],a={code:r,name:r,statusCode:i.status,message:i.status?i.status.toString():null};return n(a)}catch(e){return n(t)}}))},t}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var nt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e||{},r=n.UserPoolId,i=n.ClientId,a=n.endpoint,o=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(!/^[\w-]+_.+$/.test(r))throw new Error("Invalid UserPoolId format.");var s=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new et(s,a),this.advancedSecurityDataCollectionFlag=!1!==o,this.storage=e.Storage||(new J).getStorage()}return t.prototype.getUserPoolId=function(){return this.userPoolId},t.prototype.getClientId=function(){return this.clientId},t.prototype.signUp=function(t,e,n,r,i,a){var o=this,s={ClientId:this.clientId,Username:t,Password:e,UserAttributes:n,ValidationData:r,ClientMetadata:a};this.getUserContextData(t)&&(s.UserContextData=this.getUserContextData(t)),this.client.request("SignUp",s,(function(e,n){if(e)return i(e,null);var r={Username:t,Pool:o,Storage:o.storage},a={user:new Z(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,a)}))},t.prototype.getCurrentUser=function(){var t="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",e=this.storage.getItem(t);if(e){var n={Username:e,Pool:this,Storage:this.storage};return new Z(n)}return null},t.prototype.getUserContextData=function(t){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var e=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=e.getData(t,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},t}(),rt=n(3);!function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0}t.prototype.setItem=function(t,e){return rt.set(t,e,{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure}),rt.get(t)},t.prototype.getItem=function(t){return rt.get(t)},t.prototype.removeItem=function(t){return rt.remove(t,{path:this.path,domain:this.domain,secure:this.secure})},t.prototype.clear=function(){var t=rt.get(),e=void 0;for(e=0;e<t.length;++e)rt.remove(t[e]);return{}}}();var it=n(19),at=n.n(it);const ot=function(t,e,n){var r;function i(){var i,a;n.userAgent.match(/ipad|iphone/i)?((i=e.createRange()).selectNodeContents(r),(a=t.getSelection()).removeAllRanges(),a.addRange(i),r.setSelectionRange(0,999999)):r.select()}return{copy:function(t){!function(t){(r=e.createElement("textArea")).value=t,e.body.appendChild(r)}(t),i(),e.execCommand("copy"),e.body.removeChild(r)}}}(window,document,navigator);var st=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},ct=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return st(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}};var ut=ct(st),ft=ut.right,lt=(ut.left,ft);var ht=function(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},dt=Array.prototype,pt=(dt.slice,dt.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}),gt=Math.sqrt(50),mt=Math.sqrt(10),vt=Math.sqrt(2),yt=function(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=bt(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a};function bt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=gt?10:a>=mt?5:a>=vt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=gt?10:a>=mt?5:a>=vt?2:1)}function wt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=gt?i*=10:a>=mt?i*=5:a>=vt&&(i*=2),e<t?-i:i}var _t=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r},xt=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&r>n&&(r=n);return r};var Ct=Array.prototype.slice,At=function(t){return t};function St(t){return"translate("+(t+.5)+",0)"}function Tt(t){return"translate(0,"+(t+.5)+")"}function Mt(t){return function(e){return+t(e)}}function Et(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function kt(){return!this.__axis}function Ut(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,c=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",f=1===t||3===t?St:Tt;function l(l){var h=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,d=null==i?e.tickFormat?e.tickFormat.apply(e,n):At:i,p=Math.max(a,0)+s,g=e.range(),m=+g[0]+.5,v=+g[g.length-1]+.5,y=(e.bandwidth?Et:Mt)(e.copy()),b=l.selection?l.selection():l,w=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(h,e).order(),x=_.exit(),C=_.enter().append("g").attr("class","tick"),A=_.select("line"),S=_.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(C),A=A.merge(C.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),S=S.merge(C.append("text").attr("fill","currentColor").attr(u,c*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),l!==b&&(w=w.transition(l),_=_.transition(l),A=A.transition(l),S=S.transition(l),x=x.transition(l).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=y(t))?f(t):this.getAttribute("transform")})),C.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return f(e&&isFinite(e=e(t))?e:y(t))}))),x.remove(),w.attr("d",4===t||2==t?o?"M"+c*o+","+m+"H0.5V"+v+"H"+c*o:"M0.5,"+m+"V"+v:o?"M"+m+","+c*o+"V0.5H"+v+"V"+c*o:"M"+m+",0.5H"+v),_.attr("opacity",1).attr("transform",(function(t){return f(y(t))})),A.attr(u+"2",c*a),S.attr(u,c*p).text(d),b.filter(kt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=y}))}return l.scale=function(t){return arguments.length?(e=t,l):e},l.ticks=function(){return n=Ct.call(arguments),l},l.tickArguments=function(t){return arguments.length?(n=null==t?[]:Ct.call(t),l):n.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:Ct.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(a=o=+t,l):a},l.tickSizeInner=function(t){return arguments.length?(a=+t,l):a},l.tickSizeOuter=function(t){return arguments.length?(o=+t,l):o},l.tickPadding=function(t){return arguments.length?(s=+t,l):s},l}function Dt(t){return Ut(3,t)}function Pt(t){return Ut(4,t)}var It={value:function(){}};function Nt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Rt(r)}function Rt(t){this._=t}function Bt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Ft(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Ot(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=It,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Rt.prototype=Nt.prototype={constructor:Rt,on:function(t,e){var n,r=this._,i=Bt(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=Ot(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ot(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=Ft(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Rt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var Lt=Nt;function Vt(){}var zt=function(t){return null==t?Vt:function(){return this.querySelector(t)}};function Ht(){return[]}var $t=function(t){return null==t?Ht:function(){return this.querySelectorAll(t)}},Yt=function(t){return function(){return this.matches(t)}},jt=function(t){return new Array(t.length)};function qt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}qt.prototype={constructor:qt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Wt(t,e,n,r,i,a){for(var o,s=0,c=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new qt(t,a[s]);for(;s<c;++s)(o=e[s])&&(i[s]=o)}function Kt(t,e,n,r,i,a,o){var s,c,u,f={},l=e.length,h=a.length,d=new Array(l);for(s=0;s<l;++s)(c=e[s])&&(d[s]=u="$"+o.call(c,c.__data__,s,e),u in f?i[s]=c:f[u]=c);for(s=0;s<h;++s)(c=f[u="$"+o.call(t,a[s],s,a)])?(r[s]=c,c.__data__=a[s],f[u]=null):n[s]=new qt(t,a[s]);for(s=0;s<l;++s)(c=e[s])&&f[d[s]]===c&&(i[s]=c)}function Gt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Xt="http://www.w3.org/1999/xhtml",Jt={svg:"http://www.w3.org/2000/svg",xhtml:Xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Jt.hasOwnProperty(e)?{space:Jt[e],local:t}:t};function Qt(t){return function(){this.removeAttribute(t)}}function te(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ee(t,e){return function(){this.setAttribute(t,e)}}function ne(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function re(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ie(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var ae=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function oe(t){return function(){this.style.removeProperty(t)}}function se(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ce(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ue(t,e){return t.style.getPropertyValue(e)||ae(t).getComputedStyle(t,null).getPropertyValue(e)}function fe(t){return function(){delete this[t]}}function le(t,e){return function(){this[t]=e}}function he(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function de(t){return t.trim().split(/^|\s+/)}function pe(t){return t.classList||new ge(t)}function ge(t){this._node=t,this._names=de(t.getAttribute("class")||"")}function me(t,e){for(var n=pe(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ve(t,e){for(var n=pe(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ye(t){return function(){me(this,t)}}function be(t){return function(){ve(this,t)}}function we(t,e){return function(){(e.apply(this,arguments)?me:ve)(this,t)}}ge.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function _e(){this.textContent=""}function xe(t){return function(){this.textContent=t}}function Ce(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ae(){this.innerHTML=""}function Se(t){return function(){this.innerHTML=t}}function Te(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Me(){this.nextSibling&&this.parentNode.appendChild(this)}function Ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ke(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Xt&&e.documentElement.namespaceURI===Xt?e.createElement(t):e.createElementNS(n,t)}}function Ue(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var De=function(t){var e=Zt(t);return(e.local?Ue:ke)(e)};function Pe(){return null}function Ie(){var t=this.parentNode;t&&t.removeChild(this)}function Ne(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Re(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var Be={},Fe=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Be={mouseenter:"mouseover",mouseleave:"mouseout"}));function Oe(t,e,n){return t=Le(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Le(t,e,n){return function(r){var i=Fe;Fe=r;try{t.call(this,this.__data__,e,n)}finally{Fe=i}}}function Ve(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ze(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function He(t,e,n){var r=Be.hasOwnProperty(t.type)?Oe:Le;return function(i,a,o){var s,c=this.__on,u=r(e,a,o);if(c)for(var f=0,l=c.length;f<l;++f)if((s=c[f]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},c?c.push(s):this.__on=[s]}}function $e(t,e,n,r){var i=Fe;t.sourceEvent=Fe,Fe=t;try{return e.apply(n,r)}finally{Fe=i}}function Ye(t,e,n){var r=ae(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function je(t,e){return function(){return Ye(this,t,e)}}function qe(t,e){return function(){return Ye(this,t,e.apply(this,arguments))}}var We=[null];function Ke(t,e){this._groups=t,this._parents=e}function Ge(){return new Ke([[document.documentElement]],We)}Ke.prototype=Ge.prototype={constructor:Ke,select:function(t){"function"!=typeof t&&(t=zt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],c=s.length,u=r[i]=new Array(c),f=0;f<c;++f)(a=s[f])&&(o=t.call(a,a.__data__,f,s))&&("__data__"in a&&(o.__data__=a.__data__),u[f]=o);return new Ke(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=$t(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],c=s.length,u=0;u<c;++u)(o=s[u])&&(r.push(t.call(o,o.__data__,u,s)),i.push(o));return new Ke(r,i)},filter:function(t){"function"!=typeof t&&(t=Yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,c=r[i]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new Ke(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),f=-1,this.each((function(t){p[++f]=t})),p;var n,r=e?Kt:Wt,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),c=new Array(o),u=new Array(o),f=0;f<o;++f){var l=i[f],h=a[f],d=h.length,p=t.call(l,l&&l.__data__,f,i),g=p.length,m=c[f]=new Array(g),v=s[f]=new Array(g);r(l,h,m,v,u[f]=new Array(d),p,e);for(var y,b,w=0,_=0;w<g;++w)if(y=m[w]){for(w>=_&&(_=w+1);!(b=v[_])&&++_<g;);y._next=b||null}}return(s=new Ke(s,i))._enter=c,s._exit=u,s},enter:function(){return new Ke(this._enter||this._groups.map(jt),this._parents)},exit:function(){return new Ke(this._exit||this._groups.map(jt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c,u=e[s],f=n[s],l=u.length,h=o[s]=new Array(l),d=0;d<l;++d)(c=u[d]||f[d])&&(h[d]=c);for(;s<r;++s)o[s]=e[s];return new Ke(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Gt);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],c=s.length,u=i[a]=new Array(c),f=0;f<c;++f)(o=s[f])&&(u[f]=o);u.sort(e)}return new Ke(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=Zt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?te:Qt:"function"==typeof e?n.local?ie:re:n.local?ne:ee)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?oe:"function"==typeof e?ce:se)(t,e,null==n?"":n)):ue(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?fe:"function"==typeof e?he:le)(t,e)):this.node()[t]},classed:function(t,e){var n=de(t+"");if(arguments.length<2){for(var r=pe(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?we:e?ye:be)(n,e))},text:function(t){return arguments.length?this.each(null==t?_e:("function"==typeof t?Ce:xe)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ae:("function"==typeof t?Te:Se)(t)):this.node().innerHTML},raise:function(){return this.each(Me)},lower:function(){return this.each(Ee)},append:function(t){var e="function"==typeof t?t:De(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:De(t),r=null==e?Pe:"function"==typeof e?e:zt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ie)},clone:function(t){return this.select(t?Re:Ne)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=Ve(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?He:ze,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var c,u=0,f=s.length;u<f;++u)for(r=0,c=s[u];r<o;++r)if((i=a[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?qe:je)(t,e))}};var Xe=Ge,Je=function(t){return"string"==typeof t?new Ke([[document.querySelector(t)]],[document.documentElement]):new Ke([[t]],We)};var Ze=function(){Fe.preventDefault(),Fe.stopImmediatePropagation()},Qe=function(t){var e=t.document.documentElement,n=Je(t).on("dragstart.drag",Ze,!0);"onselectstart"in e?n.on("selectstart.drag",Ze,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function tn(t,e){var n=t.document.documentElement,r=Je(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ze,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var en=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function nn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rn(){}var an="\\s*([+-]?\\d+)\\s*",on="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cn=/^#([0-9a-f]{3,8})$/,un=new RegExp("^rgb\\("+[an,an,an]+"\\)$"),fn=new RegExp("^rgb\\("+[sn,sn,sn]+"\\)$"),ln=new RegExp("^rgba\\("+[an,an,an,on]+"\\)$"),hn=new RegExp("^rgba\\("+[sn,sn,sn,on]+"\\)$"),dn=new RegExp("^hsl\\("+[on,sn,sn]+"\\)$"),pn=new RegExp("^hsla\\("+[on,sn,sn,on]+"\\)$"),gn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mn(){return this.rgb().formatHex()}function vn(){return this.rgb().formatRgb()}function yn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=cn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?bn(e):3===n?new Cn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new Cn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new Cn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=un.exec(t))?new Cn(e[1],e[2],e[3],1):(e=fn.exec(t))?new Cn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ln.exec(t))?wn(e[1],e[2],e[3],e[4]):(e=hn.exec(t))?wn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=dn.exec(t))?Mn(e[1],e[2]/100,e[3]/100,1):(e=pn.exec(t))?Mn(e[1],e[2]/100,e[3]/100,e[4]):gn.hasOwnProperty(t)?bn(gn[t]):"transparent"===t?new Cn(NaN,NaN,NaN,0):null}function bn(t){return new Cn(t>>16&255,t>>8&255,255&t,1)}function wn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cn(t,e,n,r)}function _n(t){return t instanceof rn||(t=yn(t)),t?new Cn((t=t.rgb()).r,t.g,t.b,t.opacity):new Cn}function xn(t,e,n,r){return 1===arguments.length?_n(t):new Cn(t,e,n,null==r?1:r)}function Cn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function An(){return"#"+Tn(this.r)+Tn(this.g)+Tn(this.b)}function Sn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Tn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Mn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new kn(t,e,n,r)}function En(t){if(t instanceof kn)return new kn(t.h,t.s,t.l,t.opacity);if(t instanceof rn||(t=yn(t)),!t)return new kn;if(t instanceof kn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new kn(o,s,c,t.opacity)}function kn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Un(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Dn(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}en(rn,yn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:mn,formatHex:mn,formatHsl:function(){return En(this).formatHsl()},formatRgb:vn,toString:vn}),en(Cn,xn,nn(rn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:An,formatHex:An,formatRgb:Sn,toString:Sn})),en(kn,(function(t,e,n,r){return 1===arguments.length?En(t):new kn(t,e,n,null==r?1:r)}),nn(rn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new kn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new kn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cn(Un(t>=240?t-240:t+120,i,r),Un(t,i,r),Un(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Pn=function(t){return function(){return t}};function In(t,e){return function(n){return t+n*e}}function Nn(t){return 1==(t=+t)?Rn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Pn(isNaN(e)?n:e)}}function Rn(t,e){var n=e-t;return n?In(t,n):Pn(isNaN(t)?e:t)}var Bn=function t(e){var n=Nn(e);function r(t,e){var r=n((t=xn(t)).r,(e=xn(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Rn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Fn(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=xn(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}Fn((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return Dn((n-r/e)*e,o,i,a,s)}})),Fn((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return Dn((n-r/e)*e,i,a,o,s)}}));var On=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}};function Ln(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Vn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Gn(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}var zn=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},Hn=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},$n=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Gn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Yn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jn=new RegExp(Yn.source,"g");var qn,Wn,Kn=function(t,e){var n,r,i,a=Yn.lastIndex=jn.lastIndex=0,o=-1,s=[],c=[];for(t+="",e+="";(n=Yn.exec(t))&&(r=jn.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,c.push({i:o,x:Hn(n,r)})),a=jn.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})},Gn=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?Pn(e):("number"===r?Hn:"string"===r?(n=yn(e))?(e=n,Bn):Kn:e instanceof yn?Bn:e instanceof Date?zn:Ln(e)?On:Array.isArray(e)?Vn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?$n:Hn)(t,e)},Xn=function(){for(var t,e=Fe;t=e.sourceEvent;)e=t;return e},Jn=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Zn=function(t,e,n){arguments.length<3&&(n=e,e=Xn().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return Jn(t,r);return null},Qn=function(t){var e=Xn();return e.changedTouches&&(e=e.changedTouches[0]),Jn(t,e)},tr=0,er=0,nr=0,rr=0,ir=0,ar=0,or="object"==typeof performance&&performance.now?performance:Date,sr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function cr(){return ir||(sr(ur),ir=or.now()+ar)}function ur(){ir=0}function fr(){this._call=this._time=this._next=null}function lr(t,e,n){var r=new fr;return r.restart(t,e,n),r}function hr(){ir=(rr=or.now())+ar,tr=er=0;try{!function(){cr(),++tr;for(var t,e=qn;e;)(t=ir-e._time)>=0&&e._call.call(null,t),e=e._next;--tr}()}finally{tr=0,function(){var t,e,n=qn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:qn=e);Wn=t,pr(r)}(),ir=0}}function dr(){var t=or.now(),e=t-rr;e>1e3&&(ar-=e,rr=t)}function pr(t){tr||(er&&(er=clearTimeout(er)),t-ir>24?(t<1/0&&(er=setTimeout(hr,t-or.now()-ar)),nr&&(nr=clearInterval(nr))):(nr||(rr=or.now(),nr=setInterval(dr,1e3)),tr=1,sr(hr)))}fr.prototype=lr.prototype={constructor:fr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?cr():+n)+(null==e?0:+e),this._next||Wn===this||(Wn?Wn._next=this:qn=this,Wn=this),this._call=t,this._time=n,pr()},stop:function(){this._call&&(this._call=null,this._time=1/0,pr())}};var gr=function(t,e,n){var r=new fr;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},mr=Lt("start","end","cancel","interrupt"),vr=[],yr=function(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(c){var u,f,l,h;if(1!==n.state)return s();for(u in i)if((h=i[u]).name===n.name){if(3===h.state)return gr(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[u]):+u<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[u])}if(gr((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(l=n.tween.length),u=0,f=-1;u<l;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=lr((function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:mr,tween:vr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function br(t,e){var n=_r(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function wr(t,e){var n=_r(t,e);if(n.state>3)throw new Error("too late; already running");return n}function _r(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var xr,Cr,Ar,Sr,Tr=function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}},Mr=180/Math.PI,Er={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},kr=function(t,e,n,r,i,a){var o,s,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Mr,skewX:Math.atan(c)*Mr,scaleX:o,scaleY:s}};function Ur(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],c=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var c=o.push("translate(",null,e,null,n);s.push({i:c-4,x:Hn(t,i)},{i:c-2,x:Hn(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,c),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Hn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,c),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Hn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,c),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Hn(t,n)},{i:s-2,x:Hn(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,c),a=o=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var Dr=Ur((function(t){return"none"===t?Er:(xr||(xr=document.createElement("DIV"),Cr=document.documentElement,Ar=document.defaultView),xr.style.transform=t,t=Ar.getComputedStyle(Cr.appendChild(xr),null).getPropertyValue("transform"),Cr.removeChild(xr),t=t.slice(7,-1).split(","),kr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Pr=Ur((function(t){return null==t?Er:(Sr||(Sr=document.createElementNS("http://www.w3.org/2000/svg","g")),Sr.setAttribute("transform",t),(t=Sr.transform.baseVal.consolidate())?(t=t.matrix,kr(t.a,t.b,t.c,t.d,t.e,t.f)):Er)}),", ",")",")");function Ir(t,e){var n,r;return function(){var i=wr(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Nr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=wr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=s;break}c===u&&i.push(s)}a.tween=i}}function Rr(t,e,n){var r=t._id;return t.each((function(){var t=wr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return _r(t,r).value[e]}}var Br=function(t,e){var n;return("number"==typeof e?Hn:e instanceof yn?Bn:(n=yn(e))?(e=n,Bn):Kn)(t,e)};function Fr(t){return function(){this.removeAttribute(t)}}function Or(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lr(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function Vr(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function zr(t,e,n){var r,i,a;return function(){var o,s,c=n(this);if(null!=c)return(o=this.getAttribute(t))===(s=c+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,c));this.removeAttribute(t)}}function Hr(t,e,n){var r,i,a;return function(){var o,s,c=n(this);if(null!=c)return(o=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,c));this.removeAttributeNS(t.space,t.local)}}function $r(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Yr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function jr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Yr(t,i)),n}return i._value=e,i}function qr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&$r(t,i)),n}return i._value=e,i}function Wr(t,e){return function(){br(this,t).delay=+e.apply(this,arguments)}}function Kr(t,e){return e=+e,function(){br(this,t).delay=e}}function Gr(t,e){return function(){wr(this,t).duration=+e.apply(this,arguments)}}function Xr(t,e){return e=+e,function(){wr(this,t).duration=e}}function Jr(t,e){if("function"!=typeof e)throw new Error;return function(){wr(this,t).ease=e}}function Zr(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?br:wr;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var Qr=Xe.prototype.constructor;function ti(t){return function(){this.style.removeProperty(t)}}function ei(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ni(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&ei(t,a,n)),r}return a._value=e,a}function ri(t){return function(e){this.textContent=t.call(this,e)}}function ii(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&ri(r)),e}return r._value=t,r}var ai=0;function oi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function si(){return++ai}var ci=Xe.prototype;oi.prototype=function(t){return Xe().transition(t)}.prototype={constructor:oi,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=zt(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,c,u=r[o],f=u.length,l=a[o]=new Array(f),h=0;h<f;++h)(s=u[h])&&(c=t.call(s,s.__data__,h,u))&&("__data__"in s&&(c.__data__=s.__data__),l[h]=c,yr(l[h],e,n,h,l,_r(s,n)));return new oi(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=$t(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c,u=r[s],f=u.length,l=0;l<f;++l)if(c=u[l]){for(var h,d=t.call(c,c.__data__,l,u),p=_r(c,n),g=0,m=d.length;g<m;++g)(h=d[g])&&yr(h,e,n,g,d,p);a.push(d),o.push(c)}return new oi(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,c=r[i]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new oi(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c,u=e[s],f=n[s],l=u.length,h=o[s]=new Array(l),d=0;d<l;++d)(c=u[d]||f[d])&&(h[d]=c);for(;s<r;++s)o[s]=e[s];return new oi(o,this._parents,this._name,this._id)},selection:function(){return new Qr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=si(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],c=s.length,u=0;u<c;++u)if(o=s[u]){var f=_r(o,e);yr(o,t,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new oi(r,this._parents,t,n)},call:ci.call,nodes:ci.nodes,node:ci.node,size:ci.size,empty:ci.empty,each:ci.each,on:function(t,e){var n=this._id;return arguments.length<2?_r(this.node(),n).on.on(t):this.each(Zr(n,t,e))},attr:function(t,e){var n=Zt(t),r="transform"===n?Pr:Br;return this.attrTween(t,"function"==typeof e?(n.local?Hr:zr)(n,r,Rr(this,"attr."+t,e)):null==e?(n.local?Or:Fr)(n):(n.local?Vr:Lr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Zt(t);return this.tween(n,(r.local?jr:qr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Dr:Br;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=ue(this,t),o=(this.style.removeProperty(t),ue(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,ti(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=ue(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=ue(this,t)),o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,s))}}(t,r,Rr(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var c=wr(this,t),u=c.on,f=null==c.value[o]?a||(a=ti(e)):void 0;u===n&&i===f||(r=(n=u).copy()).on(s,i=f),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=ue(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,ni(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Rr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,ii(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=_r(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Ir:Nr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Wr:Kr)(e,t)):_r(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Gr:Xr)(e,t)):_r(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Jr(e,t)):_r(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},c={value:function(){0==--i&&a()}};n.each((function(){var n=wr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e}))}))}};var ui={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function fi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ui.time=cr(),ui;return n}Xe.prototype.interrupt=function(t){return this.each((function(){Tr(this,t)}))},Xe.prototype.transition=function(t){var e,n;t instanceof oi?(e=t._id,t=t._name):(e=si(),(n=ui).time=cr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],c=s.length,u=0;u<c;++u)(o=s[u])&&yr(o,t,e,u,s,n||fi(o,e));return new oi(r,this._parents,t,e)};function li(t){return[+t[0],+t[1]]}function hi(t){return[li(t[0]),li(t[1])]}["w","e"].map(di),["n","s"].map(di),["n","w","e","s","nw","ne","sw","se"].map(di);function di(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var pi=Math.PI,gi=2*pi,mi=gi-1e-6;function vi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function yi(){return new vi}vi.prototype=yi.prototype={constructor:vi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,c=r-e,u=a-t,f=o-e,l=u*u+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(l>1e-6)if(Math.abs(f*s-c*u)>1e-6&&i){var h=n-a,d=r-o,p=s*s+c*c,g=h*h+d*d,m=Math.sqrt(p),v=Math.sqrt(l),y=i*Math.tan((pi-Math.acos((p+l-g)/(2*m*v)))/2),b=y/v,w=y/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*u)+","+(e+b*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>u*d)+","+(this._x1=t+w*s)+","+(this._y1=e+w*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=t+o,u=e+s,f=1^a,l=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+c+","+u),n&&(l<0&&(l=l%gi+gi),l>mi?this._+="A"+n+","+n+",0,1,"+f+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+f+","+(this._x1=c)+","+(this._y1=u):l>1e-6&&(this._+="A"+n+","+n+",0,"+ +(l>=pi)+","+f+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function bi(){}function wi(t,e){var n=new bi;if(t instanceof bi)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}bi.prototype=wi.prototype={constructor:bi,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var _i=wi;function xi(){}var Ci=_i.prototype;function Ai(t,e){var n=new xi;if(t instanceof xi)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}xi.prototype=Ai.prototype={constructor:xi,has:Ci.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Ci.remove,clear:Ci.clear,values:Ci.keys,size:Ci.size,empty:Ci.empty,each:Ci.each};Array.prototype.slice;var Si={},Ti={};function Mi(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Ei(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ki(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ui(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ki(-e,6):e>9999?"+"+ki(e,6):ki(e,4))+"-"+ki(t.getUTCMonth()+1,2)+"-"+ki(t.getUTCDate(),2)+(a?"T"+ki(n,2)+":"+ki(r,2)+":"+ki(i,2)+"."+ki(a,3)+"Z":i?"T"+ki(n,2)+":"+ki(r,2)+":"+ki(i,2)+"Z":r||n?"T"+ki(n,2)+":"+ki(r,2)+"Z":"")}var Di=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,o=0,s=0,c=a<=0,u=!1;function f(){if(c)return Ti;if(u)return u=!1,Si;var e,r,i=o;if(34===t.charCodeAt(i)){for(;o++<a&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=a?c=!0:10===(r=t.charCodeAt(o++))?u=!0:13===r&&(u=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=t.charCodeAt(e=o++)))u=!0;else if(13===r)u=!0,10===t.charCodeAt(o)&&++o;else if(r!==n)continue;return t.slice(i,e)}return c=!0,t.slice(i,a)}for(10===t.charCodeAt(a-1)&&--a,13===t.charCodeAt(a-1)&&--a;(r=f())!==Ti;){for(var l=[];r!==Si&&r!==Ti;)l.push(r),r=f();e&&null==(l=e(l,s++))||i.push(l)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function a(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?Ui(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,a=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Mi(t);return function(r,i){return e(n(r),i,t)}}(t,e):Mi(t)}));return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=Ei(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Ei(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")},formatRow:a,formatValue:o}},Pi=Di(","),Ii=Pi.parse,Ni=(Pi.parseRows,Pi.format,Pi.formatBody,Pi.formatRows,Pi.formatRow,Pi.formatValue,Di("\t")),Ri=Ni.parse;Ni.parseRows,Ni.format,Ni.formatBody,Ni.formatRows,Ni.formatRow,Ni.formatValue;function Bi(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Fi=function(t,e){return fetch(t,e).then(Bi)};function Oi(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Fi(e,n).then((function(e){return t(e,r)}))}}var Li=Oi(Ii);Oi(Ri);function Vi(t){return function(e,n){return Fi(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}Vi("application/xml"),Vi("text/html"),Vi("image/svg+xml");function zi(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,c,u,f,l,h,d=t._root,p={data:r},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((u=e>=(a=(g+v)/2))?g=a:v=a,(f=n>=(o=(m+y)/2))?m=o:y=o,i=d,!(d=d[l=f<<1|u]))return i[l]=p,t;if(s=+t._x.call(null,d.data),c=+t._y.call(null,d.data),e===s&&n===c)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(u=e>=(a=(g+v)/2))?g=a:v=a,(f=n>=(o=(m+y)/2))?m=o:y=o}while((l=f<<1|u)==(h=(c>=o)<<1|s>=a));return i[h]=d,i[l]=p,t}var Hi=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function $i(t){return t[0]}function Yi(t){return t[1]}function ji(t,e,n){var r=new qi(null==e?$i:e,null==n?Yi:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function qi(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Wi(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ki=ji.prototype=qi.prototype;Ki.copy=function(){var t,e,n=new qi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Wi(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Wi(e));return n},Ki.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return zi(this.cover(e,n),e,n,t)},Ki.addAll=function(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),c=1/0,u=1/0,f=-1/0,l=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,s[n]=i,r<c&&(c=r),r>f&&(f=r),i<u&&(u=i),i>l&&(l=i));if(c>f||u>l)return this;for(this.cover(c,u).cover(f,l),n=0;n<a;++n)zi(this,o[n],s[n],t[n]);return this},Ki.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o,s,c=i-n,u=this._root;n>t||t>=i||r>e||e>=a;)switch(s=(e<r)<<1|t<n,(o=new Array(4))[s]=u,u=o,c*=2,s){case 0:i=n+c,a=r+c;break;case 1:n=i-c,a=r+c;break;case 2:i=n+c,r=a-c;break;case 3:n=i-c,r=a-c}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},Ki.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Ki.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ki.find=function(t,e,n){var r,i,a,o,s,c,u,f=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Hi(g,f,l,h,d)),null==n?n=1/0:(f=t-n,l=e-n,h=t+n,d=e+n,n*=n);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(a=c.y0)>d||(o=c.x1)<f||(s=c.y1)<l))if(g.length){var m=(i+o)/2,v=(a+s)/2;p.push(new Hi(g[3],m,v,o,s),new Hi(g[2],i,v,m,s),new Hi(g[1],m,a,o,v),new Hi(g[0],i,a,m,v)),(u=(e>=v)<<1|t>=m)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=c)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var _=Math.sqrt(n=w);f=t-_,l=e-_,h=t+_,d=e+_,r=g.data}}return r},Ki.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,c,u,f,l,h,d=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((u=a>=(s=(p+m)/2))?p=s:m=s,(f=o>=(c=(g+v)/2))?g=c:v=c,e=d,!(d=d[l=f<<1|u]))return this;if(!d.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[l]=i:delete e[l],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},Ki.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ki.root=function(){return this._root},Ki.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Ki.visit=function(t){var e,n,r,i,a,o,s=[],c=this._root;for(c&&s.push(new Hi(c,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(c=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&c.length){var u=(r+a)/2,f=(i+o)/2;(n=c[3])&&s.push(new Hi(n,u,f,a,o)),(n=c[2])&&s.push(new Hi(n,r,f,u,o)),(n=c[1])&&s.push(new Hi(n,u,i,a,f)),(n=c[0])&&s.push(new Hi(n,r,i,u,f))}return this},Ki.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Hi(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,c=e.x1,u=e.y1,f=(o+c)/2,l=(s+u)/2;(a=i[0])&&n.push(new Hi(a,o,s,f,l)),(a=i[1])&&n.push(new Hi(a,f,s,c,l)),(a=i[2])&&n.push(new Hi(a,o,l,f,u)),(a=i[3])&&n.push(new Hi(a,f,l,c,u))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ki.x=function(t){return arguments.length?(this._x=t,this):this._x},Ki.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var Gi=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Xi=function(t){return(t=Gi(Math.abs(t)))?t[1]:NaN},Ji=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zi(t){if(!(e=Ji.exec(t)))throw new Error("invalid format: "+t);var e;return new Qi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Qi(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Zi.prototype=Qi.prototype,Qi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ta,ea,na,ra,ia=function(t,e){var n=Gi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},aa={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ia(100*t,e)},r:ia,s:function(t,e){var n=Gi(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(ta=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Gi(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},oa=function(t){return t},sa=Array.prototype.map,ca=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];ea=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?oa:(e=sa.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(t.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?oa:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(sa.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function l(t){var e=(t=Zi(t)).fill,n=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):aa[y]||(void 0===m&&(m=12),v=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?a:/[%p]/.test(y)?c:"",_=aa[y],x=/[defgprs%]/.test(y);function C(t){var i,a,c,h=b,C=w;if("c"===y)C=_(t)+C,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:_(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),A&&0==+t&&"+"!==l&&(A=!1),h=(A?"("===l?l:u:"-"===l||"("===l?"":l)+h,C=("s"===y?ca[8+ta/3]:"")+C+(A&&"("===l?")":""),x)for(i=-1,a=t.length;++i<a;)if(48>(c=t.charCodeAt(i))||c>57){C=(46===c?o+t.slice(i+1):t.slice(i))+C,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var S=h.length+t.length+C.length,T=S<p?new Array(p-S+1).join(e):"";switch(g&&d&&(t=r(T+t,T.length?p-C.length:1/0),T=""),n){case"<":t=h+t+C+T;break;case"=":t=h+T+t+C;break;case"^":t=T.slice(0,S=T.length>>1)+h+t+C+T.slice(S);break;default:t=T+h+t+C}return s(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),C.toString=function(){return t+""},C}return{format:l,formatPrefix:function(t,e){var n=l(((t=Zi(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Xi(e)/3))),i=Math.pow(10,-r),a=ca[8+r/3];return function(t){return n(i*t)+a}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),na=ea.format,ra=ea.formatPrefix;var ua=function(){return Math.random()},fa=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(ua),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*e()-1,a=2*e()-1,i=r*r+a*a}while(!i||i>1);return t+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(ua)),la=(function t(e){function n(){var t=fa.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(ua),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(ua));(function t(e){function n(t){var n=la.source(e)(t);return function(){return n()/t}}return n.source=t,n})(ua),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(ua);function ha(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var da=Array.prototype,pa=da.map,ga=da.slice,ma={name:"implicit"};function va(){var t=_i(),e=[],n=[],r=ma;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==ma)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=_i();for(var r,a,o=-1,s=n.length;++o<s;)t.has(a=(r=n[o])+"")||t.set(a,e.push(r));return i},i.range=function(t){return arguments.length?(n=ga.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return va(e,n).unknown(r)},ha.apply(i,arguments),i}function ya(){var t,e,n=va().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,s=0,c=0,u=.5;function f(){var n=r().length,f=a[1]<a[0],l=a[f-0],h=a[1-f];t=(h-l)/Math.max(1,n-s+2*c),o&&(t=Math.floor(t)),l+=(h-l-t*(n-s))*u,e=t*(1-s),o&&(l=Math.round(l),e=Math.round(e));var d=pt(n).map((function(e){return l+t*e}));return i(f?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],f()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,f()):o},n.padding=function(t){return arguments.length?(s=Math.min(1,c=+t),f()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),f()):s},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return ya(r(),a).round(o).paddingInner(s).paddingOuter(c).align(u)},ha.apply(f(),arguments)}var ba=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},wa=function(t){return+t},_a=[0,1];function xa(t){return t}function Ca(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Aa(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Sa(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Ca(i,r),a=n(o,a)):(r=Ca(r,i),a=n(a,o)),function(t){return a(r(t))}}function Ta(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Ca(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=lt(t,e,1,r)-1;return a[n](i[n](e))}}function Ma(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ea(){var t,e,n,r,i,a,o=_a,s=_a,c=Gn,u=xa;function f(){return r=Math.min(o.length,s.length)>2?Ta:Sa,i=a=null,l}function l(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,c)))(t(u(e)))}return l.invert=function(n){return u(e((a||(a=r(s,o.map(t),Hn)))(n)))},l.domain=function(t){return arguments.length?(o=pa.call(t,wa),u===xa||(u=Aa(o)),f()):o.slice()},l.range=function(t){return arguments.length?(s=ga.call(t),f()):s.slice()},l.rangeRound=function(t){return s=ga.call(t),c=ba,f()},l.clamp=function(t){return arguments.length?(u=t?Aa(o):xa,l):u!==xa},l.interpolate=function(t){return arguments.length?(c=t,f()):c},l.unknown=function(t){return arguments.length?(n=t,l):n},function(n,r){return t=n,e=r,f()}}function ka(t,e){return Ea()(t,e)}var Ua=function(t,e,n,r){var i,a=wt(t,e,n);switch((r=Zi(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xi(e)/3)))-Xi(Math.abs(t)))}(a,o))||(r.precision=i),ra(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xi(e)-Xi(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Xi(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return na(r)};function Da(t){var e=t.domain;return t.ticks=function(t){var n=e();return yt(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Ua(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],c=i[o];return c<s&&(r=s,s=c,c=r,r=a,a=o,o=r),(r=bt(s,c,n))>0?r=bt(s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=bt(s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(c/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(c*r)/r,e(i)),t},t}function Pa(){var t=ka(xa,xa);return t.copy=function(){return Ma(t,Pa())},ha.apply(t,arguments),Da(t)}var Ia=new Date,Na=new Date;function Ra(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return Ra((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Ia.setTime(+e),Na.setTime(+r),t(Ia),t(Na),Math.floor(n(Ia,Na))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Ba=Ra((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Ba.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ra((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Fa=Ba,Oa=(Ba.range,Ra((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));Oa.range;function La(t){return Ra((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Va=La(0),za=La(1),Ha=La(2),$a=La(3),Ya=La(4),ja=La(5),qa=La(6),Wa=(Va.range,za.range,Ha.range,$a.range,Ya.range,ja.range,qa.range,Ra((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),Ka=Wa,Ga=(Wa.range,Ra((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),Xa=(Ga.range,Ra((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()}))),Ja=(Xa.range,Ra((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()}))),Za=(Ja.range,Ra((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));Za.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ra((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Za:null};Za.range;function Qa(t){return Ra((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var to=Qa(0),eo=Qa(1),no=Qa(2),ro=Qa(3),io=Qa(4),ao=Qa(5),oo=Qa(6),so=(to.range,eo.range,no.range,ro.range,io.range,ao.range,oo.range,Ra((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),co=so,uo=(so.range,Ra((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));uo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ra((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var fo=uo;uo.range;function lo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ho(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function po(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var go,mo={"-":"",_:" ",0:"0"},vo=/^\s*\d+/,yo=/^%/,bo=/[\\^$*+?|[\]().{}]/g;function wo(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function _o(t){return t.replace(bo,"\\$&")}function xo(t){return new RegExp("^(?:"+t.map(_o).join("|")+")","i")}function Co(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Ao(t,e,n){var r=vo.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function So(t,e,n){var r=vo.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function To(t,e,n){var r=vo.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Mo(t,e,n){var r=vo.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Eo(t,e,n){var r=vo.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ko(t,e,n){var r=vo.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Uo(t,e,n){var r=vo.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Do(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Po(t,e,n){var r=vo.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Io(t,e,n){var r=vo.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function No(t,e,n){var r=vo.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ro(t,e,n){var r=vo.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Bo(t,e,n){var r=vo.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Fo(t,e,n){var r=vo.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Oo(t,e,n){var r=vo.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Lo(t,e,n){var r=vo.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Vo(t,e,n){var r=vo.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zo(t,e,n){var r=yo.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ho(t,e,n){var r=vo.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $o(t,e,n){var r=vo.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Yo(t,e){return wo(t.getDate(),e,2)}function jo(t,e){return wo(t.getHours(),e,2)}function qo(t,e){return wo(t.getHours()%12||12,e,2)}function Wo(t,e){return wo(1+Ka.count(Fa(t),t),e,3)}function Ko(t,e){return wo(t.getMilliseconds(),e,3)}function Go(t,e){return Ko(t,e)+"000"}function Xo(t,e){return wo(t.getMonth()+1,e,2)}function Jo(t,e){return wo(t.getMinutes(),e,2)}function Zo(t,e){return wo(t.getSeconds(),e,2)}function Qo(t){var e=t.getDay();return 0===e?7:e}function ts(t,e){return wo(Va.count(Fa(t)-1,t),e,2)}function es(t,e){var n=t.getDay();return t=n>=4||0===n?Ya(t):Ya.ceil(t),wo(Ya.count(Fa(t),t)+(4===Fa(t).getDay()),e,2)}function ns(t){return t.getDay()}function rs(t,e){return wo(za.count(Fa(t)-1,t),e,2)}function is(t,e){return wo(t.getFullYear()%100,e,2)}function as(t,e){return wo(t.getFullYear()%1e4,e,4)}function os(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+wo(e/60|0,"0",2)+wo(e%60,"0",2)}function ss(t,e){return wo(t.getUTCDate(),e,2)}function cs(t,e){return wo(t.getUTCHours(),e,2)}function us(t,e){return wo(t.getUTCHours()%12||12,e,2)}function fs(t,e){return wo(1+co.count(fo(t),t),e,3)}function ls(t,e){return wo(t.getUTCMilliseconds(),e,3)}function hs(t,e){return ls(t,e)+"000"}function ds(t,e){return wo(t.getUTCMonth()+1,e,2)}function ps(t,e){return wo(t.getUTCMinutes(),e,2)}function gs(t,e){return wo(t.getUTCSeconds(),e,2)}function ms(t){var e=t.getUTCDay();return 0===e?7:e}function vs(t,e){return wo(to.count(fo(t)-1,t),e,2)}function ys(t,e){var n=t.getUTCDay();return t=n>=4||0===n?io(t):io.ceil(t),wo(io.count(fo(t),t)+(4===fo(t).getUTCDay()),e,2)}function bs(t){return t.getUTCDay()}function ws(t,e){return wo(eo.count(fo(t)-1,t),e,2)}function _s(t,e){return wo(t.getUTCFullYear()%100,e,2)}function xs(t,e){return wo(t.getUTCFullYear()%1e4,e,4)}function Cs(){return"+0000"}function As(){return"%"}function Ss(t){return+t}function Ts(t){return Math.floor(+t/1e3)}!function(t){go=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,u=xo(i),f=Co(i),l=xo(a),h=Co(a),d=xo(o),p=Co(o),g=xo(s),m=Co(s),v=xo(c),y=Co(c),b={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Yo,e:Yo,f:Go,H:jo,I:qo,j:Wo,L:Ko,m:Xo,M:Jo,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ss,s:Ts,S:Zo,u:Qo,U:ts,V:es,w:ns,W:rs,x:null,X:null,y:is,Y:as,Z:os,"%":As},w={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:ss,e:ss,f:hs,H:cs,I:us,j:fs,L:ls,m:ds,M:ps,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ss,s:Ts,S:gs,u:ms,U:vs,V:ys,w:bs,W:ws,x:null,X:null,y:_s,Y:xs,Z:Cs,"%":As},_={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return A(t,e,n,r)},d:No,e:No,f:Vo,H:Bo,I:Bo,j:Ro,L:Lo,m:Io,M:Fo,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=f[r[0].toLowerCase()],n+r[0].length):-1},q:Po,Q:Ho,s:$o,S:Oo,u:So,U:To,V:Mo,w:Ao,W:Eo,x:function(t,e,r){return A(t,n,e,r)},X:function(t,e,n){return A(t,r,e,n)},y:Uo,Y:ko,Z:Do,"%":zo};function x(t,e){return function(n){var r,i,a,o=[],s=-1,c=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===t.charCodeAt(s)&&(o.push(t.slice(c,s)),null!=(i=mo[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),c=s+1);return o.push(t.slice(c,s)),o.join("")}}function C(t,e){return function(n){var r,i,a=po(1900,void 0,1);if(A(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=ho(po(a.y,0,1))).getUTCDay(),r=i>4||0===i?eo.ceil(r):eo(r),r=co.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=lo(po(a.y,0,1))).getDay(),r=i>4||0===i?za.ceil(r):za(r),r=Ka.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?ho(po(a.y,0,1)).getUTCDay():lo(po(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,ho(a)):lo(a)}}function A(t,e,n,r){for(var i,a,o=0,s=e.length,c=n.length;o<s;){if(r>=c)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=_[i in mo?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),w.x=x(n,w),w.X=x(r,w),w.c=x(e,w),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=C(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t+="",!0);return e.toString=function(){return t},e}}}(t),go.format,go.parse,go.utcFormat,go.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ms=Ra((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Es=(Ms.range,Ra((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),ks=(Es.range,Ra((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})));ks.range;function Us(){this._=null}function Ds(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ps(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Is(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ns(t){for(;t.L;)t=t.L;return t}Us.prototype={constructor:Us,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ns(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ps(this,n),n=(t=n).U),n.C=!1,r.C=!0,Is(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Is(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ps(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?Ns(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ps(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Is(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ps(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Is(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ps(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Is(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Rs=Us;function Bs(t,e,n,r){var i=[null,null],a=oc.push(i)-1;return i.left=t,i.right=e,n&&Os(i,t,e,n),r&&Os(i,e,t,r),ic[t.index].halfedges.push(a),ic[e.index].halfedges.push(a),i}function Fs(t,e,n){var r=[e,n];return r.left=t,r}function Os(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Ls(t,e,n,r,i){var a,o=t[0],s=t[1],c=o[0],u=o[1],f=0,l=1,h=s[0]-c,d=s[1]-u;if(a=e-c,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>f&&(f=a)}if(a=r-c,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<l&&(l=a)}if(a=n-u,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<l&&(l=a)}else if(d>0){if(a>l)return;a>f&&(f=a)}if(a=i-u,d||!(a<0)){if(a/=d,d<0){if(a>l)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<l&&(l=a)}return!(f>0||l<1)||(f>0&&(t[0]=[c+f*h,u+f*d]),l<1&&(t[1]=[c+l*h,u+l*d]),!0)}}}}}function Vs(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,c=t[0],u=t.left,f=t.right,l=u[0],h=u[1],d=f[0],p=f[1],g=(l+d)/2,m=(h+p)/2;if(p===h){if(g<e||g>=r)return;if(l>d){if(c){if(c[1]>=i)return}else c=[g,n];a=[g,i]}else{if(c){if(c[1]<n)return}else c=[g,i];a=[g,n]}}else if(s=m-(o=(l-d)/(p-h))*g,o<-1||o>1)if(l>d){if(c){if(c[1]>=i)return}else c=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(c){if(c[1]<n)return}else c=[(i-s)/o,i];a=[(n-s)/o,n]}else if(h<p){if(c){if(c[0]>=r)return}else c=[e,o*e+s];a=[r,o*r+s]}else{if(c){if(c[0]<e)return}else c=[r,o*r+s];a=[e,o*e+s]}return t[0]=c,t[1]=a,!0}function zs(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Hs(t,e){return e[+(e.left!==t.site)]}function $s(t,e){return e[+(e.left===t.site)]}var Ys,js=[];function qs(){Ds(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ws(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],c=r[0]-o,u=r[1]-s,f=a[0]-o,l=a[1]-s,h=2*(c*l-u*f);if(!(h>=-cc)){var d=c*c+u*u,p=f*f+l*l,g=(l*d-u*p)/h,m=(c*p-f*d)/h,v=js.pop()||new qs;v.arc=t,v.site=i,v.x=g+o,v.y=(v.cy=m+s)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,b=ac._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}ac.insert(y,v),y||(Ys=v)}}}}function Ks(t){var e=t.circle;e&&(e.P||(Ys=e.N),ac.remove(e),js.push(e),Ds(e),t.circle=null)}var Gs=[];function Xs(){Ds(this),this.edge=this.site=this.circle=null}function Js(t){var e=Gs.pop()||new Xs;return e.site=t,e}function Zs(t){Ks(t),rc.remove(t),Gs.push(t),Ds(t)}function Qs(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];Zs(t);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<sc&&Math.abs(r-c.circle.cy)<sc;)a=c.P,s.unshift(c),Zs(c),c=a;s.unshift(c),Ks(c);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<sc&&Math.abs(r-u.circle.cy)<sc;)o=u.N,s.push(u),Zs(u),u=o;s.push(u),Ks(u);var f,l=s.length;for(f=1;f<l;++f)u=s[f],c=s[f-1],Os(u.edge,c.site,u.site,i);c=s[0],(u=s[l-1]).edge=Bs(c.site,u.site,null,i),Ws(c),Ws(u)}function tc(t){for(var e,n,r,i,a=t[0],o=t[1],s=rc._;s;)if((r=ec(s,o)-a)>sc)s=s.L;else{if(!((i=a-nc(s,o))>sc)){r>-sc?(e=s.P,n=s):i>-sc?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){ic[t.index]={site:t,halfedges:[]}}(t);var c=Js(t);if(rc.insert(e,c),e||n){if(e===n)return Ks(e),n=Js(e.site),rc.insert(c,n),c.edge=n.edge=Bs(e.site,c.site),Ws(e),void Ws(n);if(n){Ks(e),Ks(n);var u=e.site,f=u[0],l=u[1],h=t[0]-f,d=t[1]-l,p=n.site,g=p[0]-f,m=p[1]-l,v=2*(h*m-d*g),y=h*h+d*d,b=g*g+m*m,w=[(m*y-d*b)/v+f,(h*b-g*y)/v+l];Os(n.edge,u,p,w),c.edge=Bs(u,t,null,w),n.edge=Bs(t,p,null,w),Ws(e),Ws(n)}else c.edge=Bs(e.site,c.site)}}function ec(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],c=n[1],u=c-e;if(!u)return s;var f=s-r,l=1/a-1/u,h=f/u;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*u)-c+u/2+i-a/2)))/l+r:(r+s)/2}function nc(t,e){var n=t.N;if(n)return ec(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var rc,ic,ac,oc,sc=1e-6,cc=1e-12;function uc(t,e){return e[1]-t[1]||e[0]-t[0]}function fc(t,e){var n,r,i,a=t.sort(uc).pop();for(oc=[],ic=new Array(t.length),rc=new Rs,ac=new Rs;;)if(i=Ys,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(tc(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;Qs(i.arc)}if(function(){for(var t,e,n,r,i=0,a=ic.length;i<a;++i)if((t=ic[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=zs(t,oc[e[n]]);for(o.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var o=+e[0][0],s=+e[0][1],c=+e[1][0],u=+e[1][1];!function(t,e,n,r){for(var i,a=oc.length;a--;)Vs(i=oc[a],t,e,n,r)&&Ls(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>sc||Math.abs(i[0][1]-i[1][1])>sc)||delete oc[a]}(o,s,c,u),function(t,e,n,r){var i,a,o,s,c,u,f,l,h,d,p,g,m=ic.length,v=!0;for(i=0;i<m;++i)if(a=ic[i]){for(o=a.site,s=(c=a.halfedges).length;s--;)oc[c[s]]||c.splice(s,1);for(s=0,u=c.length;s<u;)p=(d=$s(a,oc[c[s]]))[0],g=d[1],l=(f=Hs(a,oc[c[++s%u]]))[0],h=f[1],(Math.abs(p-l)>sc||Math.abs(g-h)>sc)&&(c.splice(s,0,oc.push(Fs(o,d,Math.abs(p-t)<sc&&r-g>sc?[t,Math.abs(l-t)<sc?h:r]:Math.abs(g-r)<sc&&n-p>sc?[Math.abs(h-r)<sc?l:n,r]:Math.abs(p-n)<sc&&g-e>sc?[n,Math.abs(l-n)<sc?h:e]:Math.abs(g-e)<sc&&p-t>sc?[Math.abs(h-e)<sc?l:t,e]:null))-1),++u);u&&(v=!1)}if(v){var y,b,w,_=1/0;for(i=0,v=null;i<m;++i)(a=ic[i])&&(w=(y=(o=a.site)[0]-t)*y+(b=o[1]-e)*b)<_&&(_=w,v=a);if(v){var x=[t,e],C=[t,r],A=[n,r],S=[n,e];v.halfedges.push(oc.push(Fs(o=v.site,x,C))-1,oc.push(Fs(o,C,A))-1,oc.push(Fs(o,A,S))-1,oc.push(Fs(o,S,x))-1)}}for(i=0;i<m;++i)(a=ic[i])&&(a.halfedges.length||delete ic[i])}(o,s,c,u)}this.edges=oc,this.cells=ic,rc=ac=oc=ic=null}fc.prototype={constructor:fc,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Hs(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s,c,u,f=n.site,l=-1,h=e[i[a-1]],d=h.left===f?h.right:h.left;++l<a;)o=d,d=(h=e[i[l]]).left===f?h.right:h.left,o&&d&&r<o.index&&r<d.index&&(c=o,u=d,((s=f)[0]-u[0])*(c[1]-s[1])-(s[0]-c[0])*(u[1]-s[1])<0)&&t.push([f.data,o.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var c=t-i.site[0],u=e-i.site[1],f=c*c+u*u;do{i=a.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var c=t-s[0],u=e-s[1],l=c*c+u*u;l<f&&(f=l,o=s.index)}}))}while(null!==o);return a._found=r,null==n||f<=n*n?i.site:null}};var lc=Math.SQRT2;function hc(t){return((t=Math.exp(t))+1/t)/2}var dc=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],c=e[1],u=e[2],f=s-i,l=c-a,h=f*f+l*l;if(h<1e-12)r=Math.log(u/o)/lc,n=function(t){return[i+t*f,a+t*l,o*Math.exp(lc*t*r)]};else{var d=Math.sqrt(h),p=(u*u-o*o+4*h)/(2*o*2*d),g=(u*u-o*o-4*h)/(2*u*2*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/lc,n=function(t){var e,n=t*r,s=hc(m),c=o/(2*d)*(s*(e=lc*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+c*f,a+c*l,o*s/hc(lc*n+m)]}}return n.duration=1e3*r,n},pc=function(t){return function(){return t}};function gc(t,e,n){this.target=t,this.type=e,this.transform=n}function mc(t,e,n){this.k=t,this.x=e,this.y=n}mc.prototype={constructor:mc,scale:function(t){return 1===t?this:new mc(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new mc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vc=new mc(1,0,0);function yc(){Fe.stopImmediatePropagation()}mc.prototype;var bc=function(){Fe.preventDefault(),Fe.stopImmediatePropagation()};function wc(){return!Fe.ctrlKey&&!Fe.button}function _c(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function xc(){return this.__zoom||vc}function Cc(){return-Fe.deltaY*(1===Fe.deltaMode?.05:Fe.deltaMode?1:.002)}function Ac(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sc(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var Tc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Mc=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Tc.hasOwnProperty(e)?{space:Tc[e],local:t}:t};function Ec(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===n&&"http://www.w3.org/1999/xhtml"===e.documentElement.namespaceURI?e.createElement(t):e.createElementNS(n,t)}}function kc(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Uc=function(t){var e=Mc(t);return(e.local?kc:Ec)(e)},Dc=0;function Pc(){this._="@"+(++Dc).toString(36)}Pc.prototype=function(){return new Pc}.prototype={constructor:Pc,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ic=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Nc=document.documentElement;if(!Nc.matches){var Rc=Nc.webkitMatchesSelector||Nc.msMatchesSelector||Nc.mozMatchesSelector||Nc.oMatchesSelector;Ic=function(t){return function(){return Rc.call(this,t)}}}}var Bc=Ic,Fc={},Oc=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Fc={mouseenter:"mouseover",mouseleave:"mouseout"}));function Lc(t,e,n){return t=Vc(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Vc(t,e,n){return function(r){var i=Oc;Oc=r;try{t.call(this,this.__data__,e,n)}finally{Oc=i}}}function zc(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Hc(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function $c(t,e,n){var r=Fc.hasOwnProperty(t.type)?Lc:Vc;return function(i,a,o){var s,c=this.__on,u=r(e,a,o);if(c)for(var f=0,l=c.length;f<l;++f)if((s=c[f]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},c?c.push(s):this.__on=[s]}}function Yc(){}var jc=function(t){return null==t?Yc:function(){return this.querySelector(t)}};function qc(){return[]}var Wc=function(t){return new Array(t.length)};function Kc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Kc.prototype={constructor:Kc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Gc(t,e,n,r,i,a){for(var o,s=0,c=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Kc(t,a[s]);for(;s<c;++s)(o=e[s])&&(i[s]=o)}function Xc(t,e,n,r,i,a,o){var s,c,u,f={},l=e.length,h=a.length,d=new Array(l);for(s=0;s<l;++s)(c=e[s])&&(d[s]=u="$"+o.call(c,c.__data__,s,e),u in f?i[s]=c:f[u]=c);for(s=0;s<h;++s)(c=f[u="$"+o.call(t,a[s],s,a)])?(r[s]=c,c.__data__=a[s],f[u]=null):n[s]=new Kc(t,a[s]);for(s=0;s<l;++s)(c=e[s])&&f[d[s]]===c&&(i[s]=c)}function Jc(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zc(t){return function(){this.removeAttribute(t)}}function Qc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tu(t,e){return function(){this.setAttribute(t,e)}}function eu(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function nu(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ru(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var iu=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function au(t){return function(){this.style.removeProperty(t)}}function ou(t,e,n){return function(){this.style.setProperty(t,e,n)}}function su(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function cu(t){return function(){delete this[t]}}function uu(t,e){return function(){this[t]=e}}function fu(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function lu(t){return t.trim().split(/^|\s+/)}function hu(t){return t.classList||new du(t)}function du(t){this._node=t,this._names=lu(t.getAttribute("class")||"")}function pu(t,e){for(var n=hu(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function gu(t,e){for(var n=hu(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mu(t){return function(){pu(this,t)}}function vu(t){return function(){gu(this,t)}}function yu(t,e){return function(){(e.apply(this,arguments)?pu:gu)(this,t)}}du.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function bu(){this.textContent=""}function wu(t){return function(){this.textContent=t}}function _u(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function xu(){this.innerHTML=""}function Cu(t){return function(){this.innerHTML=t}}function Au(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Su(){this.nextSibling&&this.parentNode.appendChild(this)}function Tu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mu(){return null}function Eu(){var t=this.parentNode;t&&t.removeChild(this)}function ku(t,e,n){var r=iu(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Uu(t,e){return function(){return ku(this,t,e)}}function Du(t,e){return function(){return ku(this,t,e.apply(this,arguments))}}var Pu=[null];function Iu(t,e){this._groups=t,this._parents=e}function Nu(){return new Iu([[document.documentElement]],Pu)}Iu.prototype=Nu.prototype={constructor:Iu,select:function(t){"function"!=typeof t&&(t=jc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],c=s.length,u=r[i]=new Array(c),f=0;f<c;++f)(a=s[f])&&(o=t.call(a,a.__data__,f,s))&&("__data__"in a&&(o.__data__=a.__data__),u[f]=o);return new Iu(r,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?qc:function(){return this.querySelectorAll(e)});for(var n=this._groups,r=n.length,i=[],a=[],o=0;o<r;++o)for(var s,c=n[o],u=c.length,f=0;f<u;++f)(s=c[f])&&(i.push(t.call(s,s.__data__,f,c)),a.push(s));return new Iu(i,a)},filter:function(t){"function"!=typeof t&&(t=Bc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,c=r[i]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new Iu(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),f=-1,this.each((function(t){p[++f]=t})),p;var n,r=e?Xc:Gc,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),c=new Array(o),u=new Array(o),f=0;f<o;++f){var l=i[f],h=a[f],d=h.length,p=t.call(l,l&&l.__data__,f,i),g=p.length,m=c[f]=new Array(g),v=s[f]=new Array(g);r(l,h,m,v,u[f]=new Array(d),p,e);for(var y,b,w=0,_=0;w<g;++w)if(y=m[w]){for(w>=_&&(_=w+1);!(b=v[_])&&++_<g;);y._next=b||null}}return(s=new Iu(s,i))._enter=c,s._exit=u,s},enter:function(){return new Iu(this._enter||this._groups.map(Wc),this._parents)},exit:function(){return new Iu(this._exit||this._groups.map(Wc),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c,u=e[s],f=n[s],l=u.length,h=o[s]=new Array(l),d=0;d<l;++d)(c=u[d]||f[d])&&(h[d]=c);for(;s<r;++s)o[s]=e[s];return new Iu(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Jc);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],c=s.length,u=i[a]=new Array(c),f=0;f<c;++f)(o=s[f])&&(u[f]=o);u.sort(e)}return new Iu(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=Mc(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Qc:Zc:"function"==typeof e?n.local?ru:nu:n.local?eu:tu)(n,e))},style:function(t,e,n){var r;return arguments.length>1?this.each((null==e?au:"function"==typeof e?su:ou)(t,e,null==n?"":n)):iu(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},property:function(t,e){return arguments.length>1?this.each((null==e?cu:"function"==typeof e?fu:uu)(t,e)):this.node()[t]},classed:function(t,e){var n=lu(t+"");if(arguments.length<2){for(var r=hu(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?yu:e?mu:vu)(n,e))},text:function(t){return arguments.length?this.each(null==t?bu:("function"==typeof t?_u:wu)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?xu:("function"==typeof t?Au:Cu)(t)):this.node().innerHTML},raise:function(){return this.each(Su)},lower:function(){return this.each(Tu)},append:function(t){var e="function"==typeof t?t:Uc(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Uc(t),r=null==e?Mu:"function"==typeof e?e:jc(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Eu)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=zc(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?$c:Hc,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var c,u=0,f=s.length;u<f;++u)for(r=0,c=s[u];r<o;++r)if((i=a[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Du:Uu)(t,e))}};var Ru,Bu=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Fu=function(t){return(t=Bu(Math.abs(t)))?t[1]:NaN},Ou=function(t,e){var n=Bu(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Lu={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,a=-1;i<r;++i)switch(t[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break t;default:a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ou(100*t,e)},r:Ou,s:function(t,e){var n=Bu(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Ru=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Bu(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Vu=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,zu=function(t){return new Hu(t)};function Hu(t){if(!(e=Vu.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",a=e[4]||"",o=!!e[5],s=e[6]&&+e[6],c=!!e[7],u=e[8]&&+e[8].slice(1),f=e[9]||"";"n"===f?(c=!0,f="g"):Lu[f]||(f=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=c,this.precision=u,this.type=f}Hu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var $u=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Yu(t){return t}var ju,qu,Wu,Ku=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(t.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}):Yu,i=t.currency,a=t.decimal;function o(t){var e=(t=zu(t)).fill,n=t.align,o=t.sign,s=t.symbol,c=t.zero,u=t.width,f=t.comma,l=t.precision,h=t.type,d="$"===s?i[0]:"#"===s&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",p="$"===s?i[1]:/[%p]/.test(h)?"%":"",g=Lu[h],m=!h||/[defgprs%]/.test(h);function v(t){var i,s,v,y=d,b=p;if("c"===h)b=g(t)+b,t="";else{var w=((t=+t)<0||1/t<0)&&(t*=-1,!0);if(t=g(t,l),w)for(i=-1,s=t.length,w=!1;++i<s;)if(48<(v=t.charCodeAt(i))&&v<58||"x"===h&&96<v&&v<103||"X"===h&&64<v&&v<71){w=!0;break}if(y=(w?"("===o?o:"-":"-"===o||"("===o?"":o)+y,b=b+("s"===h?$u[8+Ru/3]:"")+(w&&"("===o?")":""),m)for(i=-1,s=t.length;++i<s;)if(48>(v=t.charCodeAt(i))||v>57){b=(46===v?a+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}f&&!c&&(t=r(t,1/0));var _=y.length+t.length+b.length,x=_<u?new Array(u-_+1).join(e):"";switch(f&&c&&(t=r(x+t,x.length?u-b.length:1/0),x=""),n){case"<":return y+t+b+x;case"=":return y+x+t+b;case"^":return x.slice(0,_=x.length>>1)+y+t+b+x.slice(_)}return x+y+t+b}return l=null==l?h?6:12:/[gprs]/.test(h)?Math.max(1,Math.min(21,l)):Math.max(0,Math.min(20,l)),v.toString=function(){return t+""},v}return{format:o,formatPrefix:function(t,e){var n=o(((t=zu(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Fu(e)/3))),i=Math.pow(10,-r),a=$u[8+r/3];return function(t){return n(i*t)+a}}}};!function(t){ju=Ku(t),qu=ju.format,Wu=ju.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Gu={value:function(){}};function Xu(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Ju(r)}function Ju(t){this._=t}function Zu(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Qu(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function tf(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Gu,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Ju.prototype=Xu.prototype={constructor:Ju,on:function(t,e){var n,r=this._,i=Zu(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=tf(r[n],t.name,e);else if(null==e)for(n in r)r[n]=tf(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=Qu(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ju(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var ef=Xu,nf=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},rf=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return nf(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}};var af=rf(nf),of=af.right,sf=(af.left,of),cf=Array.prototype,uf=(cf.slice,cf.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}),ff=Math.sqrt(50),lf=Math.sqrt(10),hf=Math.sqrt(2),df=function(t,e,n){var r=pf(t,e,n);return uf(Math.ceil(t/r)*r,Math.floor(e/r)*r+r/2,r)};function pf(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=ff?i*=10:a>=lf?i*=5:a>=hf&&(i*=2),e<t?-i:i}var gf=function(t,e){var n,r=0,i=t.length,a=-1;if(null==e)for(;++a<i;)(n=+t[a])&&(r+=n);else for(;++a<i;)(n=+e(t[a],a,t))&&(r+=n);return r};var mf=Array.prototype,vf=mf.map,yf=mf.slice;var bf=function(t){return function(){return t}},wf=function(t){return+t},_f=[0,1];function xf(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bf(e)}function Cf(t,e,n,r){var i=t[0],a=t[1],o=e[0],s=e[1];return a<i?(i=n(a,i),o=r(s,o)):(i=n(i,a),o=r(o,s)),function(t){return o(i(t))}}function Af(t,e,n,r){var i=Math.min(t.length,e.length)-1,a=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)a[s]=n(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(e){var n=sf(t,e,1,i)-1;return o[n](a[n](e))}}function Sf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Tf(t,e){var n,r,i,a=_f,o=_f,s=Gn,c=!1;function u(){return n=Math.min(a.length,o.length)>2?Af:Cf,r=i=null,f}function f(e){return(r||(r=n(a,o,c?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,s)))(+e)}return f.invert=function(t){return(i||(i=n(o,a,xf,c?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},f.domain=function(t){return arguments.length?(a=vf.call(t,wf),u()):a.slice()},f.range=function(t){return arguments.length?(o=yf.call(t),u()):o.slice()},f.rangeRound=function(t){return o=yf.call(t),s=ba,u()},f.clamp=function(t){return arguments.length?(c=!!t,u()):c},f.interpolate=function(t){return arguments.length?(s=t,u()):s},u()}var Mf=function(t,e,n){var r,i=t[0],a=t[t.length-1],o=pf(i,a,null==e?10:e);switch((n=zu(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fu(e)/3)))-Fu(Math.abs(t)))}(o,s))||(n.precision=r),Wu(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fu(e)-Fu(t))+1}(o,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(t){return Math.max(0,-Fu(Math.abs(t)))}(o))||(n.precision=r-2*("%"===n.type))}return qu(n)};function Ef(t){var e=t.domain;return t.ticks=function(t){var n=e();return df(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Mf(e(),t,n)},t.nice=function(n){var r=e(),i=r.length-1,a=null==n?10:n,o=r[0],s=r[i],c=pf(o,s,a);return c&&(c=pf(Math.floor(o/c)*c,Math.ceil(s/c)*c,a),r[0]=Math.floor(o/c)*c,r[i]=Math.ceil(s/c)*c,e(r)),t},t}function kf(){var t=Tf(xf,Hn);return t.copy=function(){return Sf(t,kf())},Ef(t)}var Uf=function(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))},Df=(Uf("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Uf("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Uf("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Uf("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Math.PI/180),Pf=180/Math.PI,If=-.29227,Nf=-.90649,Rf=1.97294*Nf,Bf=3.5172982438,Ff=-.6557636667999999;function Of(t){if(t instanceof Vf)return new Vf(t.h,t.s,t.l,t.opacity);t instanceof Cn||(t=_n(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ff*r+Rf*e-Bf*n)/(Ff+Rf-Bf),a=r-i,o=(1.97294*(n-i)-If*a)/Nf,s=Math.sqrt(o*o+a*a)/(1.97294*i*(1-i)),c=s?Math.atan2(o,a)*Pf-120:NaN;return new Vf(c<0?c+360:c,s,i,t.opacity)}function Lf(t,e,n,r){return 1===arguments.length?Of(t):new Vf(t,e,n,null==r?1:r)}function Vf(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function zf(t){return function e(n){function r(e,r){var i=t((e=Lf(e)).h,(r=Lf(r)).h),a=Rn(e.s,r.s),o=Rn(e.l,r.l),s=Rn(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}en(Vf,Lf,nn(rn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Vf(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Vf(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Df,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Cn(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(If*r+Nf*i)),255*(e+n*(1.97294*r)),this.opacity)}}));zf((function(t,e){var n=e-t;return n?In(t,n>180||n<-180?n-360*Math.round(n/360):n):Pn(isNaN(t)?e:t)}));var Hf=zf(Rn);Hf(Lf(300,.5,0),Lf(-240,.5,1)),Hf(Lf(-100,.75,.35),Lf(80,1.5,.8)),Hf(Lf(260,.75,.35),Lf(80,1.5,.8)),Lf();function $f(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}$f(Uf("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),$f(Uf("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$f(Uf("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),$f(Uf("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf=function(t){return t},qf=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[r-n-1];return e},Wf=function(t,e){t.each((function(){for(var t,n,r="string"==typeof(n=this)?new Iu([[document.querySelector(n)]],[document.documentElement]):new Iu([[n]],Pu),i=r.text().split(/\s+/).reverse(),a=[],o=(r.attr("y"),parseFloat(r.attr("dy"))||0),s=r.text(null).append("tspan").attr("x",0).attr("dy",o+"em");t=i.pop();)a.push(t),s.text(a.join(" ")),s.node().getComputedTextLength()>e&&a.length>1&&(a.pop(),s.text(a.join(" ")),a=[t],s=r.append("tspan").attr("x",0).attr("dy",1.2+o+"em").text(t))}))},Kf={d3_drawShapes:function(t,e,n,r,i,a){"rect"===t?e.attr("height",n).attr("width",r):"circle"===t?e.attr("r",i):"line"===t?e.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",a)},d3_addText:function(t,e,n,r,i){e.append("text").attr("class",r+"label");var a=t.selectAll("g."+r+"cell text."+r+"label").data(n).text(jf);return i&&t.selectAll("g."+r+"cell text."+r+"label").call(Wf,i),a},d3_calcType:function(t,e,n,r,i,a){var o=t.invertExtent?function(t,e,n){var r=t.range().map((function(r){var i=t.invertExtent(r);return e(i[0])+" "+n+" "+e(i[1])}));return{data:t.range(),labels:r,feature:jf}}(t,i,a):t.ticks?function(t,e,n){var r=[];if(e.length>1)r=e;else for(var i=t.domain(),a=(i[i.length-1]-i[0])/(e-1),o=0;o<e;o++)r.push(i[0]+o*a);var s=r.map(n);return{data:r,labels:s,feature:function(e){return t(e)}}}(t,n,i):function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}}(t),s=t.range&&t.range()||t.domain();return o.labels=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[4];if("object"===(void 0===e?"undefined":Yf(e))){if(0===e.length)return t;for(var a=e.length;a<t.length;a++)e.push(t[a]);return e}if("function"==typeof e){for(var o=[],s=t.length,c=0;c<s;c++)o.push(e({i:c,genLength:s,generatedLabels:t,domain:n,range:r,labelDelimiter:i}));return o}return t}(o.labels,r,t.domain(),s,a),e&&(o.labels=qf(o.labels),o.data=qf(o.data)),o},d3_filterCells:function(t,e){var n=t.data.map((function(e,n){return{data:e,label:t.labels[n]}})).filter(e),r=n.map((function(t){return t.data})),i=n.map((function(t){return t.label}));return t.data=t.data.filter((function(t){return-1!==r.indexOf(t)})),t.labels=t.labels.filter((function(t){return-1!==i.indexOf(t)})),t},d3_placement:function(t,e,n,r,i,a){e.attr("transform",n),r.attr("transform",i),"horizontal"===t&&r.style("text-anchor",a)},d3_addEvents:function(t,e){t.on("mouseover.legend",(function(t){!function(t,e,n){t.call("cellover",n,e)}(e,t,this)})).on("mouseout.legend",(function(t){!function(t,e,n){t.call("cellout",n,e)}(e,t,this)})).on("click.legend",(function(t){!function(t,e,n){t.call("cellclick",n,e)}(e,t,this)}))},d3_title:function(t,e,n,r){if(""!==e){t.selectAll("text."+n+"legendTitle").data([e]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(e),r&&t.selectAll("text."+n+"legendTitle").call(Wf,r);var i=t.select("."+n+"legendCells"),a=t.select("."+n+"legendTitle").nodes().map((function(t){return t.getBBox().height}))[0],o=-i.nodes().map((function(t){return t.getBBox().x}))[0];i.attr("transform","translate("+o+","+a+")")}},d3_defaultLocale:{format:qu,formatPrefix:Wu},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function Gf(){var t=kf(),e="rect",n=15,r=15,i=10,a=2,o=[5],s=void 0,c=[],u="",f=!1,l="",h=Kf.d3_defaultLocale,d=Kf.d3_defaultFormatSpecifier,p=10,g="middle",m=Kf.d3_defaultDelimiter,v=void 0,y="vertical",b=!1,w=void 0,_=void 0,x=ef("cellover","cellout","cellclick");function C(C){var A=Kf.d3_calcType(t,b,o,c,h.format(d),m);C.selectAll("g").data([t]).enter().append("g").attr("class",u+"legendCells"),s&&Kf.d3_filterCells(A,s);var S=C.select("."+u+"legendCells").selectAll("."+u+"cell").data(A.data),T=S.enter().append("g").attr("class",u+"cell");T.append(e).attr("class",u+"swatch");var M=C.selectAll("g."+u+"cell "+e+"."+u+"swatch").data(A.data);Kf.d3_addEvents(T,x),S.exit().transition().style("opacity",0).remove(),M.exit().transition().style("opacity",0).remove(),M=M.merge(M),Kf.d3_drawShapes(e,M,r,n,i,w);var E=Kf.d3_addText(C,T,A.labels,u,v);S=T.merge(S);var k=E.nodes().map((function(t){return t.getBBox()})),U=M.nodes().map((function(t){return t.getBBox()}));f?M.attr("class",(function(t){return u+"swatch "+A.feature(t)})):"line"==e?M.style("stroke",A.feature):M.style("fill",A.feature);var D,P=void 0,I=void 0,N="start"==g?0:"middle"==g?.5:1;"vertical"===y?(D=k.map((function(t,e){return Math.max(t.height,U[e].height)})),P=function(t,e){return"translate(0, "+(gf(D.slice(0,e))+e*a)+")"},I=function(t,e){return"translate( "+(U[e].width+U[e].x+p)+", "+(U[e].y+U[e].height/2+5)+")"}):"horizontal"===y&&(P=function(t,e){return"translate("+e*(U[e].width+a)+",0)"},I=function(t,e){return"translate("+(U[e].width*N+U[e].x)+",\n          "+(U[e].height+U[e].y+p+8)+")"}),Kf.d3_placement(y,S,P,E,I,g),Kf.d3_title(C,l,u,_),S.transition().style("opacity",1)}return C.scale=function(e){return arguments.length?(t=e,C):t},C.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(o=t),C):o},C.cellFilter=function(t){return arguments.length?(s=t,C):s},C.shape=function(t,n){return arguments.length?(("rect"==t||"circle"==t||"line"==t||"path"==t&&"string"==typeof n)&&(e=t,w=n),C):e},C.shapeWidth=function(t){return arguments.length?(n=+t,C):n},C.shapeHeight=function(t){return arguments.length?(r=+t,C):r},C.shapeRadius=function(t){return arguments.length?(i=+t,C):i},C.shapePadding=function(t){return arguments.length?(a=+t,C):a},C.labels=function(t){return arguments.length?(c=t,C):c},C.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(g=t),C):g},C.locale=function(t){return arguments.length?(h=Ku(t),C):h},C.labelFormat=function(t){return arguments.length?(d=zu(t),C):C.locale().format(d)},C.labelOffset=function(t){return arguments.length?(p=+t,C):p},C.labelDelimiter=function(t){return arguments.length?(m=t,C):m},C.labelWrap=function(t){return arguments.length?(v=t,C):v},C.useClass=function(t){return arguments.length?(!0!==t&&!1!==t||(f=t),C):f},C.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(y=t),C):y},C.ascending=function(t){return arguments.length?(b=!!t,C):b},C.classPrefix=function(t){return arguments.length?(u=t,C):u},C.title=function(t){return arguments.length?(l=t,C):l},C.titleWidth=function(t){return arguments.length?(_=t,C):_},C.textWrap=function(t){return arguments.length?(textWrap=t,C):textWrap},C.on=function(){var t=x.on.apply(x,arguments);return t===x?C:t},C}var Xf=n(20),Jf=n.n(Xf),Zf={};Zf.renderMatrix=function(t,e,n,r,i){return Li(n).then((function(n){if(Je("#matrix").empty()){var i={},a=Je("#"+e).append("div").attr("id","tooltip_matrix").attr("class","tooltip").style("opacity",0),o=_i(n,(function(t){return t.ClustName})).keys();n.forEach((function(t){delete t[n.columns[0]]})),n.columns.shift(),i.max=Number.MIN_VALUE,i.min=Number.MAX_VALUE,n.forEach((function(t){var e=Object.values(t).map((function(t){return parseFloat(t)}));i.min=Math.min(i.min,xt(e)),i.max=Math.max(i.max,_t(e))})),i.margin={top:40,right:70,bottom:0,left:80},i.size=t.clientWidth,i.width=i.size-i.margin.left-i.margin.right,i.cellPadding=4,i.cellWidth=i.width/Object.keys(n[0]).length-i.cellPadding,i.cellHeight=i.cellWidth,i.height=n.length*(i.cellWidth+i.cellPadding)+i.margin.top+i.margin.bottom;var s=function t(){var e,n=0,r=1,i=1,a=[.5],o=[0,1];function s(t){return t<=t?o[lt(a,t,0,i)]:e}function c(){var t=-1;for(a=new Array(i);++t<i;)a[t]=((t+1)*r-(t-i)*n)/(i+1);return s}return s.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],c()):[n,r]},s.range=function(t){return arguments.length?(i=(o=ga.call(t)).length-1,c()):o.slice()},s.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,a[0]]:e>=i?[a[i-1],r]:[a[e-1],a[e]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return t().domain([n,r]).range(o).unknown(e)},ha.apply(Da(s),arguments)}().domain([i.min,i.max]).range(Jf.a.YlGnBu[6]);i.svg=Je("#"+e).append("svg").attr("id","matrix").attr("width",i.width+i.margin.left+i.margin.right).attr("height",i.height+i.margin.top+i.margin.bottom).append("g").attr("transform","translate("+i.margin.left+","+i.margin.top+")");var c=i.svg.selectAll(".matrix-row").data(n,(function(t){return t})).enter().append("g").attr("class","matrix-row").attr("id",(function(t,e){return"matrixrow_"+e})).attr("transform",(function(t,e){return"translate(0,"+(i.cellHeight+i.cellPadding)*e+")"}));c.append("text").attr("class","matrix-label matrix-row-label").attr("x",-10).attr("y",i.cellHeight/2).attr("dy",".35em").attr("text-anchor","end").text((function(t,e){return o[e]})).style("opacity",1).on("click",(function(t,e){r.clickHandler(o[e],"")}));c.selectAll(".matrix-cell-business").data((function(t){return Object.values(t)})).enter().append("rect").attr("class","matrix-cell matrix-cell-business").attr("height",i.cellHeight).attr("width",i.cellWidth).attr("x",(function(t,e){return(i.cellWidth+i.cellPadding)*e})).attr("fill",(function(t){return s(t)})).on("mouseover",(function(t,e){Je(this).style("cursor","pointer"),Je(this).attr("stroke","white").attr("stroke-width","2"),a.transition().duration(200).style("opacity",.8),a.html(""+parseFloat(t).toFixed(2)),a.style("left",Fe.pageX+"px"),a.style("top",(parseInt(Je(this.parentNode).attr("id").split("_")[1])+1)*(i.cellHeight+i.cellPadding)+"px")})).on("mouseout",(function(t){Je(this).style("cursor","default"),Je(this).attr("stroke","black").attr("stroke-width","0"),a.transition().duration(500).style("opacity",0)})).on("click",(function(t,e){var i=this.parentElement.id.split("_")[1];r.clickHandler(o[i],n.columns[e])})),i.svg.selectAll(".matrix-column-label").data(Object.keys(n[0])).enter().append("text").attr("class","matrix-label matrix-column-label").attr("text-anchor","start").attr("transform",(function(t,e){return"translate("+(e*(i.cellWidth+i.cellPadding)+(i.cellWidth+i.cellPadding)/2)+",-8) rotate(270)"})).text((function(t,e){return t})).on("click",(function(t,e){r.clickHandler("",n.columns[e])}));i.svg.append("g").attr("class","colorLegend").attr("transform","translate("+(i.width+5)+",0)");var u=Gf().ascending(!0).labelAlign("start").shapeWidth(5).shapeHeight((n.length*(i.cellWidth+i.cellPadding)-i.cellPadding)/6-1).cells(pt(i.min,i.max,(i.max-i.min)/6)).scale(s);i.svg.select(".colorLegend").call(u)}})).catch((function(t){console.log("error loading vis data:"+t)}))},Zf.renderBarChart=function(t,e,n,r,i){var a=na(".2n"),o={margin:{top:20,right:20,bottom:30,left:40}};o.width=t.clientWidth-o.margin.left-o.margin.right,o.height=o.width,o.padding=15,o.tooltip=Je("#"+e).append("div").attr("class","tooltip").attr("id","tooltip_barChart").style("opacity",0),o.svg=Je("#"+e).append("svg").attr("width",o.width+o.margin.left+o.margin.right).attr("height",o.height+o.margin.top+o.margin.bottom),o.x=ya().rangeRound([0,o.width]).padding(.1),o.y=Pa().rangeRound([o.height,0]);var s=o.svg.append("g").attr("transform","translate("+o.margin.left+","+o.margin.top+")");return Li(n).then(t=>t.map(t=>(t.frequency=+t.frequency,t))).then(t=>{o.x.domain(t.map((function(t){return t.type}))),o.y.domain([0,_t(t,(function(t){return t.frequency}))]),s.append("g").attr("class","axis axis--x").attr("transform","translate("+o.padding+","+o.height+")").call(Dt(o.x)),s.append("g").attr("class","axis axis--y").call(Pt(o.y).ticks(10).tickFormat(a)).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy","0.71em").attr("text-anchor","end").text("Number of Cells").attr("fill","white"),s.selectAll(".bar").data(t).enter().append("rect").attr("class","bar").attr("x",(function(t){return o.padding+o.x(t.type)})).attr("y",(function(t){return o.y(0)})).attr("width",o.x.bandwidth()).attr("height",(function(t){return o.height-o.y(0)})),o.svg.selectAll("rect").attr("y",(function(t){return o.y(t.frequency)})).attr("height",(function(t){return o.height-o.y(t.frequency)})),o.svg.selectAll("rect").on("mouseover",(function(t){Je(this).style("cursor","pointer"),Je(this).attr("stroke","white").attr("stroke-width","2"),o.tooltip.transition().duration(200).style("opacity",.8),o.tooltip.html(""+a(parseFloat(t.frequency))).style("left",Fe.pageX+"px").style("top",Je(this).attr("y")-o.margin.top+"px")})).on("mouseout",(function(t){Je(this).style("cursor","default"),Je(this).attr("stroke","black").attr("stroke-width","0"),o.tooltip.transition().duration(500).style("opacity",0)})).on("click",(function(t,e){r.clickHandler(t.type)}))}).catch(t=>{throw t})},Zf.renderBoxPlot=function(t,e,n,r){},Zf.renderScatterplot=function(t,e,n,r,i){var a=20,o=20,s=30,c=40,u=t.clientWidth-c-o,f=u,l=na(".2n"),h=(n=n).clusters.labels.split(","),d=n.clusters.colors.split(","),p=n.clusters.reorder.split(","),g=function(t){return t[n.axes.x]},m=Pa().range([0,u]),v=function(t){return m(g(t))},y=Dt(m);y.ticks(5).tickFormat(na(".1f"));var b=function(t){return t[n.axes.y]},w=Pa().range([f,0]),_=function(t){return w(b(t))},x=Pt(w);x.ticks(5).tickFormat(na(".1f"));var C=function(t){return h[parseInt(t.clust_ID)-1]},A=va().domain(h).range(d),S=d.slice().sort((function(t,e){return p.indexOf(h[d.indexOf(t)])-p.indexOf(h[d.indexOf(e)])})),T=va().domain(p).range(S),M=Je("#"+e).append("svg").attr("width",u+c+o).attr("height",f+a+s).append("g").attr("transform","translate("+c+","+a+")"),E=Je("body").append("div").attr("class","tooltip").style("opacity",0).style("width","100px");return Li(n.data).then((function(t){t.forEach((function(t){t[n.axes.x]=+t[n.axes.x],t[n.axes.y]=+t[n.axes.y]}));var e=(Math.abs(_t(t,g))+Math.abs(xt(t,g)))/10;m.domain([xt(t,g)-e,_t(t,g)+e]),w.domain([xt(t,b)-e,_t(t,b)+e]),M.append("g").attr("class","x axis").attr("transform","translate(0,"+f+")").call(y).append("text").attr("class","label").attr("x",u).attr("y",-6).style("text-anchor","end").text(n.axes.x).attr("fill","white"),M.append("g").attr("class","y axis").call(x).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(n.axes.y).attr("fill","white");var i=1.5,a=.5;t.length<=100?(i=3.5,a=1):t.length<=1e3&&(i=2,a=.95),M.selectAll(".dot").data(t).enter().append("circle").attr("class","dot").attr("r",i).attr("cx",v).attr("cy",_).style("fill",(function(t){return A(C(t))})).attr("fill-opacity",a).on("click",(function(t){r.clickHandler(function(t){return[parseInt(t.X_position),parseInt(t.Y_position)]}(t))})).on("mouseover",(function(t){Je(this).style("cursor","pointer"),E.transition().duration(200).style("opacity",.9),E.html(C(t)+"<br/> (x: "+l(parseFloat(g(t)))+", y: "+l(parseFloat(b(t)))+")").style("left",Fe.pageX+5+"px").style("top",Fe.pageY-28+"px")})).on("mouseout",(function(t){Je(this).style("cursor","default"),E.transition().duration(500).style("opacity",0)}));var o=M.selectAll(".legend").data(T.domain()).enter().append("g").attr("class","legend").attr("transform",(function(t,e){return"translate(0,"+20*e+")"}));o.append("rect").attr("x",u-18).attr("width",18).attr("height",18).style("fill",T),o.append("text").attr("x",u-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text((function(t){return t})).attr("font-size","0.8em").attr("fill","white")})).catch(t=>{throw t})},Zf.renderCanvasScatterplot=function(t,e,n,r,i){if(Je("#axis-svg").empty()){i=i,n.data.length;var a,o,s=0,c=1,u=n.clusters.labels.split(","),f=n.clusters.colors.split(","),l=n.clusters.reorder.split(","),h={top:10,right:10,bottom:30,left:30},d=t.clientWidth-h.left-h.right,p=d,g=(na(".2n"),d-h.left-h.right),m=p-h.top-h.bottom,v=Je("#"+e).append("div").style("width",d+"px").style("height",p+"px");return v.append("svg").attr("id","axis-svg").attr("class","plot"),Je("#"+e).append("div").style("width",d+"px").style("height","100px").append("svg").attr("id","axis-svg-legend"),v.append("canvas").attr("id","plot-canvas").attr("class","plot"),Li(n.data).then((function(t){s=Math.min(t.length,1e4),console.log("shifting data");var e=t.map((function(t,e){return[parseFloat(t[n.axes.x]),parseFloat(t[n.axes.y]),t,e,!1]})),v=t.map((function(t,e){return[parseFloat(t.X_position),parseFloat(t.Y_position),t,e,!1]})),y=ji(e),b=(ji(v),_.sampleSize(e,s)),w=1.5,x=.5;e.length<=100?(w=5.5,x=1):e.length<=1e3?(w=4,x=.9):e.length<=1e4?(w=3,x=.75):e.length<=1e5?(w=2,x=.6):e.length<=1e6&&(w=1,x=.5);var C=Je("#plot-canvas").attr("width",g-1).attr("height",m-1).style("transform","translate("+(h.left+1)+"px,"+(h.top+1)+"px)"),A=Je("#axis-svg").attr("width",d).attr("height",p).append("g").attr("transform","translate("+h.left+","+h.top+")"),S=Je("#axis-svg-legend").attr("width",d).attr("height",100).append("g").attr("transform","translate("+h.left+","+h.top+")"),T=ht(e,(function(t){return t[0]})),M=ht(e,(function(t){return t[1]})),E=Pa().domain([T[0],T[1]]).range([0,g]),k=E.copy(),U=Pa().domain([M[0],M[1]]).range([m,0]),D=U.copy(),P=Dt().scale(E).tickSizeInner(-m).tickSizeOuter(0).tickPadding(10),I=Pt().scale(U).tickSizeInner(-g).tickSizeOuter(0),N=function(){var t,e,n=wc,r=_c,i=Sc,a=Cc,o=Ac,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,f=dc,l=Lt("start","zoom","end"),h=0;function d(t){t.property("__zoom",xc).on("wheel.zoom",w).on("mousedown.zoom",_).on("dblclick.zoom",x).filter(o).on("touchstart.zoom",C).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new mc(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new mc(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function v(t,e,n){t.on("start.zoom",(function(){y(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){y(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,a=y(t,i),o=r.apply(t,i),s=null==n?m(o):"function"==typeof n?n.apply(t,i):n,c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=t.__zoom,l="function"==typeof e?e.apply(t,i):e,h=f(u.invert(s).concat(c/u.k),l.invert(s).concat(c/l.k));return function(t){if(1===t)t=l;else{var e=h(t),n=c/e[2];t=new mc(n,s[0]-e[0]*n,s[1]-e[1]*n)}a.zoom(null,t)}}))}function y(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function w(){if(n.apply(this,arguments)){var t=y(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,a.apply(this,arguments)))),o=Qn(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=e.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[o,e.invert(o)],Tr(this),t.start()}bc(),t.wheel=setTimeout(u,150),t.zoom("mouse",i(g(p(e,r),t.mouse[0],t.mouse[1]),t.extent,c))}function u(){t.wheel=null,t.end()}}function _(){if(!e&&n.apply(this,arguments)){var t=y(this,arguments,!0),r=Je(Fe.view).on("mousemove.zoom",u,!0).on("mouseup.zoom",f,!0),a=Qn(this),o=Fe.clientX,s=Fe.clientY;Qe(Fe.view),yc(),t.mouse=[a,this.__zoom.invert(a)],Tr(this),t.start()}function u(){if(bc(),!t.moved){var e=Fe.clientX-o,n=Fe.clientY-s;t.moved=e*e+n*n>h}t.zoom("mouse",i(g(t.that.__zoom,t.mouse[0]=Qn(t.that),t.mouse[1]),t.extent,c))}function f(){r.on("mousemove.zoom mouseup.zoom",null),tn(Fe.view,t.moved),bc(),t.end()}}function x(){if(n.apply(this,arguments)){var t=this.__zoom,e=Qn(this),a=t.invert(e),o=t.k*(Fe.shiftKey?.5:2),s=i(g(p(t,o),e,a),r.apply(this,arguments),c);bc(),u>0?Je(this).transition().duration(u).call(v,s,e):Je(this).call(d.transform,s)}}function C(){if(n.apply(this,arguments)){var e,r,i,a,o=Fe.touches,s=o.length,c=y(this,arguments,Fe.changedTouches.length===s);for(yc(),r=0;r<s;++r)i=o[r],a=[a=Zn(this,o,i.identifier),this.__zoom.invert(a),i.identifier],c.touch0?c.touch1||c.touch0[2]===a[2]||(c.touch1=a,c.taps=0):(c.touch0=a,e=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(c.taps<2&&(t=setTimeout((function(){t=null}),500)),Tr(this),c.start())}}function A(){if(this.__zooming){var e,n,r,a,o=y(this,arguments),s=Fe.changedTouches,u=s.length;for(bc(),t&&(t=clearTimeout(t)),o.taps=0,e=0;e<u;++e)n=s[e],r=Zn(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var f=o.touch0[0],l=o.touch0[1],h=o.touch1[0],d=o.touch1[1],m=(m=h[0]-f[0])*m+(m=h[1]-f[1])*m,v=(v=d[0]-l[0])*v+(v=d[1]-l[1])*v;n=p(n,Math.sqrt(m/v)),r=[(f[0]+h[0])/2,(f[1]+h[1])/2],a=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],a=o.touch0[1]}o.zoom("touch",i(g(n,r,a),o.extent,c))}}function S(){if(this.__zooming){var t,n,r=y(this,arguments),i=Fe.changedTouches,a=i.length;for(yc(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),t=0;t<a;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var o=Je(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return d.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",xc),t!==r?v(t,e,n):r.interrupt().each((function(){y(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},d.scaleBy=function(t,e,n){d.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},d.scaleTo=function(t,e,n){d.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,o=null==n?m(t):"function"==typeof n?n.apply(this,arguments):n,s=a.invert(o),u="function"==typeof e?e.apply(this,arguments):e;return i(g(p(a,u),o,s),t,c)}),n)},d.translateBy=function(t,e,n){d.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}))},d.translateTo=function(t,e,n,a){d.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,s=null==a?m(t):"function"==typeof a?a.apply(this,arguments):a;return i(vc.translate(s[0],s[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),a)},b.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){$e(new gc(d,t,this.that.__zoom),l.apply,l,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:pc(+t),d):a},d.filter=function(t){return arguments.length?(n="function"==typeof t?t:pc(!!t),d):n},d.touchable=function(t){return arguments.length?(o="function"==typeof t?t:pc(!!t),d):o},d.extent=function(t){return arguments.length?(r="function"==typeof t?t:pc([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):r},d.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],d):[s[0],s[1]]},d.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],d):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},d.constrain=function(t){return arguments.length?(i=t,d):i},d.duration=function(t){return arguments.length?(u=+t,d):u},d.interpolate=function(t){return arguments.length?(f=t,d):f},d.on=function(){var t=l.on.apply(l,arguments);return t===l?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}().scaleExtent([1,100]).on("zoom",(function(){E=Fe.transform.rescaleX(k),P.scale(E),R.call(P),U=Fe.transform.rescaleY(D),I.scale(U),B.call(I),c=Fe.transform.k,clearTimeout(a),c<5?L(b):L()})).on("end",(function(){a=setTimeout((function(){L()}),200)})),R=A.append("g").attr("class","x axis").attr("transform","translate(0,"+m+")").call(P),B=A.append("g").attr("class","y axis").call(I);C.on("click",(function(){var t=Qn(this),n=E.invert(t[0]),i=U.invert(t[1]),a=y.find(n,i),s=E(a[0]),c=U(a[1]);(function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))})(t[0],t[1],s,c)<10*w&&(o&&(e[o][4]=!1),a[4]=!0,o=a[3],L(),r.clickHandler(O(a[2])))})),C.call(N);var F=C.node().getContext("2d");L();var O=function(t){return[parseInt(t.X_position),parseInt(t.Y_position)]};function L(t){var n;F.clearRect(0,0,d,p),t?t.forEach((function(t){var r=e[t[3]];r[4]?n=r:V(!1,r,w)})):e.forEach((function(t){t[4]?n=t:V(!1,t,w)})),n&&V(!0,n,w)}function V(t,e,n){if(e[0]>=ht(E.domain())[0]&&e[0]<=ht(E.domain())[1]&&e[1]>=ht(U.domain())[0]&&e[1]<=ht(U.domain())[1]){var r=E(e[0]),i=U(e[1]);if(t){a=xn("#"+f[parseInt(e[2].clust_ID)-1]);F.strokeStyle="#FFA500",F.lineWidth=5,F.fillStyle=a+"",F.beginPath(),F.arc(r,i,n*(c/10),0,2*Math.PI),F.fill(),F.stroke()}else{var a;(a=xn("#"+f[parseInt(e[2].clust_ID)-1])).opacity=x,F.fillStyle=a+"",F.beginPath(),F.arc(r,i,n*(c/10),0,2*Math.PI),F.fill()}}}va().domain(u).range(f);sortedColors=f.slice().sort((function(t,e){return l.indexOf(u[f.indexOf(t)])-l.indexOf(u[f.indexOf(e)])}));var z=va().domain(l).range(sortedColors),H=u.length/2,$=S.selectAll(".legend").data(z.domain()).enter().append("g").attr("transform",(function(t,e){return"translate("+(e%H*80-.7*d)+","+18*Math.floor(e/H)*1.2+")"})).attr("class","legend");$.append("rect").attr("x",g-18).attr("width",18).attr("height",18).style("fill",z),$.append("text").attr("x",g-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text((function(t){return t})).attr("font-size","0.8em").attr("fill","white");i.bind(i.events.osdClickEvent,t=>{})}))}};var Qf=Zf;const tl=function(t){return Math.round(10*t)/10},el=function(t){const e=Math.pow(10,4);return Math.round(t*e)/e},nl=function(t){return Object.keys(t).forEach(e=>{null==t[e]&&delete t[e]}),t},rl=function(t){return btoa(encodeURIComponent(t))},il=function(t){try{return decodeURIComponent(atob(t))}catch(t){return""}},al=function(t){return $(t).serializeArray().reduce((function(t,e){return t[e.name]=e.value,t}),{})},ol=function(t,e,n){return e?$(t).addClass(n):$(t).removeClass(n)},sl=function(t,e){ol(t,!e,"d-none")},cl=function(t,e){ol(t,e,"active")},ul=function(t,e){ol(t,e,"green"),ol(t,!e,"white")};const fl=function(t){ot.copy(t)},ll=function(t,e,n){const r=e.reduce((function(t,e){return e.TileSize=e.TileSize||[1024,1024],e.maxLevel=e.maxLevel||0,t[e.Name]=e,t}),{});return t[n].map((function(t){return t.map((function(t){return this.image_map[t]}),{image_map:r})}),{image_map:r})},hl=function(t){$(this).tooltip({title:"Copy to Clipboard"}),$(this).on("relabel",(function(t,e){$(this).attr("data-original-title",e).tooltip("show")})),$(this).click((function(){return $(this).trigger("relabel",["Copied"]),fl(t.hashstate.bufferYaml),setTimeout(function(){$(this).trigger("relabel",["Copy to Clipboard"])}.bind(this),1e3),!1}))},dl=function(){$(this).tooltip({title:"Copy to Clipboard"}),$(this).on("relabel",(function(t,e){$(this).attr("data-original-title",e).tooltip("show")})),$(this).on("click",(function(){const t=$(this).closest("form"),e=al(t);return $(this).trigger("relabel",["Copied"]),fl(e.copy_content),setTimeout((function(){$(this).trigger("relabel",["Copy to Clipboard"])}),1e3),!1}))},pl=function(t,e,n){this.eventHandler=n,this.trackers=t.trackers,this.pollycache=t.pollycache,this.showdown=new showdown.Converter,this.osd=e,this.hashstate=t};pl.prototype={init:function(){const t=this.hashstate;window.onpopstate=function(e){t.popState(e),this.loadPolly(t.waypoint.Description),this.newView(!0)}.bind(this),window.onpopstate(),this.edit&&t.startEditing(),t.pushState(),window.onpopstate(),$("#exhibit-name").text(t.exhibit.Name),$(".modal_copy_button").each(dl),$("#zoom-in").tooltip({title:"Zoom in"}),$("#zoom-out").tooltip({title:"Zoom out"}),$("#arrow-switch").tooltip({title:"Share Arrow"}),$("#lasso-switch").tooltip({title:"Share Region"}),$("#draw-switch").tooltip({title:"Share Box"}),$("#duplicate-view").tooltip({title:"Clone linked view"}),$("#copy_link_modal").on("hidden.bs.modal",t.cancelDrawing.bind(t)),$("#edit_description_modal").on("hidden.bs.modal",t.cancelDrawing.bind(t)),$("#toggle-sidebar").click((function(t){t.preventDefault(),$("#sidebar-menu").toggleClass("toggled")})),$("#toggle-legend").click((function(t){t.preventDefault(),$("#legend").toggleClass("toggled")})),$("#leftArrow").click(this,(function(t){const e=t.data.hashstate;0==e.w?(e.s=e.s-1,e.w=e.waypoints.length-1):e.w=e.w-1,e.pushState(),window.onpopstate()})),$("#rightArrow").click(this,(function(t){const e=t.data.hashstate;e.w==e.waypoints.length-1?(e.s=e.s+1,e.w=0):e.w=e.w+1,e.pushState(),window.onpopstate()})),$("#edit-switch").click(this,(function(t){const e=t.data.hashstate;e.edit||(e.startEditing(),e.pushState(),window.onpopstate())})),$("#view-switch").click(this,(function(t){const e=t.data.hashstate;e.edit&&(e.finishEditing(),e.pushState(),window.onpopstate())})),$("#toc-button").click(this,(function(t){const e=t.data.hashstate;"outline"!=e.waypoint.Mode&&(e.s=0,e.pushState(),window.onpopstate())})),$(".clear-switch").click(this,(function(t){const e=t.data.hashstate;e.bufferWaypoint=void 0,e.startEditing(),e.pushState(),window.onpopstate()})),$(".arrow-switch").click(this,(function(t){const e=t.data.hashstate,n=t.data;e.drawType="arrow",e.drawing?e.cancelDrawing(e):e.startDrawing(e),e.pushState(),n.newView(!1)})),$(".lasso-switch").click(this,(function(t){const e=t.data.hashstate,n=t.data;e.drawType="lasso",e.drawing?e.cancelDrawing(e):e.startDrawing(e),e.pushState(),n.newView(!1)})),$(".draw-switch").click(this,(function(t){const e=t.data.hashstate,n=t.data;e.drawType="box",e.drawing?e.cancelDrawing(e):e.startDrawing(e),e.pushState(),n.newView(!1)}));var e=document.getElementById("depth-legend"),n=document.getElementById("z-slider");n.max=t.cgs.length-1,n.value=t.g,n.min=0,t.design.is3d&&t.design.z_scale?e.innerText=tl(t.g/t.design.z_scale)+" μm":t.design.is3d&&(e.innerText=t.group.Name);const r=this;n.addEventListener("input",(function(){t.g=n.value,t.design.z_scale?e.innerText=tl(t.g/t.design.z_scale)+" μm":e.innerText=t.group.Name,r.newView(!0)}),!1),$("#edit_description_modal form").submit(this,(function(t){const e=t.data.hashstate,n=al(t.target);$(this).closest(".modal").modal("hide"),e.d=rl(n.d),$("#copy_link_modal").modal("show");const r=e.location("host")+e.location("pathname"),i=e.makeHash(["d","g","m","a","v","o","p"]);return document.getElementById("copy_link").value=r+i,!1}))},newView:function(t){const e=this.hashstate;if(this.osd.newView(t),t){this.addChannelLegends(),e.design.is3d?$("#channel-label").hide():this.addGroups(),this.addMasks(),this.newStories(),e.edit?this.fillWaypointEdit():this.fillWaypointView(),$(".step-back").click(this,(function(t){const e=t.data.hashstate;e.w-=1,e.pushState(),window.onpopstate()})),$(".step-next").click(this,(function(t){const e=t.data.hashstate;e.w+=1,e.pushState(),window.onpopstate()}));const t=this;$(".edit_copy_button").each((function(){hl.call(this,t)})),$("#edit_toggle_arrow").click(this,(function(t){const e=t.data.hashstate,n=t.data,r=e.waypoint.Arrows[0],i=r.HideArrow;r.HideArrow=!i,n.newView(!0)}))}if(e.edit){const t=this;$("#mask-picker").off("changed.bs.select"),$("#mask-picker").on("changed.bs.select",(function(n,r,i,a){const o=$(this).find("option").eq(r).text();e.waypoint.Masks=e.masks.map(t=>t.Name).filter((function(t){return i?a.includes(t)||t==o:a.includes(t)&&t!=o}));const s=e.active_masks.map(t=>t.Name).filter((function(t){return e.waypoint.Masks.includes(t)}));e.waypoint.ActiveMasks=s,e.m=s.map(t=>Il(e.masks,t)),t.newView(!0)})),$("#group-picker").off("changed.bs.select"),$("#group-picker").on("changed.bs.select",(function(n,r,i,a){const o=$(this).find("option").eq(r).text();e.waypoint.Groups=e.cgs.map(t=>t.Name).filter((function(t){return i?a.includes(t)||t==o:a.includes(t)&&t!=o}));const s=e.waypoint.Groups,c=e.cgs[e.g].Name;s.length>0&&!s.includes(c)&&(e.g=Il(e.cgs,s[0])),t.newView(!0)}))}const n=e.edit,r=e.drawing,i=e.drawType;var a;cl("#view-switch",!n),cl("#edit-switch",n),sl("#home-button",!n&&"outline"==e.waypoint.Mode),sl("#toc-button",!n&&"outline"!=e.waypoint.Mode),sl("#channel-groups-legend",!e.design.is3d),sl("#z-slider-legend",e.design.is3d),sl("#toggle-legend",!e.design.is3d),sl(".only-3d",e.design.is3d),sl(".editControls",n),sl("#waypointControls",!n),sl("#waypointName",!n),a="crosshair",r?$("#openseadragon1 *").css("cursor",a):$("#openseadragon1 *").css("cursor","default"),ul(".draw-switch *",r&&"box"==i),ul(".lasso-switch *",r&&"lasso"==i),ul(".arrow-switch *",r&&"arrow"==i)},loadPolly:function(t){const e=at()(t);if(speech_bucket){const t="https://s3.amazonaws.com/"+speech_bucket+"/speech/"+e+".mp3";document.getElementById("audioSource").src=t,document.getElementById("audioPlayback").load()}},drawLowerBounds:function(t){const e=this.hashstate,n=[t.x,t.y];e.o=n.concat([0,0]),this.newView(!1)},computeBounds:function(t,e,n){return t<e+n/2?{start:t,range:e+n-t}:{start:e,range:t-e}},drawUpperBounds:function(t){const e=this.hashstate,n=e.o.slice(0,2),r=e.o.slice(2),i=this.computeBounds(t.x,n[0],r[0]),a=this.computeBounds(t.y,n[1],r[1]),o=[i.start,a.start,i.range,a.range];e.o=o.map(el),this.newView(!1)},addMasks:function(){const t=this.hashstate;$("#mask-layers").empty(),t.edit||"explore"==t.waypoint.Mode?($("#mask-layers").addClass("flex"),$("#mask-layers").removeClass("flex-column")):($("#mask-layers").addClass("flex-column"),$("#mask-layers").removeClass("flex"));const e=t.waypoint.Masks||[],n=t.masks.filter(t=>e.includes(t.Name));n.length||t.edit?$("#mask-label").show():$("#mask-label").hide(),n.forEach((function(e){const n=Il(t.masks,e.Name);this.addMask(e,n)}),this)},addMask:function(t,e){const n=this.hashstate;var r=document.createElement("a");r=Object.assign(r,{className:n.m.includes(e)?"nav-link active":"nav-link",href:"javascript:;",innerText:t.Name,title:t.Path,id:t.Path});var i=!!n.m.includes(e);r.setAttribute("aria-selected",i),document.getElementById("mask-layers").appendChild(r),$(r).click(this,(function(t){const n=t.data.hashstate,r=n.design.default_group,i=Il(n.cgs,r);-1!=i&&(n.g=i),n.m.includes(e)?n.m=n.m.filter(t=>t!=e):n.m.push(e),n.pushState(),window.onpopstate()}))},addGroups:function(){const t=this.hashstate;$("#channel-groups").empty(),$("#channel-groups-legend").empty();const e=t.waypoint.Groups||[],n=t.cgs.filter(t=>e.includes(t.Name));n.length||t.edit?$("#channel-label").show():$("#channel-label").hide(),n.forEach((function(e){const n=Il(t.cgs,e.Name);this.addGroup(e,n,"channel-groups",!1)}),this);const r=t.cgs.filter(t=>t.Channels.length>1),i=t.cgs.filter(t=>1==t.Channels.length),a=document.getElementById("channel-groups-legend");var o;r.length>0&&((o=document.createElement("h6")).innerText="Channel Groups:",o.className="m-1",a.appendChild(o));(r.forEach((function(e){const n=Il(t.cgs,e.Name);this.addGroup(e,n,"channel-groups-legend",!0)}),this),i.length>0)&&((o=document.createElement("h6")).innerText="Channels:",o.className="m-1",a.appendChild(o));i.forEach((function(e){const n=Il(t.cgs,e.Name);this.addGroup(e,n,"channel-groups-legend",!0)}),this)},addGroup:function(t,e,n,r){const i=this.hashstate;var a=document.createElement("a"),o=i.g===e;(a=Object.assign(a,{className:o?"nav-link active":"nav-link",style:"padding-right: 40px; position: relative;",href:"javascript:;",innerText:t.Name,title:t.Path,id:t.Path+"_"+n})).setAttribute("data-toggle","pill");var s=void 0;for(var c in i.stories)for(var u in i.stories[c].Waypoints){var f=i.stories[c].Waypoints[u];f.Group==t.Name&&(null==s||f.DefineGroup)&&(s=[c,u])}var l=document.createElement("a");if(o&&r&&s){l=Object.assign(l,{className:"text-white",style:"position: absolute; right: 5px;",href:"javascript:;",innerText:"MORE"}),a.appendChild(l),$(l).click(this,(function(t){i.s=s[0],i.w=s[1],i.pushState(),window.onpopstate()}))}document.getElementById(n).appendChild(a),$(a).click(this,(function(t){i.g=e,i.pushState(),window.onpopstate()}))},addChannelLegends:function(){const t=this.hashstate;$("#channel-legend").empty(),t.channels.forEach(this.addChannelLegend,this)},addChannelLegend:function(t,e){const n=this.indexColor(e,"#FFF");var r=document.createElement("span");r.className="legend-label pl-3",r.innerText=t;var i=document.createElement("span");$(i).css("background-color",n),i.className="badge legend-color",i.innerText=" ";var a=document.getElementById("channel-legend"),o=document.createElement("li");o.appendChild(i),o.appendChild(r),a.appendChild(o)},channelOrders:function(t){return t.reduce((function(t,e,n){return t[e]=n,t}),{})},indexColor:function(t,e){const n=this.hashstate.colors;return void 0===t?e:"#"+n[t%n.length]},newStories:function(){const t=this.hashstate,e=document.getElementById("story-container");if(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(e),"outline"==t.waypoint.Mode){var n=document.createElement("p");n.innerText="Table of Contents",e.appendChild(n);var r=document.createElement("div"),i=document.createElement("ol");t.stories.forEach((function(t,e){null!=t.Mode&&"outline"!=t.Mode||this.addStory(t,e,i)}),this),r.appendChild(i),e.appendChild(r)}const a=document.createElement("p"),o=t.design.footer;a.innerHTML=this.showdown.makeHtml(o),e.appendChild(a)},addStory:function(t,e,n){t.Waypoints.forEach((function(t,r){this.addWaypoint(t,r,e,n)}),this)},addWaypoint:function(t,e,n,r){var i=document.createElement("li"),a=document.createElement("a");a=Object.assign(a,{className:"",href:"javascript:;",innerText:t.Name}),$(a).click(this,(function(t){const r=t.data.hashstate;r.s=n,r.w=e,r.pushState(),window.onpopstate()})),i.appendChild(a),r.appendChild(i)},fillWaypointView:function(){const t=this.hashstate,e=t.waypoint,n=document.getElementById("viewer-waypoint"),r=document.getElementById("waypointName");document.getElementById("waypointCount").innerText=t.currentCount+"/"+t.totalCount,"outline"!==e.Mode?r.innerText=e.Name:r.innerText="";const i=$(".waypoint-content").scrollTop();$(n).css("height",$(n).height());var a=e.Description;cell_type_links_map.forEach((function(t,e){var n=RegExp(e+"s?","gi");a=a.replace(n,(function(e){return"["+e+"]("+t+")"}))})),marker_links_map.forEach((function(t,e){var n=RegExp("(^|[^0-9A-Za-z`])("+e+")([^0-9A-Za-z`]|$)","gi");a=a.replace(n,(function(t,e,n,r){return t.replace(n,"`"+n+"`","gi")}))})),marker_links_map.forEach((function(t,e){var n=RegExp("`"+e+"`","gi");a=a.replace(n,(function(e){return"["+e+"]("+t+")"}))}));const o=new Set(["VisMatrix","VisBarChart","VisScatterplot","VisCanvasScatterplot"].filter(t=>e[t])),s=new Set,c=this,u=function(t){s.add(t),[...o].every(t=>s.has(t))&&($(".waypoint-content").scrollTop(i),$(n).css("height",""),c.colorMarkerText(n))},f=function(e){const n=RegExp(e,"gi"),r=Nl(t.masks,n);r>=0&&(t.m=[r]),c.newView(!0)},l=function(e,n){const r=RegExp(e,"gi"),i=Nl(t.masks,r);i>=0&&(t.m=[i]);const a=Il(t.cgs,n);if(a>=0)t.g=a;else{const e=RegExp(n,"gi"),r=Nl(t.cgs,e);r>=0&&(t.g=r)}c.newView(!0)},h=function(e){var n=c.osd.viewer.viewport.imageToViewportCoordinates(e[0],e[1]);t.v=[10,n.x,n.y],c.osd.newView(!0),t.a=[n.x,n.y]},d=function(t,n,r){const i={VisMatrix:Qf.renderMatrix,VisBarChart:Qf.renderBarChart,VisScatterplot:Qf.renderScatterplot,VisCanvasScatterplot:Qf.renderCanvasScatterplot}[t],a={VisMatrix:l,VisBarChart:f,VisScatterplot:h,VisCanvasScatterplot:h}[t];i(n,r,e[t],{clickHandler:a},c.eventHandler).then(()=>u(t))};var p=document.createElement("div");if(Array.from(o).forEach((function(e){var r=e+"-"+t.s+"-"+t.w,i=n.getElementsByClassName(r);i[0]&&p.appendChild(i[0])})),n.innerHTML=this.showdown.makeHtml(a),e.Image){var g=document.createElement("img");g.src=e.Image,n.appendChild(g)}Array.from(o).forEach((function(e){const r=Array.from(n.getElementsByTagName("code")).filter(t=>t.innerText==e)[0],i=document.createElement("div");i.style.cssText="position:relative",i.className=e+"-"+t.s+"-"+t.w,i.id=e+"-"+t.s+"-"+t.w;const a=p.getElementsByClassName(i.className);a[0]&&r?($(r).replaceWith(a[0]),u(e)):r?($(r).replaceWith(i),d(e,n,i.id)):(n.appendChild(i),d(e,n,i.id))})),u("")},colorMarkerText:function(t){const e=this.hashstate,n=this.channelOrders(e.channels),r=t.getElementsByTagName("code");for(var i=0;i<r.length;i++){var a=r[i],o=n[a.innerText];o||Object.keys(n).forEach((function(t){const e=a.innerText,r=marker_alias_map.get(e)||e,i=marker_alias_map.get(t)||t,s=RegExp("^"+r+"$","gi");null!=i&&i.match(s)&&(o=n[t])}));var s=this.indexColor(o),c=s?"2px solid "+s:"inherit";$(a).css("border-bottom",c)}},fillWaypointEdit:function(){const t=this.hashstate,e=document.getElementById("viewer-waypoint");$(e).empty();const n=document.getElementsByClassName("save_edits_form")[0].cloneNode(!0);e.appendChild(n),1==t.waypoint.Arrows[0].HideArrow?$("#edit_toggle_arrow").css("opacity","0.5"):$("#edit_toggle_arrow").css("opacity","1");const r=$(e).find(".edit_text")[0],i=$(e).find(".edit_name")[0],a=$(e).find(".edit_arrow_text")[0],o=il(t.d),s=il(t.n);$(a).on("input",this,(function(t){const e=t.data.hashstate,n=t.data;e.waypoint.Arrows[0].Text=this.value,n.newView(!1)})),a.value=t.waypoint.Arrows[0].Text||"",$(i).on("input",this,(function(t){const e=t.data.hashstate;e.n=rl(this.value),e.waypoint.Name=this.value})),i.value=s,$(r).on("input",this,(function(t){const e=t.data.hashstate;e.d=rl(this.value),e.waypoint.Description=this.value})),r.value=o}};var gl=n(13),ml=n.n(gl);const vl=function(t,e){return e.then((function(e){const n=new nt({UserPoolId:"us-east-1_d3Wusx6qp",ClientId:"cvuuuuogh6nmqm8491iiu1lh5"});return function(t,e){return new Promise((function(n,r){t.authenticateUser(e,{onSuccess:t=>n(t),onFailure:t=>r(t),mfaRequired:t=>r(t),newPasswordRequired:(t,e)=>r({fields:t,required:e})})}))}(new Z({Username:t,Pool:n}),new o({Username:t,Password:e})).then(t=>t.getIdToken().getJwtToken())}))},yl=function(t,e){return(t%e+e)%e},bl=function(t){return rl(t.Description)},wl=function(t){return rl(t.Name)},_l=function(t,e){const n=(t.ActiveMasks||[]).map(t=>Il(e,t));return n.length<2?[-1].concat(n):n},xl=function(t,e){const n=(t.Arrows||[{}])[0].Point;return n||[-100,-100]},Cl=function(t,e){const n=t.Group;return Il(e,n)},Al=function(t){return[t.Zoom,t.Pan[0],t.Pan[1]]},Sl=function(t){const e=t.Polygon;return e||Ml([])},Tl=function(t){return[t.Overlays[0].x,t.Overlays[0].y,t.Overlays[0].width,t.Overlays[0].height]};var Ml=function(t){var e="";return t.forEach((function(t){e+=t.x.toFixed(5)+","+t.y.toFixed(5)+","})),e=e.slice(0,-1),ml.a.compressToEncodedURIComponent(e)};const El=function(t,e,n){return t.reduce((function(t,r){var i=e[r]||0;return i.constructor===Array&&(i=i.join("_")),t+n+r+"="+i}),"").slice(1)},kl=function(t){return t.reduce((function(t,e){if(e){const n=e.split("="),r=n.slice(1).join("=")||"1",i=r.split("_");t[n[0]]=i.length>1?i:r}return t}),{})},Ul=function(t,e){this.trackers=[],this.pollycache={},this.embedded=e.embedded||!1,this.exhibit=t,this.state={buffer:{waypoint:void 0},drawType:"lasso",changed:!1,design:{},m:[-1],w:[0],g:0,s:0,a:[-100,-100],v:[.5,.5,.5],o:[-100,-100,1,1],p:[],name:"",description:"",edit:!1,drawing:0},this.newExhibit()};Ul.prototype={get bufferWaypoint(){if(void 0===this.state.buffer.waypoint){const t=this.viewport;return nl({Zoom:t.scale,Pan:[t.pan.x,t.pan.y],Arrows:[{Point:this.a,Text:"",HideArrow:!1}],ActiveMasks:void 0,Masks:void 0,Polygon:this.p,Group:this.group.Name,Groups:void 0,Description:"",Name:"Untitled",Overlays:[this.overlay]})}return this.state.buffer.waypoint},set bufferWaypoint(t){this.state.buffer.waypoint=t},location:function(t){return decodeURIComponent(location[t])},get search(){const t=this.location("search").slice(1).split("&");return kl(t)},get hash(){const t=this.location("hash").slice(1).split("#");return kl(t)},get url(){return this.location("pathname")+this.location("search")+this.location("hash")},get searchKeys(){const t=Object.keys(this.search);return["edit"].filter(e=>t.includes(e))},get hashKeys(){return"tag"==this.waypoint.Mode||this.isSharedLink?["d","s","w","g","m","a","v","o","p"]:["s","w","g","m","a","v","o","p"]},set edit(t){this.state.edit=!!t},get edit(){return!!this.state.edit},get omero_cookie(){return function(t,e){return e.then((function(e){return fetch("https://omero.hms.harvard.edu/api/v0/token/",{mode:"no-cors"}).then((function(n){return fetch("https://omero.hms.harvard.edu/api/v0/login/",{method:"POST",body:JSON.stringify({csrfmiddlewaretoken:n.data,username:t,password:e,server:1})}).then((function(t){return"csrftoken="+n.data+";sessionid="+t.eventContext.sessionUuid+";"}))}))}))}("jth30",new Promise((function(t,e){$("#password_modal").modal("show"),$("#password_modal").find("form").submit((function(e){$("#password_modal").find("form").off(),$(this).closest(".modal").modal("hide");const n=parseForm(e.target).p;return t(n),!1}))})))},get token(){const t=new Promise((function(t,e){t("MEETING@lsp2")}));return vl("john_hoffer@hms.harvard.edu",t)},get drawType(){return this.state.drawType},set drawType(t){this.state.drawType=t},get drawing(){return this.state.drawing},set drawing(t){const e=parseInt(t,10);this.state.drawing=yl(e,3)},get v(){return this.state.v},set v(t){this.state.v=t.map(parseFloat)},get a(){return this.state.a},set a(t){this.state.a=t.map(parseFloat)},get m(){const t=this.state.m;return 0==this.masks.length?[-1]:t},set m(t){Array.isArray(t)?this.state.m=t.map(t=>parseInt(t,10)):this.state.m=[-1]},get g(){const t=this.state.g;return t<this.cgs.length?t:0},set g(t){const e=parseInt(t,10),n=this.cgs.length;this.state.g=yl(e,n)},get w(){const t=this.state.w[this.s]||0;return t<this.waypoints.length?t:0},set w(t){const e=parseInt(t,10),n=this.waypoints.length;this.state.w[this.s]=yl(e,n);const r=this.waypoint;this.m=_l(r,this.masks),this.g=Cl(r,this.cgs),this.v=Al(r),"tag"==this.waypoint.Mode?(this.o=Tl(r),this.a=xl(r)):(this.o=[-100,-100,1,1],this.a=[-100,-100]),this.p=Sl(r),this.d=bl(r),this.n=wl(r)},get s(){const t=this.state.s;return t<this.stories.length?t:0},set s(t){const e=parseInt(t,10),n=this.stories.length;this.state.s=yl(e,n),this.w=this.w},get o(){return this.state.o},set o(t){this.state.o=t.map(parseFloat)},get p(){return Ml(this.state.p)},set p(t){this.state.p=function(t){var e=ml.a.decompressFromEncodedURIComponent(t);if(!e)return[];var n=[],r=[];e.split(",").forEach((function(t,e){e%2==0?n.push(parseFloat(t)):r.push(parseFloat(t))}));var i=[];return n.length==r.length&&n.forEach((function(t,e){i.push({x:t,y:r[e]})})),i}(t)},get d(){return this.state.description},set d(t){this.state.description=""+t},get n(){return this.state.name},set n(t){this.state.name=""+t},get changed(){return this.state.changed},set changed(t){this.state.changed=!!t},get design(){return this.state.design},set design(t){const e=t.stories;this.stories.length!=e.length&&(this.state.w=e.map((function(t,e){return this.state.w[e]||0}),this)),this.state.design=t},get masks(){return this.design.masks||[]},set masks(t){var e=this.design;e.masks=t,this.design=e,this.changed=!0},get cgs(){return this.design.cgs||[]},set cgs(t){var e=this.design;e.cgs=t,this.design=e,this.changed=!0},get chans(){return this.design.chans||[]},set chans(t){var e=this.design;e.chans=t,this.design=e,this.changed=!0},get stories(){return this.design.stories||[]},set stories(t){var e=this.design;e.stories=t,this.design=e,this.changed=!0},get layout(){return this.design.layout||{Grid:[]}},set layout(t){var e=this.design;e.layout=t,this.design=e,this.changed=!0},get images(){return this.design.images||[]},set images(t){var e=this.design;e.images=t,this.design=e,this.changed=!0},get grid(){return ll(this.layout,this.images,"Grid")},get target(){return ll(this.layout,this.images,"Target")},get currentCount(){const t=this.s,e=this.w;return this.stories.reduce((function(n,r,i){return t==i?n+e:t>i?n+r.Waypoints.length:n}),1)},get totalCount(){return this.stories.reduce((function(t,e){return t+e.Waypoints.length}),0)},get isSharedLink(){const t=this.hash.hasOwnProperty("d"),e=!this.hash.hasOwnProperty("s"),n=0==this.stories.filter(t=>"tag"==t.Mode).length;return t&&(e||n)},get isMissingHash(){const t=!this.hash.hasOwnProperty("s");return!this.isSharedLink&&t},get story(){return this.stories[this.s]},set story(t){const e=this.stories;e[this.s]=t,this.stories=e},get active_masks(){const t=this.masks;return this.m.map((function(e){return t[e]})).filter(t=>null!=t)},get group(){return this.cgs[this.g]},get colors(){return this.group.Colors.concat(this.active_masks.reduce((t,e)=>t.concat(e.Colors||[]),[]))},get channels(){return this.group.Channels.concat(this.active_masks.reduce((t,e)=>t.concat(e.Channels||[]),[]))},get waypoints(){return this.story.Waypoints},set waypoints(t){const e=this.story;e.Waypoints=t,this.story=e},get waypoint(){if(this.edit)return this.bufferWaypoint;var t=this.waypoints[this.w];return t.Overlays||(t.Overlays=[{x:-100,y:-100,width:1,height:1}]),t},set waypoint(t){if(this.edit)this.bufferWaypoint=t;else{const e=this.waypoints;e[this.w]=t,this.waypoints=e}},get viewport(){const t=this.v;return{scale:t[0],pan:new OpenSeadragon.Point(t[1],t[2])}},get overlay(){const t=this.o;return{x:t[0],y:t[1],width:t[2],height:t[3]}},newExhibit:function(){const t=this.exhibit,e=t.Groups||[],n=t.Masks||[];var r=t.Stories||[];r=r.map(t=>(t.Waypoints=t.Waypoints.map(t=>(null!=t.Overlay&&(t.Overlays=[t.Overlay]),t)),t)),this.design={chans:t.Channels||[],layout:t.Layout||{},images:t.Images||[],header:t.Header||"",footer:t.Footer||"",is3d:t["3D"]||!1,z_scale:t.ZPerMicron||0,default_group:t.DefaultGroup||"",stories:r,masks:n,cgs:e};const i=this.newTempStory("outline");this.stories=[i].concat(this.stories);const a=this.newTempStory("explore");this.stories=this.stories.concat([a])},newTempStory:function(t){this.exhibit;const e=this.group,n=this.a,r=this.o,i=this.p,a=this.v,o=this.design.header,s="outline"==t?rl(o):this.d,c={explore:"Free Explore",tag:"Shared Link",outline:"Introduction"}[t],u={}[t],f={explore:this.masks.filter(t=>t.Name).map(t=>t.Name)}[t],l={tag:this.active_masks.filter(t=>t.Name).map(t=>t.Name)}[t];return{Mode:t,Description:"",Name:c||"Story",Waypoints:[nl({Mode:t,Zoom:a[0],Arrows:[{Point:n}],Polygon:i,Pan:a.slice(1),ActiveMasks:l,Group:e.Name,Masks:f,Groups:u,Description:il(s),Name:c||"Waypoint",Overlays:[{x:r[0],y:r[1],width:r[2],height:r[3]}]})]}},pushState:function(){const t=this.makeUrl(this.hashKeys,this.searchKeys);(this.url!=t||this.changed)&&(this.embedded?history.replaceState(this.design,document.title,t):history.pushState(this.design,document.title,t),this.changed=!1)},popState:function(t){t&&t.state&&(this.changed=!1,this.design=t.state);const e=this.hash,n=this.search;this.searchKeys;if(this.searchKeys.forEach((function(t){this[t]=n[t]}),this),this.hashKeys.forEach((function(t){e.hasOwnProperty(t)&&(this[t]=e[t])}),this),this.isSharedLink){this.d=e.d;const t=this.newTempStory("tag");this.stories=this.stories.concat([t]),this.s=this.stories.length-1,this.pushState(),window.onpopstate()}else if(this.isMissingHash){this.s=0;const t=$("#welcome_modal");t.find(".channel_count")[0].innerText=this.channels.length,t.modal("show"),this.pushState(),window.onpopstate()}},makeUrl:function(t,e){const n=this.location("pathname"),r=this.makeHash(t);return n+this.makeSearch(e)+r},makeHash:function(t){const e=El(t,this,"#");return e?"#"+e:""},makeSearch:function(t){const e=El(t,this,"&");return e?"?"+e:""},startEditing:function(t){const e=t||this.bufferWaypoint;this.bufferWaypoint=e,this.v=Al(e),this.o=Tl(e),this.p=Sl(e),this.d=bl(e),this.n=wl(e),this.a=xl(e),this.m=_l(e,this.masks),this.g=Cl(e,this.cgs)},finishEditing:function(){const t=this.bufferWaypoint;t.Group=this.group.Name,t.Name=il(this.n),t.Description=il(this.d),t.Zoom=this.viewport.scale,t.Overlays=[this.overlay],t.ActiveMasks=this.active_masks.map(t=>t.Name),t.Arrows[0].Point=this.a,t.Polygon=this.p,t.Pan=[this.viewport.pan.x,this.viewport.pan.y],this.bufferWaypoint=t,this.pushState(),window.onpopstate()},startDrawing:function(){this.drawing=1;this.waypoint;"lasso"==this.drawType?this.p=Ml([]):"arrow"==this.drawType?this.a=[-100,-100]:this.o=[-100,-100,1,1]},cancelDrawing:function(){this.drawing=0},finishDrawing:function(){this.edit?(this.drawing=0,this.finishEditing(),this.startEditing(),this.pushState()):$("#edit_description_modal").modal("show")},get allArrows(){return this.stories.reduce((t,e,n)=>t.concat(e.Waypoints.reduce((t,e,r)=>{const i=(this.stories[n].Waypoints[r].Arrows||[]).map((t,e)=>["waypoint-arrow",n,r,e]).concat([["user-arrow",n,r,0]]);return t.concat(i)},[])),[])},get allOverlays(){return this.stories.reduce((t,e,n)=>t.concat(e.Waypoints.reduce((t,e,r)=>{const i=(this.stories[n].Waypoints[r].Overlays||[]).map((t,e)=>["waypoint-overlay",n,r,e]).concat([["user-overlay",n,r,0]]);return t.concat(i)},[])),[])},channelSettings:function(t){const e=this.chans;return null==t?{}:t.reduce((function(t,n){const r=Il(e,n);return r>=0&&(t[n]=e[r]),t}),{})},get bufferYaml(){const t=this.viewport,e=this.waypoint;e.Overlays=[this.overlay],e.Name=il(this.n),e.Description=il(this.d);const n=this;return e.ActiveMasks=this.m.filter((function(t){return t>=0})).map((function(t){return n.masks[t].Name})),e.Group=this.cgs[this.g].Name,e.Pan=[t.pan.x,t.pan.y],e.Zoom=t.scale,jsyaml.safeDump([[[e]]],{lineWidth:40,noCompatMode:!0}).replace("- - - ","    - ")}};const Dl=function(t,e){return"minerva"==e.Provider?t.token.then((function(t){return{"Content-Type":"application/json",Authorization:t,Accept:"image/png"}})):(e.Provider,Promise.resolve({}))},Pl=function(t,e,n){const r=e.Colors,i=e.Channels,a=function(n,r,i){const a="."+e.Format;return t.Path+"/"+e.Path+"/"+(t.MaxLevel-n)+"_"+r+"_"+i+a};if("minerva"==t.Provider){let a=i.reduce((function(e,i,a){const o=n[i];if(null==o)return e;if(o.Images.indexOf(t.Name)>=0){const t=[o.Index,r[a],o.Range[0],o.Range[1]];e.push(t.join(","))}return e}),[]).join("/"),o=t.Path+"/render-tile/";return t.Path.includes("/prerendered-tile/")&&(a=e.Path,o=t.Path),function(e,n,r){const i=t.MaxLevel-e+"/";return o+(n+"/"+r+"/0/0/")+i+a}}if("omero"==t.Provider){const e=i.reduce((function(e,i,a){const o=n[i];if(null==o)return e;if(o.Images.indexOf(t.Name)>=0){const t=o.Index,n=r[a],i=Math.round(65535*o.Range[0]),s=Math.round(65535*o.Range[1]);e.push(t+"|"+i+":"+s+"$"+n)}return e}),[]).join(",");return function(n,r,i){return t.Path+"?c="+e+"&m=c&z=1&t=1&format=jpeg&tile="+(t.MaxLevel-n+","+r+","+i+",")+t.TileSize.join(",")}}return a},Il=function(t,e){if(!Array.isArray(t))return-1;const n=t.filter((function(t){return t.Name==e}))[0];return t.indexOf(n)},Nl=function(t,e){if(!Array.isArray(t))return-1;const n=t.filter((function(t){return!!t.Name.match(e)}))[0];return t.indexOf(n)};var Rl=0,Bl=function(t){if(++Rl%5!=1)return;const e=this.viewer;var n=t.position,r=e.viewport.pointFromPixel(n);this.hashstate.state.p.push({x:r.x,y:r.y}),this.newView(!1)};const Fl=function(t,e,n){["centerSpringX","centerSpringY","zoomSpring"].forEach((function(r){const i=t.viewport[r];i.animationTime=e,i.springStiffness=n,i.springTo(i.target.value)}))},Ol=function(t,e,n,r){this.svg_overlay=Je(e.svgOverlay().node()),this.tileSources=n,this.hashstate=t,this.viewer=e,this.mouseEvent={},this.trackers=[],this.eventHandler=r,this.init()};Ol.prototype={get mouseXY(){const t=this.mouseEvent,e=OpenSeadragon.getMousePosition(t);return this.normalize(e)},set mouseXY(t){this.mouseEvent=t},init:function(){const t=this.viewer,e=this.hashstate,n=this;new OpenSeadragon.MouseTracker({element:t.canvas,dragHandler:function(r){"lasso"==e.drawType&&e.drawing&&(t.setMouseNavEnabled(!1),Bl.bind(n)(r))}}),new OpenSeadragon.MouseTracker({element:t.canvas,dragEndHandler:function(n){"lasso"==e.drawType&&e.drawing&&e.finishDrawing(),t.setMouseNavEnabled(!0)}});this.viewer.addHandler("canvas-drag",(function(t){const e=t.userData,n=e.hashstate;if("box"!=n.drawType)return;const r=e.normalize(t.position);1==n.drawing?(n.drawing=2,t.preventDefaultAction=!0,e.drawLowerBounds(r)):2==n.drawing&&(t.preventDefaultAction=!0,e.drawUpperBounds(r))}),this),this.viewer.addHandler("canvas-drag-end",(function(t){const e=t.userData,n=e.hashstate;if("box"!=n.drawType)return;const r=e.normalize(t.position);2==n.drawing&&(t.preventDefaultAction=!0,e.drawUpperBounds(r),n.finishDrawing(),n.pushState(),e.newView(!1))}),this),this.viewer.addHandler("canvas-click",(function(t){const e=t.userData,n=e.hashstate,r=e.normalize(t.position);var i=e.viewer.viewport.viewportToImageCoordinates(r.x,r.y);e.eventHandler.trigger(e.eventHandler.events.osdClickEvent,{x:i.x,y:i.y}),"lasso"!=n.drawType&&("arrow"!=n.drawType?1==n.drawing?(n.drawing=2,t.preventDefaultAction=!0,e.drawLowerBounds(r)):2==n.drawing&&(t.preventDefaultAction=!0,e.drawUpperBounds(r),n.finishDrawing(),e.viewer.setMouseNavEnabled(!0),n.pushState(),e.newView(!1)):1==n.drawing&&(n.a=[r.x,r.y],n.finishDrawing(),e.viewer.setMouseNavEnabled(!0),n.pushState(),e.newView(!1)))}),this),$(this.viewer.element).mousemove(this,(function(t){const e=t.data,n=e.hashstate;"lasso"!=n.drawType&&(e.mouseXY=t,2==n.drawing&&e.drawUpperBounds(e.mouseXY))})),this.viewer.addHandler("animation",(function(t){const e=t.userData,n=e.hashstate,r=e.viewer.viewport.getZoom(),i=e.viewer.viewport.getCenter();n.v=[el(r),el(i.x),el(i.y)]}),this),this.viewer.addHandler("animation-finish",(function(t){const e=t.userData,n=e.hashstate,r=e.viewer.viewport.getZoom(),i=e.viewer.viewport.getCenter();n.v=[el(r),el(i.x),el(i.y)],n.pushState(),e.newView(!1),e.faster()}),this),this.finishAnimation(),this.viewer.setVisible(!0)},finishAnimation:function(){const t=this.viewer.viewport.getBounds();this.viewer.viewport.fitBounds(t,!0)},faster:function(){Fl(this.viewer,1.2,6.4)},slower:function(){Fl(this.viewer,3.2,6.4)},normalize:function(t){const e=this.viewer.viewport;return e.viewerElementToViewportCoordinates.call(e,t)},drawLowerBounds:function(t){const e=this.hashstate,n=[t.x,t.y];e.o=n.concat([0,0]),this.newView(!1)},computeBounds:function(t,e,n){return t<e+n/2?{start:t,range:e+n-t}:{start:e,range:t-e}},drawUpperBounds:function(t){const e=this.hashstate,n=e.o.slice(0,2),r=e.o.slice(2),i=this.computeBounds(t.x,n[0],r[0]),a=this.computeBounds(t.y,n[1],r[1]),o=[i.start,a.start,i.range,a.range];e.o=o.map(el),this.newView(!1)},newView:function(t){const e=this.hashstate;this.trackers.forEach(t=>t.destroy()),this.trackers=[],this.addPolygon("selection",e.state.p),e.allOverlays.forEach((function(t){const[n,r,i,a]=t;var o=e.overlay;"waypoint-overlay"==n&&(o=e.stories[r].Waypoints[i].Overlays[a]);var s=t.join("-");this.addOverlay(o,s,r,i)}),this);const n=this;$.each($(".arrow-overlay"),(function(t,e){const r=n.viewer.getOverlayById(e.id),i=new OpenSeadragon.Point(-100,-100);r&&r.update({location:i})})),e.allArrows.forEach((function(t){this.addArrow(t)}),this),t&&(this.activateViewport(),function(t,e,n){const r=n.map(t=>t.Path);Object.keys(t).forEach(n=>{n===e.Path||r.includes(n)?t[n].forEach(t=>t.setOpacity(1)):t[n].forEach(t=>t.setOpacity(0))})}(this.tileSources,e.group,e.active_masks)),this.viewer.forceRedraw()},addPolygon:function(t,e){var n=this.svg_overlay;Je("#"+t).remove(),n.selectAll(t).data([e]).enter().append("polygon").attr("id",t).attr("points",(function(t){return t.map((function(t){return[t.x,t.y].join(",")})).join(" ")}))},addArrow:function(t){const[e,n,r,i]=t,a=this.hashstate;var o={Point:a.a,Text:""};"waypoint-arrow"==e&&(o=Object.assign({},a.stories[n].Waypoints[r].Arrows[i])),null==o.Angle&&(o.Angle=60);const s=o.Arrowhead?"arrowhead-image":"arrow-image",c="arrow-text-"+t.join("-"),u="arrow-image-"+t.join("-");n==a.s&&r==a.w||(o.Point=[-100,-100]);const f=this.viewer.getOverlayById(u),l=new OpenSeadragon.Point(o.Point[0],o.Point[1]);if(f)f.update({location:l});else{if(u!=s){const t=document.getElementById(s).cloneNode(!0);t.id=u,document.body.appendChild(t)}this.viewer.addOverlay({x:o.Point[0],y:o.Point[1],element:u,placement:OpenSeadragon.Placement.CENTER})}const h=this.viewer.getOverlayById(c),d=new OpenSeadragon.Point(o.Point[0],o.Point[1]);if(h)h.update({location:d});else{if("arrow-text"!=c){const t=document.getElementById("arrow-text").cloneNode(!0);t.id=c,document.body.appendChild(t)}this.viewer.addOverlay({x:o.Point[0],y:o.Point[1],element:c,placement:OpenSeadragon.Placement.CENTER})}const p=$("#"+u),g=$("#"+u+" svg"),m=$("#"+c),v=$("#"+c+" .arrow-label"),y=g[0].getAttribute("width")/2,b=y*Math.sin(o.Angle*Math.PI/180),w=y*Math.cos(o.Angle*Math.PI/180);1==o.HideArrow?p.css("display","none"):(p.css("display","block"),g[0].setAttribute("transform","translate("+w+","+b+")rotate("+o.Angle+")"),v.css("top","100px"));const _=o.Text;if(_){const t=m.width(),e=m.height();var x=2*w+t*Math.sign(Math.round(w))/2,C=2*b+e*Math.sign(Math.round(b))/2;1==o.HideArrow&&(x=0,C=0),v.css("transform","translate("+x+"px, "+C+"px)"),v.addClass("p-3"),v.text(_)}else v.removeClass("p-3"),v.text("")},addOverlay:function(t,e,n,r){const i=this.viewer.getOverlayById(e),a=this.hashstate,o="outline"!=a.waypoint.Mode,s=a.s!=n||a.w!=r;if(o&&s){if(i){const t=new OpenSeadragon.Point(-100,-100);i.update({location:t,width:1,height:1})}return}var c=document.getElementById(e);c||((c=document.createElement("div")).className="white overlay",c.id=e,document.getElementById("all-overlays").appendChild(c));const u=new OpenSeadragon.Point(t.x,t.y),f=a.drawing&&"box"==a.drawType;ul("#"+e,f),i?i.update({location:u,width:t.width,height:t.height}):this.viewer.addOverlay({x:t.x,y:t.y,width:t.width,height:t.height,element:e});if("outline"==a.waypoint.Mode){const t=new OpenSeadragon.MouseTracker({element:document.getElementById(e),moveHandler:function(t){$(c).css("cursor","pointer")},clickHandler:function(t){const[n,r]=e.split("-").slice(2);t.preventDefaultAction=!1,a.s=n,a.w=r,a.pushState(),window.onpopstate()}.bind(this)});this.trackers.push(t)}},activateViewport:function(){const t=this.hashstate,e=this.viewer.viewport;e.panTo(t.viewport.pan),e.zoomTo(t.viewport.scale)}};const Ll=function(t){return t.reduce((function(t,e){return t.concat(e)}))},Vl=function(t,e,n,r){const i=n.cgs,a=n.masks;i.forEach(t=>{t.Format=t.Format||"jpg"}),a.forEach(t=>{t.Format=t.Format||"png"});const o=i.concat(a),s=n.grid,c=n.images;document.getElementById("imageName").innerText=1==c.length?c[0].Description:exhibit.Name;const u=s.length,f=s[0].length,l=u*f*o.length;var h=0;const d=Ll(s).reduce((function(t,e){return Math.max(t,e.Width)}),0),p=Ll(s).reduce((function(t,e){return Math.max(t,e.Height)}),0),g=1.05/u-.05,m=g*d/p;for(var v=0;v<u;v++){const i=v*(g+.05);for(var y=0;y<f;y++){const a=s[v][y],c=(1-.05*(u-1))/u*a.Height/p*a.Width/a.Height,f=y*(m+.05)+(m-c)/2;for(var b=0;b<o.length;b++){const s=o[b],u=n.channelSettings(s.Channels);Dl(n,a).then((function(o){const d="minerva"==a.Provider;t.addTiledImage({loadTilesWithAjax:d,crossOriginPolicy:d?"Anonymous":void 0,ajaxHeaders:o,tileSource:{height:a.Height,width:a.Width,maxLevel:a.MaxLevel,tileWidth:a.TileSize.slice(0,1).pop(),tileHeight:a.TileSize.slice(0,2).pop(),getTileUrl:Pl(a,s,u)},x:f,y:i,opacity:0,width:c,success:function(i){const a=i.item;if(e.hasOwnProperty(s.Path)||(e[s.Path]=[]),e[s.Path].push(a),n.design.is3d){const e=t.world.getIndexOfItem(a);a.addHandler("fully-loaded-change",(function(n){const r=t.world.getItemAt(e+1),i=t.world.getItemAt(e-1);r&&r.setPreload(n.fullyLoaded),i&&i.setPreload(n.fullyLoaded)}))}(h+=1)==l&&r()}})}))}const d=$("<p>"),g=a.Description;d.addClass("overlay-title").text(g),t.addOverlay({element:d[0],x:f+c/2,y:i,placement:"BOTTOM",checkResize:!1}),t.addOverlay({x:f,y:i,width:c,height:a.Height/a.Width*c,className:"slide-border"})}}};var zl={build_page:function(t,e){const n=OpenSeadragon({id:"openseadragon1",prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/2.3.1/images/",navigatorPosition:"BOTTOM_RIGHT",zoomOutButton:"zoom-out",zoomInButton:"zoom-in",immediateRender:!0,maxZoomPixelRatio:10,visibilityRatio:.9});n.world.addHandler("add-item",(function(t){const e=t.item;e.addHandler("fully-loaded-change",(function(t){t.fullyLoaded&&(e.immediateRender=!1)})),e.addHandler("opacity-change",(function(t){0==t.opacity&&(e.immediateRender=!0)}))})),n.scalebar({location:3,minWidth:"100px",type:"Microscopy",stayInsideImage:!1,pixelsPerMeter:1e6*t.PixelsPerMicron||0,backgroundColor:"rgba(0, 0, 0, 0.8)",fontColor:"rgb(255, 255, 255)",color:"rgb(255, 255, 255)"});const r=new i(Je("body").node()),a=new Ul(t,e),o={},s=new Ol(a,n,o,r),c=new pl(a,s,r),u=c.init.bind(c);Vl(n,o,a,u)},get_links_alias:function(t){t=t.map((function(t){return t["\ufeffString"]&&(t.String=t["\ufeffString"]),t}));const e=new Map;t.filter(t=>t.Alias).forEach((function(t){t.Alias.split(",").forEach((function(n){e.set(r(n),r(t.String))}))}));const n=new Map;return t.filter(t=>t.Link).forEach((function(t){if(t.Alias){const e=t.Alias.split(",").map(r),i=e.reduce((n,i)=>{const a=RegExp("^"+i+"$","gi");if(r(t.String).match(a))return n.concat([i]);for(var o in e){var s=e[o];if(s.match(a)&&s!=i&&!n.includes(s))return n.concat([i])}return n},[]);e.filter(t=>!i.includes(t)).forEach((function(e){n.set(e,r(t.Link))}))}n.set(r(t.String),r(t.Link))})),[n,e]}};e.default={build_page:zl.build_page,get_links_alias:zl.get_links_alias}}]);
    </script>
    <script>
        const speech_bucket = "www.cycif.org";
        const exhibit = {"Name":"Day 1028, L3 - Jejunum","Images":[{"Name":"i0","Description":"Day 1028, L3 - Jejunum","Path":"https://s3.amazonaws.com/www.cycif.org/liu-2019/P4","Width":8849,"Height":7455,"MaxLevel":4}],"Layout":{"Grid":[["i0"]]},"Groups":[{"Channels":["S100","CD45","aSMA","DNA"],"Colors":["ff0000","00ff00","ffffff","0000ff"],"Name":"Architecure","Path":"Architecure_9__S100--14__CD45--11__aSMA--8__DNA"},{"Channels":["FOXP3","CD4","CD8","HLA-A"],"Colors":["ffffff","00ff00","ff0000","0000ff"],"Name":"T Cell Infiltrate","Path":"T-Cell-Infiltrate_34__FOXP3--13__CD4--15__CD8--19__HLA-A"},{"Channels":["pRB","Ki-67","p-ERK","DNA"],"Colors":["ff0000","00ff00","00ffff","0000ff"],"Name":"Proliferation","Path":"Proliferation_30__pRB--22__Ki-67--21__p-ERK--8__DNA"},{"Channels":["MITF","NGFR","CD45","aSMA","DNA"],"Colors":["00ff00","ff0000","00ffff","ffffff","0000ff"],"Name":"Differentiation State","Path":"Differentiation-State_17__MITF--31__NGFR--14__CD45--11__aSMA--8__DNA"}],"Stories":[{"Name":"Overview","Description":null,"Waypoints":[{"Zoom":0.5,"Pan":[0.593494299128,0.5],"Group":"Architecure","Name":"The Waypoint","Description":"Lineage 3 - 1028 days after treatment.<br />Jejunum\n\n#### tCyCIF image from:\n\nLiu et al, 2019 submitted \n","Overlay":{"x":-100,"y":-100,"width":200,"height":200}}]},{"Name":"About","Description":null,"Waypoints":[{"Zoom":1.1574,"Pan":[0.5196,0.6926],"Group":"Architecure","Description":"Immune cells (`CD45`+) can be clearly  delineated from tumor cells (`S100` +)  and stroma (`aSMA`). ","Name":"Figure 3a, left panel","Overlay":{"x":0.4236,"y":0.591,"width":0.2262,"height":0.1913}},{"Zoom":2,"Pan":[0.5397,0.6802],"Group":"Differentiation State","Description":"In `S100`+ tumor cells, distinct tumor  subtypes including `MITF`-High versus  `NGFR`-High cell populations are  identified. The `MITF` and `NGFR` CyCIF  signals are false-colored with red and  yellow, respectively.  ","Name":"Figure 3a, left panel (cont.)","Overlay":{"x":0.4236,"y":0.591,"width":0.2262,"height":0.1913}}]}]};
        const marker_data = [{"﻿String":"ARL13B","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=ARL13B&keywords=ARL13B"},{"﻿String":"ASMA","Alias":"A-SMA, a-SMA, alpha-SMA, α-SMA","Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=ACTA2&keywords=alpha,smooth,muscle,actin"},{"﻿String":"BANF1","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=BANF1&keywords=BANF1"},{"﻿String":"CD11B","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=ITGAM&keywords=CD11B"},{"﻿String":"CD14","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD14&keywords=CD14"},{"﻿String":"CD163","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD163&keywords=CD163"},{"﻿String":"CD19","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD19&keywords=CD19"},{"﻿String":"CD20","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=MS4A1&keywords=CD20"},{"﻿String":"CD21","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CR2&keywords=CD21"},{"﻿String":"CD3D","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD3D&keywords=CD3D"},{"﻿String":"CD4","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD4&keywords=CD4"},{"﻿String":"CD45","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=PTPRC&keywords=CD45"},{"﻿String":"CD45RB","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=PTPRC&keywords=CD45RB"},{"﻿String":"CD68","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD68&keywords=CD68"},{"﻿String":"CD8A","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD8A&keywords=CD8A"},{"﻿String":"FOXP3","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=FOXP3&keywords=FOXP3"},{"﻿String":"GFAP","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=GFAP&keywords=GFAP"},{"﻿String":"GTUBULIN","Alias":"gamma-tubulin","Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=TUBG1&keywords=gamma,tubulin"},{"﻿String":"IBA1","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=AIF1&keywords=IBA1"},{"﻿String":"KERATIN","Alias":"pan-cytokeratin, pan-keratin","Link":"https://www.genecards.org/Search/Keyword?queryString=KERATIN"},{"﻿String":"KI67","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=MKI67&keywords=KI67"},{"﻿String":"LAG3","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=LAG3&keywords=LAG3"},{"﻿String":"LAMINAC","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=LMNA&keywords=LAMIN,AC"},{"﻿String":"LAMINB","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=LMNB1&keywords=LAMINB"},{"﻿String":"PD-1","Alias":"PD1","Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=PDCD1&keywords=PD-1"},{"﻿String":"PD-L1","Alias":"PDL1","Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD274&keywords=PD-L1"},{"﻿String":"CD19","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD19&keywords=CD19"},{"﻿String":"CD14","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD14&keywords=CD11c"},{"﻿String":"CD56","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=NCAM1&keywords=CD56"},{"﻿String":"CD34","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD34&keywords=CD34"},{"﻿String":"CD44","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD44&keywords=CD34"},{"﻿String":"CD14","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD14&keywords=CD14"},{"﻿String":"CD33","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD33&keywords=CD33"},{"﻿String":"CD41","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=ITGA2B&keywords=CD41"},{"﻿String":"CD61","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=ITGB3&keywords=CD61"},{"﻿String":"CD62","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=SELP&keywords=CD62"},{"﻿String":"CD146","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=MCAM&keywords=CD146"},{"﻿String":"CD1d","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD1D&keywords=CD1d"},{"﻿String":"CD2","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD2&keywords=CD2"},{"﻿String":"CD5","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD5&keywords=cd5"},{"﻿String":"CD7","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD7&keywords=CD7"},{"﻿String":"CD9","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD9&keywords=CD9"},{"﻿String":"CD10","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=MME&keywords=CD10"},{"﻿String":"CD11A","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=ITGAL&keywords=CD11A"},{"﻿String":"CD70","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD70&keywords=CD70"},{"﻿String":"CD74","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=CD74&keywords=CD74"},{"﻿String":"CD103","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=ITGAE&keywords=CD103"},{"﻿String":"CD133","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=PROM1&keywords=CD133"},{"﻿String":"CD168","Alias":null,"Link":"https://www.genecards.org/cgi-bin/carddisp.pl?gene=HMMR&keywords=CD168"}];
        const cell_type_data = [{"﻿String":"Natural Killer Cells","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/c%C3%A9lulas/natural-killer-cells"},{"﻿String":"B Cells","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/cells/b-cells"},{"﻿String":"Basophil","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/c%C3%A9lulas/basophils"},{"﻿String":"Helper T cell","Alias":"CD4+ T Cell","Link":"https://www.immunology.org/public-information/bitesized-immunology/células/cd4-t-cells"},{"﻿String":"Cytotoxic T Cell","Alias":"CD8+ T Cell","Link":"https://www.immunology.org/public-information/bitesized-immunology/c%C3%A9lulas/cd8-t-cells"},{"﻿String":"Dendritic Cell","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/cells/dendritic-cells"},{"﻿String":"Eosinophils","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/c%C3%A9lulas/eosinophils"},{"﻿String":"Macrophage","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/c%C3%A9lulas/macrophages"},{"﻿String":"Mast Cell","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/c%C3%A9lulas/mast-cells"},{"﻿String":"Neutrophil","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/cells/neutrophils"},{"﻿String":"Regulatory T Cell","Alias":"Treg","Link":"https://www.immunology.org/public-information/bitesized-immunology/células/regulatory-t-cells-tregs"},{"﻿String":"T follicular helper cell","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/cells/t-follicular-helper-cells"},{"﻿String":"bone marrow","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/%C3%B3rganos-y-tejidos/bone-marrow"},{"﻿String":"lymph node","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/organs-and-tissues/lymph-node"},{"﻿String":"complement system","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/sistemas-y-procesos/complement-system"},{"﻿String":"phagocytosis","Alias":null,"Link":"https://www.immunology.org/public-information/bitesized-immunology/systems-and-processes/phagocytosis"}];
        const get_links_alias = MinervaStory.default.get_links_alias;

        [marker_links_map, marker_alias_map] = get_links_alias(marker_data);
        [cell_type_links_map, cell_type_alias_map] = get_links_alias(cell_type_data);

        window.viewer = MinervaStory.default.build_page(exhibit, {
          embedded: true
        });
    </script>
    <script>
        const makeTwinViewer = function(e) {
            var youngerWindow = window.open(window.location.href);
            var viewer1 = window.viewer;
            var viewer2;
            youngerWindow.addEventListener('DOMContentLoaded', (e) => {
                viewer2 = youngerWindow.viewer;
                console.log(youngerWindow.viewer);
                var viewer1Leading = false;
                var viewer2Leading = false;

                var viewer1Handler = function() {
                if (viewer2Leading) {
                    return;
                }

                viewer1Leading = true;
                viewer2.viewport.zoomTo(viewer1.viewport.getZoom());
                viewer2.viewport.panTo(viewer1.viewport.getCenter());
                viewer1Leading = false;
                };

                var viewer2Handler = function() {
                if (viewer1Leading) {
                    return;
                }

                viewer2Leading = true;
                viewer1.viewport.zoomTo(viewer2.viewport.getZoom());
                viewer1.viewport.panTo(viewer2.viewport.getCenter());
                viewer2Leading = false;
                };

                viewer1.addHandler('zoom', viewer1Handler);
                viewer2.addHandler('zoom', viewer2Handler);
                viewer1.addHandler('pan', viewer1Handler);
                viewer2.addHandler('pan', viewer2Handler);
            });
        };
        const duplicateViewButton = document.querySelector('#duplicate-view');
        duplicateViewButton.onclick = makeTwinViewer;
    </script>

<script>
        $('#story-board').on('hidden.bs.collapse', function() { 
            $('#js-story-collapse-indicator')[0].innerHTML = '<span class="px-2">SHOW MORE</span> <i class="fas fa-chevron-down"></i>'
        });
        $('#story-board').on('shown.bs.collapse', function() { 
            $('#js-story-collapse-indicator')[0].innerHTML = '<span class="px-2">SHOW LESS</span> <i class="fas fa-chevron-up"></i>'
        });
        
        
            // $('#scroll-bottom')
            //     .click(function(event) {
            //         event.preventDefault();
            //         $('aside').animate({
            //             scrollTop: $(window).height() * 0.65
            //         }, 500, "swing", function() {
            //             $('#scroll-bottom').addClass('d-none')
            //             Callback after animation
            //             Must change focus!
            //             var $target = $(target);
            //             $target.focus();
            //             if ($target.is(":focus")) { // Checking if the target was focused
            //                 return false;
            //             } else {
            //                 $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable
            //                 $target.focus(); // Set focus again
            //             };
            //         });
            //     });

        // $(document).ready(function() {
        //     $('#osd-side-nav').scrollTop(0);
        //     topAnchor = $('#story-title').position().top;

        //     var storyTitleAdded = false;
        //     $('#osd-side-nav').scroll(function() {
        //         if ($('#story-title').position().top == topAnchor && $('#story-title-sticky')[0]) {
        //             $('#story-title-sticky')[0].parentNode.removeChild($('#story-title-sticky')[0]);
        //             storyTitleAdded = false;
        //         }
        //         if ($('#story-title').position().top < topAnchor && !storyTitleAdded) {
        //             var clNode = $('#story-title')[0].cloneNode(true);
        //             clNode.setAttribute('id', 'story-title-sticky');
        //             $('#story-title')[0].parentNode.insertBefore(clNode, $('#story-title')[0].nextSibling);
        //             $('#story-title-sticky')
        //                 .css('top', topAnchor)
        //                 .css('width', $('#story-title').width())
        //                 .addClass('border-bottom border-secondary')
        //             storyTitleAdded = true;
        //         }
        //     });
        // })

        $('.js-toggle-osd-side-nav').click(function() {
            $('#osd-side-nav').position().top == 0 
                ? $('#osd-side-nav').css('top', '75vh')
                : $('#osd-side-nav').css('top', 0);
            $('#osd-side-nav').scrollTop(0);
        })
    </script>
</body>

</html>
